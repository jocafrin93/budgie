/*! For license information please see main.a16dec26.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),o=n(950);function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(s(e)!==e)throw Error(l(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var m=Object.assign,h=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var D=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var E=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===E?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case N:return"SuspenseList";case D:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case p:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return T(e(t))}catch(n){}}return null}var M=Array.isArray,O=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},R=[],_=-1;function z(e){return{current:e}}function q(e){0>_||(e.current=R[_],R[_]=null,_--)}function B(e,t){_++,R[_]=e.current,e.current=t}var U=z(null),H=z(null),W=z(null),$=z(null);function V(e,t){switch(B(W,t),B(H,e),B(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(U),B(U,e)}function Y(){q(U),q(H),q(W)}function G(e){null!==e.memoizedState&&B($,e);var t=U.current,n=od(t,e.type);t!==n&&(B(H,e),B(U,n))}function Q(e){H.current===e&&(q(U),q(H)),$.current===e&&(q($),Gd._currentValue=L)}var K=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,le=r.unstable_LowPriority,ie=r.unstable_IdlePriority,se=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function me(e){if("function"===typeof se&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/pe|0)|0},fe=Math.log,pe=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,o=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var i=134217727&r;return 0!==i?0!==(r=i&~o)?a=ve(r):0!==(l&=i)?a=ve(l):n||0!==(n=i&~e)&&(a=ve(n)):0!==(i=r&~o)?a=ve(i):0!==l?a=ve(l):n||0!==(n=r&~e)&&(a=ve(n)),0===a?0:0!==t&&t!==a&&0===(t&o)&&((o=a&-a)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:a}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function je(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-he(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-he(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=F.p;return 0!==e?e:void 0===(e=window.event)?32:cm(e.type)}var Ee=Math.random().toString(36).slice(2),Te="__reactFiber$"+Ee,Me="__reactProps$"+Ee,Oe="__reactContainer$"+Ee,Fe="__reactEvents$"+Ee,Le="__reactListeners$"+Ee,Re="__reactHandles$"+Ee,_e="__reactResources$"+Ee,ze="__reactMarker$"+Ee;function qe(e){delete e[Te],delete e[Me],delete e[Fe],delete e[Le],delete e[Re]}function Be(e){var t=e[Te];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[Te]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Te])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Te]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function We(e){var t=e[_e];return t||(t=e[_e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[ze]=!0}var Ve=new Set,Ye={};function Ge(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ye[e]=t,e=0;e<t.length;e++)Ve.add(t[e])}var Ke,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(a=t,K.call(et,a)||!K.call(Ze,a)&&(Je.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Ke)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ke=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ke+e+Xe}var ot=!1;function lt(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(l){r=l}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(i){if(i&&r&&"string"===typeof i.stack)return[i.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),l=o[0],i=o[1];if(l&&i){var s=l.split("\n"),c=i.split("\n");for(a=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===s.length||a===c.length)for(r=s.length-1,a=c.length-1;1<=r&&0<=a&&s[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(s[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||s[r]!==c[a]){var u="\n"+s[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function it(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return lt(e.type,!1);case 11:return lt(e.type.render,!1);case 1:return lt(e.type,!0);case 31:return at("Activity");default:return""}}function st(e){try{var t="";do{t+=it(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function pt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,a,o,l,i){e.name="",null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?vt(e,l,ct(t)):null!=n?vt(e,l,ct(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=o&&(e.defaultChecked=!!o),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+ct(i):e.removeAttribute("name")}function yt(e,t,n,r,a,o,l,i){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=i?e.checked:!!r,e.defaultChecked=!!r,null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.name=l)}function vt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(l(92));if(M(r)){if(1<r.length)throw Error(l(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(l(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Nt(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Nt(e,o,t[o])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Et(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Tt=null,Mt=null;function Ot(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Me]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Me]||null;if(!a)throw Error(l(90));gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&mt(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Ft=!1;function Lt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Tt||null!==Mt)&&(Bc(),Tt&&(t=Tt,e=Mt,Mt=Tt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Rt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Me]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(l(231,t,typeof n));return n}var _t=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(_t)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Mm){zt=!1}var Bt=null,Ut=null,Ht=null;function Wt(){if(Ht)return Ht;var e,t,n=Ut,r=n.length,a="value"in Bt?Bt.value:Bt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===a[o-t];t++);return Ht=a.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Vt(){return!0}function Yt(){return!1}function Gt(e){function t(t,n,r,a,o){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Vt:Yt,this.isPropagationStopped=Yt,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vt)},persist:function(){},isPersistent:Vt}),t}var Qt,Kt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Jt),en=m({},Jt,{view:0,detail:0}),tn=Gt(en),nn=m({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,Kt=e.screenY-Xt.screenY):Kt=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Kt}}),rn=Gt(nn),an=Gt(m({},nn,{dataTransfer:0})),on=Gt(m({},en,{relatedTarget:0})),ln=Gt(m({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),sn=Gt(m({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(m({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function fn(){return hn}var pn=Gt(m({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(m({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Gt(m({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Gt(m({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(m({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Gt(m({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],kn=_t&&"CompositionEvent"in window,Sn=null;_t&&"documentMode"in document&&(Sn=document.documentMode);var Nn=_t&&"TextEvent"in window&&!Sn,jn=_t&&(!kn||Sn&&8<Sn&&11>=Sn),Cn=String.fromCharCode(32),Dn=!1;function In(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!En[e.type]:"textarea"===t}function Mn(e,t,n,r){Tt?Mt?Mt.push(r):Mt=[r]:Tt=r,0<(t=Wu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Fn=null;function Ln(e){Lu(e,0)}function Rn(e){if(mt(He(e)))return e}function _n(e,t){if("change"===e)return t}var zn=!1;if(_t){var qn;if(_t){var Bn="oninput"in document;if(!Bn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Bn="function"===typeof Un.oninput}qn=Bn}else qn=!1;zn=qn&&(!document.documentMode||9<document.documentMode)}function Hn(){On&&(On.detachEvent("onpropertychange",Wn),Fn=On=null)}function Wn(e){if("value"===e.propertyName&&Rn(Fn)){var t=[];Mn(t,Fn,e,Et(e)),Lt(Ln,t)}}function $n(e,t,n){"focusin"===e?(Hn(),Fn=n,(On=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&Hn()}function Vn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rn(Fn)}function Yn(e,t){if("click"===e)return Rn(t)}function Gn(e,t){if("input"===e||"change"===e)return Rn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Kn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!K.call(t,a)||!Qn(e[a],t[a]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=_t&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,or=null,lr=!1;function ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==rr||rr!==ht(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Kn(or,r)||(or=r,0<(r=Wu(ar,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:sr("Animation","AnimationEnd"),animationiteration:sr("Animation","AnimationIteration"),animationstart:sr("Animation","AnimationStart"),transitionrun:sr("Transition","TransitionRun"),transitionstart:sr("Transition","TransitionStart"),transitioncancel:sr("Transition","TransitionCancel"),transitionend:sr("Transition","TransitionEnd")},ur={},dr={};function mr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}_t&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var hr=mr("animationend"),fr=mr("animationiteration"),pr=mr("animationstart"),gr=mr("transitionrun"),yr=mr("transitionstart"),vr=mr("transitioncancel"),br=mr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){xr.set(e,t),Ge(t,[e])}wr.push("scrollEnd");var Sr=new WeakMap;function Nr(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:st(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:st(t)}}var jr=[],Cr=0,Dr=0;function Ir(){for(var e=Cr,t=Dr=Cr=0;t<e;){var n=jr[t];jr[t++]=null;var r=jr[t];jr[t++]=null;var a=jr[t];jr[t++]=null;var o=jr[t];if(jr[t++]=null,null!==r&&null!==a){var l=r.pending;null===l?a.next=a:(a.next=l.next,l.next=a),r.pending=a}0!==o&&Tr(n,a,o)}}function Ar(e,t,n,r){jr[Cr++]=e,jr[Cr++]=t,jr[Cr++]=n,jr[Cr++]=r,Dr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Ar(e,t,n,r),Mr(e)}function Er(e,t){return Ar(e,null,null,t),Mr(e)}function Tr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(a=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,a&&null!==t&&(a=31-he(n),null===(r=(e=o.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),o):null}function Mr(e){if(50<Tc)throw Tc=0,Mc=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Fr(e,t,n,r)}function Rr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _r(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,n,r,a,o){var i=0;if(r=e,"function"===typeof e)Rr(e)&&(i=1);else if("string"===typeof e)i=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case D:return(e=Lr(31,n,t,a)).elementType=D,e.lanes=o,e;case g:return Br(n.children,a,o,t);case y:i=8,a|=24;break;case v:return(e=Lr(12,n,t,2|a)).elementType=v,e.lanes=o,e;case S:return(e=Lr(13,n,t,a)).elementType=S,e.lanes=o,e;case N:return(e=Lr(19,n,t,a)).elementType=N,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:i=10;break e;case x:i=9;break e;case k:i=11;break e;case j:i=14;break e;case C:i=16,r=null;break e}i=29,n=Error(l(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(i,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Br(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Ur(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],$r=0,Vr=null,Yr=0,Gr=[],Qr=0,Kr=null,Xr=1,Jr="";function Zr(e,t){Wr[$r++]=Yr,Wr[$r++]=Vr,Vr=e,Yr=t}function ea(e,t,n){Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Kr,Kr=e;var r=Xr;e=Jr;var a=32-he(r)-1;r&=~(1<<a),n+=1;var o=32-he(t)+a;if(30<o){var l=a-a%5;o=(r&(1<<l)-1).toString(32),r>>=l,a-=l,Xr=1<<32-he(t)+a|n<<a|r,Jr=o+e}else Xr=1<<o|n<<a|r,Jr=e}function ta(e){null!==e.return&&(Zr(e,1),ea(e,1,0))}function na(e){for(;e===Vr;)Vr=Wr[--$r],Wr[$r]=null,Yr=Wr[--$r],Wr[$r]=null;for(;e===Kr;)Kr=Gr[--Qr],Gr[Qr]=null,Jr=Gr[--Qr],Gr[Qr]=null,Xr=Gr[--Qr],Gr[Qr]=null}var ra=null,aa=null,oa=!1,la=null,ia=!1,sa=Error(l(519));function ca(e){throw pa(Nr(Error(l(418,"")),e)),sa}function ua(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Te]=e,t[Me]=r,n){case"dialog":Ru("cancel",t),Ru("close",t);break;case"iframe":case"object":case"embed":Ru("load",t);break;case"video":case"audio":for(n=0;n<Ou.length;n++)Ru(Ou[n],t);break;case"source":Ru("error",t);break;case"img":case"image":case"link":Ru("error",t),Ru("load",t);break;case"details":Ru("toggle",t);break;case"input":Ru("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Ru("invalid",t);break;case"textarea":Ru("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Ku(t.textContent,n)?(null!=r.popover&&(Ru("beforetoggle",t),Ru("toggle",t)),null!=r.onScroll&&Ru("scroll",t),null!=r.onScrollEnd&&Ru("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||ca(e)}function da(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 13:return void(ia=!1);case 27:case 3:return void(ia=!0);default:ra=ra.return}}function ma(e){if(e!==ra)return!1;if(!oa)return da(e),oa=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ld(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),da(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){aa=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}aa=null}}else 27===n?(n=aa,hd(e.type)?(e=vd,vd=null,aa=e):aa=n):aa=ra?yd(e.stateNode.nextSibling):null;return!0}function ha(){aa=ra=null,oa=!1}function fa(){var e=la;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),la=null),e}function pa(e){null===la?la=[e]:la.push(e)}var ga=z(null),ya=null,va=null;function ba(e,t,n){B(ga,t._currentValue),t._currentValue=n}function xa(e){e._currentValue=ga.current,q(ga)}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ka(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){var i=a.child;o=o.firstContext;e:for(;null!==o;){var s=o;o=a;for(var c=0;c<t.length;c++)if(s.context===t[c]){o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),wa(o.return,n,e),r||(i=null);break e}o=s.next}}else if(18===a.tag){if(null===(i=a.return))throw Error(l(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),wa(i,n,e),i=null}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===e){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}}function Sa(e,t,n,r){e=null;for(var a=t,o=!1;null!==a;){if(!o)if(0!==(524288&a.flags))o=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var i=a.alternate;if(null===i)throw Error(l(387));if(null!==(i=i.memoizedProps)){var s=a.type;Qn(a.pendingProps.value,i.value)||(null!==e?e.push(s):e=[s])}}else if(a===$.current){if(null===(i=a.alternate))throw Error(l(387));i.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}a=a.return}null!==e&&ka(t,e,n,r),t.flags|=262144}function Na(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ja(e){ya=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ca(e){return Ia(ya,e)}function Da(e,t){return null===ya&&ja(e),Ia(e,t)}function Ia(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(l(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var Aa="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Pa=r.unstable_scheduleCallback,Ea=r.unstable_NormalPriority,Ta={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ma(){return{controller:new Aa,data:new Map,refCount:0}}function Oa(e){e.refCount--,0===e.refCount&&Pa(Ea,(function(){e.controller.abort()}))}var Fa=null,La=0,Ra=0,_a=null;function za(){if(0===--La&&null!==Fa){null!==_a&&(_a.status="fulfilled");var e=Fa;Fa=null,Ra=0,_a=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var qa=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Fa){var n=Fa=[];La=0,Ra=Au(),_a={status:"pending",value:void 0,then:function(e){n.push(e)}}}La++,t.then(za,za)}(0,t),null!==qa&&qa(e,t)};var Ba=z(null);function Ua(){var e=Ba.current;return null!==e?e:rc.pooledCache}function Ha(e,t){B(Ba,null===t?Ba.current:t.pool)}function Wa(){var e=Ua();return null===e?null:{parent:Ta._currentValue,pool:e}}var $a=Error(l(460)),Va=Error(l(474)),Ya=Error(l(542)),Ga={then:function(){}};function Qa(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ka(){}function Xa(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ka,Ka),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ka,Ka);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Ja=t,$a}}var Ja=null;function Za(){if(null===Ja)throw Error(l(459));var e=Ja;return Ja=null,e}function eo(e){if(e===$a||e===Ya)throw Error(l(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ao(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Mr(e),Tr(e,null,n),t}return Ar(e,r,t,n),Mr(e)}function lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function io(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?a=o=l:o=o.next=l,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var so=!1;function co(){if(so){if(null!==_a)throw _a}}function uo(e,t,n,r){so=!1;var a=e.updateQueue;to=!1;var o=a.firstBaseUpdate,l=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var s=i,c=s.next;s.next=null,null===l?o=c:l.next=c,l=s;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==l&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=s))}if(null!==o){var d=a.baseState;for(l=0,u=c=s=null,i=o;;){var h=-536870913&i.lane,f=h!==i.lane;if(f?(oc&h)===h:(r&h)===h){0!==h&&h===Ra&&(so=!0),null!==u&&(u=u.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var p=e,g=i;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(y,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(y,d,h):p)||void 0===h)break e;d=m({},d,h);break e;case 2:to=!0}}null!==(h=i.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=a.callbacks)?a.callbacks=[h]:f.push(h))}else f={lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=f,s=d):u=u.next=f,l|=h;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(f=i).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===u&&(s=d),a.baseState=s,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===o&&(a.shared.lanes=0),hc|=l,e.lanes=l,e.memoizedState=d}}function mo(e,t){if("function"!==typeof e)throw Error(l(191,e));e.call(t)}function ho(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)mo(n[e],t)}var fo=z(null),po=z(0);function go(e,t){B(po,e=dc),B(fo,t),dc=e|t.baseLanes}function yo(){B(po,dc),B(fo,fo.current)}function vo(){dc=po.current,q(fo),q(po)}var bo=0,xo=null,wo=null,ko=null,So=!1,No=!1,jo=!1,Co=0,Do=0,Io=null,Ao=0;function Po(){throw Error(l(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function To(e,t,n,r,a,o){return bo=o,xo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Vl:Yl,jo=!1,o=n(r,a),jo=!1,No&&(o=Oo(t,n,r,a)),Mo(e),o}function Mo(e){O.H=$l;var t=null!==wo&&null!==wo.next;if(bo=0,ko=wo=xo=null,So=!1,Do=0,Io=null,t)throw Error(l(300));null===e||Di||null!==(e=e.dependencies)&&Na(e)&&(Di=!0)}function Oo(e,t,n,r){xo=e;var a=0;do{if(No&&(Io=null),Do=0,No=!1,25<=a)throw Error(l(301));if(a+=1,ko=wo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}O.H=Gl,o=t(n,r)}while(No);return o}function Fo(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?Bo(t):t,e=e.useState()[0],(null!==wo?wo.memoizedState:null)!==e&&(xo.flags|=1024),t}function Lo(){var e=0!==Co;return Co=0,e}function Ro(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function _o(e){if(So){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}So=!1}bo=0,ko=wo=xo=null,No=!1,Do=Co=0,Io=null}function zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ko?xo.memoizedState=ko=e:ko=ko.next=e,ko}function qo(){if(null===wo){var e=xo.alternate;e=null!==e?e.memoizedState:null}else e=wo.next;var t=null===ko?xo.memoizedState:ko.next;if(null!==t)ko=t,wo=e;else{if(null===e){if(null===xo.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(wo=e).memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},null===ko?xo.memoizedState=ko=e:ko=ko.next=e}return ko}function Bo(e){var t=Do;return Do+=1,null===Io&&(Io=[]),e=Xa(Io,e,t),t=xo,null===(null===ko?t.memoizedState:ko.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Vl:Yl),e}function Uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bo(e);if(e.$$typeof===w)return Ca(e)}throw Error(l(438,String(e)))}function Ho(e){var t=null,n=xo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=xo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function Wo(e,t){return"function"===typeof t?t(e):t}function $o(e){return Vo(qo(),wo,e)}function Vo(e,t,n){var r=e.queue;if(null===r)throw Error(l(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,null===a)e.memoizedState=o;else{var s=i=null,c=null,u=t=a.next,d=!1;do{var m=-536870913&u.lane;if(m!==u.lane?(oc&m)===m:(bo&m)===m){var h=u.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),m===Ra&&(d=!0);else{if((bo&h)===h){u=u.next,h===Ra&&(d=!0);continue}m={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(s=c=m,i=o):c=c.next=m,xo.lanes|=h,hc|=h}m=u.action,jo&&n(o,m),o=u.hasEagerState?u.eagerState:n(o,m)}else h={lane:m,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(s=c=h,i=o):c=c.next=h,xo.lanes|=m,hc|=m;u=u.next}while(null!==u&&u!==t);if(null===c?i=o:c.next=s,!Qn(o,e.memoizedState)&&(Di=!0,d&&null!==(n=_a)))throw n;e.memoizedState=o,e.baseState=i,e.baseQueue=c,r.lastRenderedState=o}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Yo(e){var t=qo(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);Qn(o,t.memoizedState)||(Di=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Go(e,t,n){var r=xo,a=qo(),o=oa;if(o){if(void 0===n)throw Error(l(407));n=n()}else n=t();var i=!Qn((wo||a).memoizedState,n);if(i&&(a.memoizedState=n,Di=!0),a=a.queue,yl(2048,8,Xo.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||null!==ko&&1&ko.memoizedState.tag){if(r.flags|=2048,fl(9,{destroy:void 0,resource:void 0},Ko.bind(null,r,a,n,t),null),null===rc)throw Error(l(349));o||0!==(124&bo)||Qo(r,t,n)}return n}function Qo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ko(e,t,n,r){t.value=n,t.getSnapshot=r,Jo(t)&&Zo(e)}function Xo(e,t,n){return n((function(){Jo(t)&&Zo(e)}))}function Jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Zo(e){var t=Er(e,2);null!==t&&Lc(t,e,2)}function el(e){var t=zo();if("function"===typeof e){var n=e;if(e=n(),jo){me(!0);try{n()}finally{me(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t}function tl(e,t,n,r){return e.baseState=n,Vo(e,wo,"function"===typeof r?r:Wo)}function nl(e,t,n,r,a){if(Ul(e))throw Error(l(485));if(null!==(e=t.action)){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==O.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,rl(t,o)):(o.next=n.next,t.pending=n.next=o)}}function rl(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var o=O.T,l={};O.T=l;try{var i=n(a,r),s=O.S;null!==s&&s(l,i),al(e,t,i)}catch(c){ll(e,t,c)}finally{O.T=o}}else try{al(e,t,o=n(a,r))}catch(u){ll(e,t,u)}}function al(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){ol(e,t,n)}),(function(n){return ll(e,t,n)})):ol(e,t,n)}function ol(e,t,n){t.status="fulfilled",t.value=n,il(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,rl(e,n)))}function ll(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,il(t),t=t.next}while(t!==r)}e.action=null}function il(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sl(e,t){return t}function cl(e,t){if(oa){var n=rc.formState;if(null!==n){e:{var r=xo;if(oa){if(aa){t:{for(var a=aa,o=ia;8!==a.nodeType;){if(!o){a=null;break t}if(null===(a=yd(a.nextSibling))){a=null;break t}}a="F!"===(o=a.data)||"F"===o?a:null}if(a){aa=yd(a.nextSibling),r="F!"===a.data;break e}}ca(r)}r=!1}r&&(t=n[0])}}return(n=zo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:t},n.queue=r,n=zl.bind(null,xo,r),r.dispatch=n,r=el(!1),o=Bl.bind(null,xo,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=zo()).queue=a,n=nl.bind(null,xo,a,o,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function ul(e){return dl(qo(),wo,e)}function dl(e,t,n){if(t=Vo(e,t,sl)[0],e=$o(Wo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Bo(t)}catch(l){if(l===$a)throw Ya;throw l}else r=t;var a=(t=qo()).queue,o=a.dispatch;return n!==t.memoizedState&&(xo.flags|=2048,fl(9,{destroy:void 0,resource:void 0},ml.bind(null,a,n),null)),[r,o,e]}function ml(e,t){e.action=t}function hl(e){var t=qo(),n=wo;if(null!==n)return dl(t,n,e);qo(),t=t.memoizedState;var r=(n=qo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fl(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=xo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pl(){return qo().memoizedState}function gl(e,t,n,r){var a=zo();r=void 0===r?null:r,xo.flags|=e,a.memoizedState=fl(1|t,{destroy:void 0,resource:void 0},n,r)}function yl(e,t,n,r){var a=qo();r=void 0===r?null:r;var o=a.memoizedState.inst;null!==wo&&null!==r&&Eo(r,wo.memoizedState.deps)?a.memoizedState=fl(t,o,n,r):(xo.flags|=e,a.memoizedState=fl(1|t,o,n,r))}function vl(e,t){gl(8390656,8,e,t)}function bl(e,t){yl(2048,8,e,t)}function xl(e,t){return yl(4,2,e,t)}function wl(e,t){return yl(4,4,e,t)}function kl(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Sl(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yl(4,4,kl.bind(null,t,e),n)}function Nl(){}function jl(e,t){var n=qo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cl(e,t){var n=qo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Eo(t,r[1]))return r[0];if(r=e(),jo){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r}function Dl(e,t,n){return void 0===n||0!==(1073741824&bo)?e.memoizedState=t:(e.memoizedState=n,e=Fc(),xo.lanes|=e,hc|=e,n)}function Il(e,t,n,r){return Qn(n,t)?n:null!==fo.current?(e=Dl(e,n,r),Qn(e,t)||(Di=!0),e):0===(42&bo)?(Di=!0,e.memoizedState=n):(e=Fc(),xo.lanes|=e,hc|=e,t)}function Al(e,t,n,r,a){var o=F.p;F.p=0!==o&&8>o?o:8;var l=O.T,i={};O.T=i,Bl(e,!1,t,n);try{var s=a(),c=O.S;if(null!==c&&c(i,s),null!==s&&"object"===typeof s&&"function"===typeof s.then)ql(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(s,r),Oc());else ql(e,t,r,Oc())}catch(u){ql(e,t,{then:function(){},status:"rejected",reason:u},Oc())}finally{F.p=o,O.T=l}}function Pl(){}function El(e,t,n,r){if(5!==e.tag)throw Error(l(476));var a=Tl(e).queue;Al(e,a,t,L,null===n?Pl:function(){return Ml(e),n(r)})}function Tl(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ml(e){ql(e,Tl(e).next.queue,{},Oc())}function Ol(){return Ca(Gd)}function Fl(){return qo().memoizedState}function Ll(){return qo().memoizedState}function Rl(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),r=oo(t,e=ao(n),n);return null!==r&&(Lc(r,t,n),lo(r,t,n)),t={cache:Ma()},void(e.payload=t)}t=t.return}}function _l(e,t,n){var r=Oc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ul(e)?Hl(t,n):null!==(n=Pr(e,t,n,r))&&(Lc(n,e,r),Wl(n,t,r))}function zl(e,t,n){ql(e,t,n,Oc())}function ql(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ul(e))Hl(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=o(l,n);if(a.hasEagerState=!0,a.eagerState=i,Qn(i,l))return Ar(e,t,a,0),null===rc&&Ir(),!1}catch(s){}if(null!==(n=Pr(e,t,a,r)))return Lc(n,e,r),Wl(n,t,r),!0}return!1}function Bl(e,t,n,r){if(r={lane:2,revertLane:Au(),action:r,hasEagerState:!1,eagerState:null,next:null},Ul(e)){if(t)throw Error(l(479))}else null!==(t=Pr(e,n,r,2))&&Lc(t,e,2)}function Ul(e){var t=e.alternate;return e===xo||null!==t&&t===xo}function Hl(e,t){No=So=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wl(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var $l={readContext:Ca,use:Uo,useCallback:Po,useContext:Po,useEffect:Po,useImperativeHandle:Po,useLayoutEffect:Po,useInsertionEffect:Po,useMemo:Po,useReducer:Po,useRef:Po,useState:Po,useDebugValue:Po,useDeferredValue:Po,useTransition:Po,useSyncExternalStore:Po,useId:Po,useHostTransitionStatus:Po,useFormState:Po,useActionState:Po,useOptimistic:Po,useMemoCache:Po,useCacheRefresh:Po},Vl={readContext:Ca,use:Uo,useCallback:function(e,t){return zo().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:vl,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gl(4194308,4,kl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gl(4194308,4,e,t)},useInsertionEffect:function(e,t){gl(4,2,e,t)},useMemo:function(e,t){var n=zo();t=void 0===t?null:t;var r=e();if(jo){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=zo();if(void 0!==n){var a=n(t);if(jo){me(!0);try{n(t)}finally{me(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=_l.bind(null,xo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},zo().memoizedState=e},useState:function(e){var t=(e=el(e)).queue,n=zl.bind(null,xo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Nl,useDeferredValue:function(e,t){return Dl(zo(),e,t)},useTransition:function(){var e=el(!1);return e=Al.bind(null,xo,e.queue,!0,!1),zo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=xo,a=zo();if(oa){if(void 0===n)throw Error(l(407));n=n()}else{if(n=t(),null===rc)throw Error(l(349));0!==(124&oc)||Qo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,vl(Xo.bind(null,r,o,e),[e]),r.flags|=2048,fl(9,{destroy:void 0,resource:void 0},Ko.bind(null,r,o,n,t),null),n},useId:function(){var e=zo(),t=rc.identifierPrefix;if(oa){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-he(Xr)-1)).toString(32)+n),0<(n=Co++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ao++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ol,useFormState:cl,useActionState:cl,useOptimistic:function(e){var t=zo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bl.bind(null,xo,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ho,useCacheRefresh:function(){return zo().memoizedState=Rl.bind(null,xo)}},Yl={readContext:Ca,use:Uo,useCallback:jl,useContext:Ca,useEffect:bl,useImperativeHandle:Sl,useInsertionEffect:xl,useLayoutEffect:wl,useMemo:Cl,useReducer:$o,useRef:pl,useState:function(){return $o(Wo)},useDebugValue:Nl,useDeferredValue:function(e,t){return Il(qo(),wo.memoizedState,e,t)},useTransition:function(){var e=$o(Wo)[0],t=qo().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Go,useId:Fl,useHostTransitionStatus:Ol,useFormState:ul,useActionState:ul,useOptimistic:function(e,t){return tl(qo(),0,e,t)},useMemoCache:Ho,useCacheRefresh:Ll},Gl={readContext:Ca,use:Uo,useCallback:jl,useContext:Ca,useEffect:bl,useImperativeHandle:Sl,useInsertionEffect:xl,useLayoutEffect:wl,useMemo:Cl,useReducer:Yo,useRef:pl,useState:function(){return Yo(Wo)},useDebugValue:Nl,useDeferredValue:function(e,t){var n=qo();return null===wo?Dl(n,e,t):Il(n,wo.memoizedState,e,t)},useTransition:function(){var e=Yo(Wo)[0],t=qo().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Go,useId:Fl,useHostTransitionStatus:Ol,useFormState:hl,useActionState:hl,useOptimistic:function(e,t){var n=qo();return null!==wo?tl(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ho,useCacheRefresh:Ll},Ql=null,Kl=0;function Xl(e){var t=Kl;return Kl+=1,null===Ql&&(Ql=[]),Xa(Ql,e,t)}function Jl(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zl(e,t){if(t.$$typeof===h)throw Error(l(525));throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ei(e){return(0,e._init)(e._payload)}function ti(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=_r(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ur(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===C&&ei(o)===t.type)?(Jl(t=a(t,n.props),n),t.return=e,t):(Jl(t=qr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Br(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ur(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Jl(n=qr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case p:return(t=Hr(t,e.mode,n)).return=e,t;case C:return m(e,t=(0,t._init)(t._payload),n)}if(M(t)||P(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,Xl(t),n);if(t.$$typeof===w)return m(e,Da(e,t),n);Zl(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===a?c(e,t,n,r):null;case p:return n.key===a?u(e,t,n,r):null;case C:return h(e,t,n=(a=n._init)(n._payload),r)}if(M(n)||P(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return h(e,t,Xl(n),r);if(n.$$typeof===w)return h(e,t,Da(e,n),r);Zl(e,n)}return null}function y(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case p:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case C:return y(e,t,n,r=(0,r._init)(r._payload),a)}if(M(r)||P(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return y(e,t,n,Xl(r),a);if(r.$$typeof===w)return y(e,t,n,Da(t,r),a);Zl(t,r)}return null}function v(s,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(s,c.sibling),(d=a(c,u.props.children)).return=s,s=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&ei(b)===c.type){n(s,c.sibling),Jl(d=a(c,u.props),u),d.return=s,s=d;break e}n(s,c);break}t(s,c),c=c.sibling}u.type===g?((d=Br(u.props.children,s.mode,d,u.key)).return=s,s=d):(Jl(d=qr(u.type,u.key,u.props,null,s.mode,d),u),d.return=s,s=d)}return i(s);case p:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(s,c.sibling),(d=a(c,u.children||[])).return=s,s=d;break e}n(s,c);break}t(s,c),c=c.sibling}(d=Hr(u,s.mode,d)).return=s,s=d}return i(s);case C:return v(s,c,u=(b=u._init)(u._payload),d)}if(M(u))return function(a,l,i,s){for(var c=null,u=null,d=l,f=l=0,p=null;null!==d&&f<i.length;f++){d.index>f?(p=d,d=null):p=d.sibling;var g=h(a,d,i[f],s);if(null===g){null===d&&(d=p);break}e&&d&&null===g.alternate&&t(a,d),l=o(g,l,f),null===u?c=g:u.sibling=g,u=g,d=p}if(f===i.length)return n(a,d),oa&&Zr(a,f),c;if(null===d){for(;f<i.length;f++)null!==(d=m(a,i[f],s))&&(l=o(d,l,f),null===u?c=d:u.sibling=d,u=d);return oa&&Zr(a,f),c}for(d=r(d);f<i.length;f++)null!==(p=y(d,a,f,i[f],s))&&(e&&null!==p.alternate&&d.delete(null===p.key?f:p.key),l=o(p,l,f),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach((function(e){return t(a,e)})),oa&&Zr(a,f),c}(s,c,u,d);if(P(u)){if("function"!==typeof(b=P(u)))throw Error(l(150));return function(a,i,s,c){if(null==s)throw Error(l(151));for(var u=null,d=null,f=i,p=i=0,g=null,v=s.next();null!==f&&!v.done;p++,v=s.next()){f.index>p?(g=f,f=null):g=f.sibling;var b=h(a,f,v.value,c);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(a,f),i=o(b,i,p),null===d?u=b:d.sibling=b,d=b,f=g}if(v.done)return n(a,f),oa&&Zr(a,p),u;if(null===f){for(;!v.done;p++,v=s.next())null!==(v=m(a,v.value,c))&&(i=o(v,i,p),null===d?u=v:d.sibling=v,d=v);return oa&&Zr(a,p),u}for(f=r(f);!v.done;p++,v=s.next())null!==(v=y(f,a,p,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?p:v.key),i=o(v,i,p),null===d?u=v:d.sibling=v,d=v);return e&&f.forEach((function(e){return t(a,e)})),oa&&Zr(a,p),u}(s,c,u=b.call(u),d)}if("function"===typeof u.then)return v(s,c,Xl(u),d);if(u.$$typeof===w)return v(s,c,Da(s,u),d);Zl(s,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(s,c.sibling),(d=a(c,u)).return=s,s=d):(n(s,c),(d=Ur(u,s.mode,d)).return=s,s=d),i(s)):n(s,c)}return function(e,t,n,r){try{Kl=0;var a=v(e,t,n,r);return Ql=null,a}catch(l){if(l===$a||l===Ya)throw l;var o=Lr(29,l,null,e.mode);return o.lanes=r,o.return=e,o}}}var ni=ti(!0),ri=ti(!1),ai=z(null),oi=null;function li(e){var t=e.alternate;B(ui,1&ui.current),B(ai,e),null===oi&&(null===t||null!==fo.current||null!==t.memoizedState)&&(oi=e)}function ii(e){if(22===e.tag){if(B(ui,ui.current),B(ai,e),null===oi){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oi=e)}}else si()}function si(){B(ui,ui.current),B(ai,ai.current)}function ci(e){q(ai),oi===e&&(oi=null),q(ui)}var ui=z(0);function di(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function mi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:m({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var hi={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oc(),a=ao(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=oo(e,a,r))&&(Lc(t,e,r),lo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oc(),a=ao(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=oo(e,a,r))&&(Lc(t,e,r),lo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),r=ao(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oo(e,r,n))&&(Lc(t,e,n),lo(t,e,n))}};function fi(e,t,n,r,a,o,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,l):!t.prototype||!t.prototype.isPureReactComponent||(!Kn(n,r)||!Kn(a,o))}function pi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hi.enqueueReplaceState(t,t.state,null)}function gi(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=m({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var yi="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vi(e){yi(e)}function bi(e){console.error(e)}function xi(e){yi(e)}function wi(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function ki(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Si(e,t,n){return(n=ao(n)).tag=3,n.payload={element:null},n.callback=function(){wi(e,t)},n}function Ni(e){return(e=ao(e)).tag=3,e}function ji(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var o=r.value;e.payload=function(){return a(o)},e.callback=function(){ki(t,n,r)}}var l=n.stateNode;null!==l&&"function"===typeof l.componentDidCatch&&(e.callback=function(){ki(t,n,r),"function"!==typeof a&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ci=Error(l(461)),Di=!1;function Ii(e,t,n,r){t.child=null===e?ri(t,null,n,r):ni(t,e.child,n,r)}function Ai(e,t,n,r,a){n=n.render;var o=t.ref;if("ref"in r){var l={};for(var i in r)"ref"!==i&&(l[i]=r[i])}else l=r;return ja(t),r=To(e,t,n,l,o,a),i=Lo(),null===e||Di?(oa&&i&&ta(t),t.flags|=1,Ii(e,t,r,a),t.child):(Ro(e,t,a),Qi(e,t,a))}function Pi(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Rr(o)||void 0!==o.defaultProps||null!==n.compare?((e=qr(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ei(e,t,o,r,a))}if(o=e.child,!Ki(e,a)){var l=o.memoizedProps;if((n=null!==(n=n.compare)?n:Kn)(l,r)&&e.ref===t.ref)return Qi(e,t,a)}return t.flags|=1,(e=_r(o,r)).ref=t.ref,e.return=t,t.child=e}function Ei(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(Kn(o,r)&&e.ref===t.ref){if(Di=!1,t.pendingProps=r=o,!Ki(e,a))return t.lanes=e.lanes,Qi(e,t,a);0!==(131072&e.flags)&&(Di=!0)}}return Fi(e,t,n,r,a)}function Ti(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(a=t.child=e.child,o=0;null!==a;)o=o|a.lanes|a.childLanes,a=a.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Mi(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Mi(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ha(0,null!==o?o.cachePool:null),null!==o?go(t,o):yo(),ii(t)}else null!==o?(Ha(0,o.cachePool),go(t,o),si(),t.memoizedState=null):(null!==e&&Ha(0,null),yo(),si());return Ii(e,t,a,n),t.child}function Mi(e,t,n,r){var a=Ua();return a=null===a?null:{parent:Ta._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Ha(0,null),yo(),ii(t),null!==e&&Sa(e,t,r,!0),null}function Oi(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(l(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Fi(e,t,n,r,a){return ja(t),n=To(e,t,n,r,void 0,a),r=Lo(),null===e||Di?(oa&&r&&ta(t),t.flags|=1,Ii(e,t,n,a),t.child):(Ro(e,t,a),Qi(e,t,a))}function Li(e,t,n,r,a,o){return ja(t),t.updateQueue=null,n=Oo(t,r,n,a),Mo(e),r=Lo(),null===e||Di?(oa&&r&&ta(t),t.flags|=1,Ii(e,t,n,o),t.child):(Ro(e,t,o),Qi(e,t,o))}function Ri(e,t,n,r,a){if(ja(t),null===t.stateNode){var o=Or,l=n.contextType;"object"===typeof l&&null!==l&&(o=Ca(l)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=hi,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),l=n.contextType,o.context="object"===typeof l&&null!==l?Ca(l):Or,o.state=t.memoizedState,"function"===typeof(l=n.getDerivedStateFromProps)&&(mi(t,n,l,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(l=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),l!==o.state&&hi.enqueueReplaceState(o,o.state,null),uo(t,r,o,a),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var i=t.memoizedProps,s=gi(n,i);o.props=s;var c=o.context,u=n.contextType;l=Or,"object"===typeof u&&null!==u&&(l=Ca(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,i=t.pendingProps!==i,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i||c!==l)&&pi(t,o,r,l),to=!1;var m=t.memoizedState;o.state=m,uo(t,r,o,a),co(),c=t.memoizedState,i||m!==c||to?("function"===typeof d&&(mi(t,n,d,r),c=t.memoizedState),(s=to||fi(t,n,s,r,m,c,l))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),u=gi(n,l=t.memoizedProps),o.props=u,d=t.pendingProps,m=o.context,c=n.contextType,s=Or,"object"===typeof c&&null!==c&&(s=Ca(c)),(c="function"===typeof(i=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==d||m!==s)&&pi(t,o,r,s),to=!1,m=t.memoizedState,o.state=m,uo(t,r,o,a),co();var h=t.memoizedState;l!==d||m!==h||to||null!==e&&null!==e.dependencies&&Na(e.dependencies)?("function"===typeof i&&(mi(t,n,i,r),h=t.memoizedState),(u=to||fi(t,n,u,r,m,h,s)||null!==e&&null!==e.dependencies&&Na(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=s,r=u):("function"!==typeof o.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Oi(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=ni(t,e.child,null,a),t.child=ni(t,null,n,a)):Ii(e,t,n,a),t.memoizedState=o.state,e=t.child):e=Qi(e,t,a),e}function _i(e,t,n,r){return ha(),t.flags|=256,Ii(e,t,n,r),t.child}var zi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qi(e){return{baseLanes:e,cachePool:Wa()}}function Bi(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Ui(e,t,n){var r,a=t.pendingProps,o=!1,i=0!==(128&t.flags);if((r=i)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ui.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(oa){if(o?li(t):si(),oa){var s,c=aa;if(s=c){e:{for(s=c,c=ia;8!==s.nodeType;){if(!c){c=null;break e}if(null===(s=yd(s.nextSibling))){c=null;break e}}c=s}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Kr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(s=Lr(18,null,null,0)).stateNode=c,s.return=t,t.child=s,ra=t,aa=null,s=!0):s=!1}s||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;ci(t)}return c=a.children,a=a.fallback,o?(si(),c=Wi({mode:"hidden",children:c},o=t.mode),a=Br(a,o,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(o=t.child).memoizedState=qi(n),o.childLanes=Bi(e,r,n),t.memoizedState=zi,a):(li(t),Hi(t,c))}if(null!==(s=e.memoizedState)&&null!==(c=s.dehydrated)){if(i)256&t.flags?(li(t),t.flags&=-257,t=$i(e,t,n)):null!==t.memoizedState?(si(),t.child=e.child,t.flags|=128,t=null):(si(),o=a.fallback,c=t.mode,a=Wi({mode:"visible",children:a.children},c),(o=Br(o,c,n,null)).flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,ni(t,e.child,null,n),(a=t.child).memoizedState=qi(n),a.childLanes=Bi(e,r,n),t.memoizedState=zi,t=o);else if(li(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(l(419))).stack="",a.digest=r,pa({value:a,source:null,stack:null}),t=$i(e,t,n)}else if(Di||Sa(e,t,n,!1),r=0!==(n&e.childLanes),Di||r){if(null!==(r=rc)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Ie(a))&(r.suspendedLanes|n))?0:a)&&a!==s.retryLane))throw s.retryLane=a,Er(e,a),Lc(r,e,a),Ci;"$?"===c.data||Yc(),t=$i(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,aa=yd(c.nextSibling),ra=t,oa=!0,la=null,ia=!1,null!==e&&(Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Kr,Xr=e.id,Jr=e.overflow,Kr=t),(t=Hi(t,a.children)).flags|=4096);return t}return o?(si(),o=a.fallback,c=t.mode,u=(s=e.child).sibling,(a=_r(s,{mode:"hidden",children:a.children})).subtreeFlags=65011712&s.subtreeFlags,null!==u?o=_r(u,o):(o=Br(o,c,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,null===(c=e.child.memoizedState)?c=qi(n):(null!==(s=c.cachePool)?(u=Ta._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=Wa(),c={baseLanes:c.baseLanes|n,cachePool:s}),o.memoizedState=c,o.childLanes=Bi(e,r,n),t.memoizedState=zi,a):(li(t),e=(n=e.child).sibling,(n=_r(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Hi(e,t){return(t=Wi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wi(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function $i(e,t,n){return ni(t,e.child,null,n),(e=Hi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function Yi(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Gi(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Ii(e,t,r.children,n),0!==(2&(r=ui.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vi(e,n,t);else if(19===e.tag)Vi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(ui,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===di(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Yi(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===di(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Yi(t,!0,n,null,o);break;case"together":Yi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Sa(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=_r(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_r(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ki(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Na(e))}function Xi(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Di=!0;else{if(!Ki(e,n)&&0===(128&t.flags))return Di=!1,function(e,t,n){switch(t.tag){case 3:V(t,t.stateNode.containerInfo),ba(0,Ta,e.memoizedState.cache),ha();break;case 27:case 5:G(t);break;case 4:V(t,t.stateNode.containerInfo);break;case 10:ba(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(li(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ui(e,t,n):(li(t),null!==(e=Qi(e,t,n))?e.sibling:null);li(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Sa(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Gi(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),B(ui,ui.current),r)break;return null;case 22:case 23:return t.lanes=0,Ti(e,t,n);case 24:ba(0,Ta,e.memoizedState.cache)}return Qi(e,t,n)}(e,t,n);Di=0!==(131072&e.flags)}else Di=!1,oa&&0!==(1048576&t.flags)&&ea(t,Yr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===k){t.tag=11,t=Ai(null,t,r,e,n);break e}if(a===j){t.tag=14,t=Pi(null,t,r,e,n);break e}}throw t=T(r)||r,Error(l(306,t,""))}Rr(r)?(e=gi(r,e),t.tag=1,t=Ri(null,t,r,e,n)):(t.tag=0,t=Fi(null,t,r,e,n))}return t;case 0:return Fi(e,t,t.type,t.pendingProps,n);case 1:return Ri(e,t,r=t.type,a=gi(r,t.pendingProps),n);case 3:e:{if(V(t,t.stateNode.containerInfo),null===e)throw Error(l(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,ro(e,t),uo(t,r,null,n);var i=t.memoizedState;if(r=i.cache,ba(0,Ta,r),r!==o.cache&&ka(t,[Ta],n,!0),co(),r=i.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=_i(e,t,r,n);break e}if(r!==a){pa(a=Nr(Error(l(424)),t)),t=_i(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=yd(e.firstChild),ra=t,oa=!0,la=null,ia=!0,n=ri(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===a){t=Qi(e,t,n);break e}Ii(e,t,r,n)}t=t.child}return t;case 26:return Oi(e,t),null===e?(n=Id(t.type,null,t.pendingProps,null))?t.memoizedState=n:oa||(n=t.type,e=t.pendingProps,(r=rd(W.current).createElement(n))[Te]=t,r[Me]=e,ed(r,n,e),$e(r),t.stateNode=r):t.memoizedState=Id(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&oa&&(r=t.stateNode=xd(t.type,t.pendingProps,W.current),ra=t,ia=!0,a=aa,hd(t.type)?(vd=a,aa=yd(r.firstChild)):aa=a),Ii(e,t,t.pendingProps.children,n),Oi(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oa&&((a=r=aa)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===o)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ia))?(t.stateNode=r,ra=t,aa=yd(r.firstChild),ia=!1,a=!0):a=!1),a||ca(t)),G(t),a=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,r=o.children,ld(a,o)?r=null:null!==i&&ld(a,i)&&(t.flags|=32),null!==t.memoizedState&&(a=To(e,t,Fo,null,null,n),Gd._currentValue=a),Oi(e,t),Ii(e,t,r,n),t.child;case 6:return null===e&&oa&&((e=n=aa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,ia))?(t.stateNode=n,ra=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return Ui(e,t,n);case 4:return V(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ni(t,null,r,n):Ii(e,t,r,n),t.child;case 11:return Ai(e,t,t.type,t.pendingProps,n);case 7:return Ii(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ii(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ba(0,t.type,r.value),Ii(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,ja(t),r=r(a=Ca(a)),t.flags|=1,Ii(e,t,r,n),t.child;case 14:return Pi(e,t,t.type,t.pendingProps,n);case 15:return Ei(e,t,t.type,t.pendingProps,n);case 19:return Gi(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Wi(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=_r(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ti(e,t,n);case 24:return ja(t),r=Ca(Ta),null===e?(null===(a=Ua())&&(a=rc,o=Ma(),a.pooledCache=o,o.refCount++,null!==o&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},no(t),ba(0,Ta,a)):(0!==(e.lanes&n)&&(ro(e,t),uo(t,null,null,n),co()),a=e.memoizedState,o=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ba(0,Ta,r)):(r=o.cache,ba(0,Ta,r),r!==a.cache&&ka(t,[Ta],n,!0))),Ii(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Ji(e){e.flags|=4}function Zi(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=ai.current)&&((4194048&oc)===oc?null!==oi:(62914560&oc)!==oc&&0===(536870912&oc)||t!==oi))throw Ja=Ga,Va;e.flags|=8192}}function es(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,yc|=t)}function ts(e,t){if(!oa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ns(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rs(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ns(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xa(Ta),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ma(t)?Ji(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fa())),ns(t),null;case 26:return n=t.memoizedState,null===e?(Ji(t),null!==n?(ns(t),Zi(t,n)):(ns(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ji(t),ns(t),Zi(t,n)):(ns(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ji(t),ns(t),t.flags&=-16777217),null;case 27:Q(t),n=W.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ji(t);else{if(!r){if(null===t.stateNode)throw Error(l(166));return ns(t),null}e=U.current,ma(t)?ua(t):(e=xd(a,r,n),t.stateNode=e,Ji(t))}return ns(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ji(t);else{if(!r){if(null===t.stateNode)throw Error(l(166));return ns(t),null}if(e=U.current,ma(t))ua(t);else{switch(a=rd(W.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Te]=t,e[Me]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ji(t)}}return ns(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Ji(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(l(166));if(e=W.current,ma(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ra))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Te]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Ku(e.nodeValue,n)))||ca(t)}else(e=rd(e).createTextNode(r))[Te]=t,t.stateNode=e}return ns(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ma(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(l(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(l(317));a[Te]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ns(t),a=!1}else a=fa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(ci(t),t):(ci(t),null)}if(ci(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),es(t,t.updateQueue),ns(t),null;case 4:return Y(),null===e&&qu(t.stateNode.containerInfo),ns(t),null;case 10:return xa(t.type),ns(t),null;case 19:if(q(ui),null===(a=t.memoizedState))return ns(t),null;if(r=0!==(128&t.flags),null===(o=a.rendering))if(r)ts(a,!1);else{if(0!==mc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=di(e))){for(t.flags|=128,ts(a,!1),e=o.updateQueue,t.updateQueue=e,es(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return B(ui,1&ui.current|2),t.child}e=e.sibling}null!==a.tail&&te()>kc&&(t.flags|=128,r=!0,ts(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=di(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,es(t,e),ts(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!oa)return ns(t),null}else 2*te()-a.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,ts(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=a.last)?e.sibling=o:t.child=o,a.last=o)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=ui.current,B(ui,r?1&e|2:1&e),t):(ns(t),null);case 22:case 23:return ci(t),vo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(ns(t),6&t.subtreeFlags&&(t.flags|=8192)):ns(t),null!==(n=t.updateQueue)&&es(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&q(Ba),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xa(Ta),ns(t),null;case 25:case 30:return null}throw Error(l(156,t.tag))}function as(e,t){switch(na(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xa(Ta),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(ci(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return q(ui),null;case 4:return Y(),null;case 10:return xa(t.type),null;case 22:case 23:return ci(t),vo(),null!==e&&q(Ba),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xa(Ta),null;default:return null}}function os(e,t){switch(na(t),t.tag){case 3:xa(Ta),Y();break;case 26:case 27:case 5:Q(t);break;case 4:Y();break;case 13:ci(t);break;case 19:q(ui);break;case 10:xa(t.type);break;case 22:case 23:ci(t),vo(),null!==e&&q(Ba);break;case 24:xa(Ta)}}function ls(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var o=n.create,l=n.inst;r=o(),l.destroy=r}n=n.next}while(n!==a)}}catch(i){uu(t,t.return,i)}}function is(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var o=a.next;r=o;do{if((r.tag&e)===e){var l=r.inst,i=l.destroy;if(void 0!==i){l.destroy=void 0,a=t;var s=n,c=i;try{c()}catch(u){uu(a,s,u)}}}r=r.next}while(r!==o)}}catch(u){uu(t,t.return,u)}}function ss(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ho(t,n)}catch(r){uu(e,e.return,r)}}}function cs(e,t,n){n.props=gi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function us(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){uu(e,t,a)}}function ds(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){uu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){uu(e,t,o)}else n.current=null}function ms(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){uu(e,e.return,a)}}function hs(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,i=null,s=null,c=null,u=null,d=null;for(f in n){var m=n[f];if(n.hasOwnProperty(f)&&null!=m)switch(f){case"checked":case"value":break;case"defaultValue":c=m;default:r.hasOwnProperty(f)||Ju(e,t,f,null,r,m)}}for(var h in r){var f=r[h];if(m=n[h],r.hasOwnProperty(h)&&(null!=f||null!=m))switch(h){case"type":o=f;break;case"name":a=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":i=f;break;case"defaultValue":s=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(l(137,t));break;default:f!==m&&Ju(e,t,h,f,r,m)}}return void gt(e,i,s,c,u,d,o,a);case"select":for(o in f=i=s=h=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(o)||Ju(e,t,o,null,r,c)}for(a in r)if(o=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=o||null!=c))switch(a){case"value":h=o;break;case"defaultValue":s=o;break;case"multiple":i=o;default:o!==c&&Ju(e,t,a,o,r,c)}return t=s,n=i,r=f,void(null!=h?bt(e,!!n,h,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(s in f=h=null,n)if(a=n[s],n.hasOwnProperty(s)&&null!=a&&!r.hasOwnProperty(s))switch(s){case"value":case"children":break;default:Ju(e,t,s,null,r,a)}for(i in r)if(a=r[i],o=n[i],r.hasOwnProperty(i)&&(null!=a||null!=o))switch(i){case"value":h=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(l(91));break;default:a!==o&&Ju(e,t,i,a,r,o)}return void xt(e,h,f);case"option":for(var p in n)if(h=n[p],n.hasOwnProperty(p)&&null!=h&&!r.hasOwnProperty(p))if("selected"===p)e.selected=!1;else Ju(e,t,p,null,r,h);for(c in r)if(h=r[c],f=n[c],r.hasOwnProperty(c)&&h!==f&&(null!=h||null!=f))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Ju(e,t,c,h,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,h);for(u in r)if(h=r[u],f=n[u],r.hasOwnProperty(u)&&h!==f&&(null!=h||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(l(137,t));break;default:Ju(e,t,u,h,r,f)}return;default:if(Ct(t)){for(var y in n)h=n[y],n.hasOwnProperty(y)&&void 0!==h&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,h);for(d in r)h=r[d],f=n[d],!r.hasOwnProperty(d)||h===f||void 0===h&&void 0===f||Zu(e,t,d,h,r,f);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&null!=h&&!r.hasOwnProperty(v)&&Ju(e,t,v,null,r,h);for(m in r)h=r[m],f=n[m],!r.hasOwnProperty(m)||h===f||null==h&&null==f||Ju(e,t,m,h,r,f)}(r,e.type,n,t),r[Me]=t}catch(a){uu(e,e.return,a)}}function fs(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hd(e.type)||4===e.tag}function ps(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function vs(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ed(t,r,n),t[Te]=e,t[Me]=n}catch(o){uu(e,e.return,o)}}var bs=!1,xs=!1,ws=!1,ks="function"===typeof WeakSet?WeakSet:Set,Ss=null;function Ns(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Rs(e,n),4&r&&ls(5,n);break;case 1:if(Rs(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(l){uu(n,n.return,l)}else{var a=gi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){uu(n,n.return,i)}}64&r&&ss(n),512&r&&us(n,n.return);break;case 3:if(Rs(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ho(e,t)}catch(l){uu(n,n.return,l)}}break;case 27:null===t&&4&r&&vs(n);case 26:case 5:Rs(e,n),null===t&&4&r&&ms(n),512&r&&us(n,n.return);break;case 12:Rs(e,n);break;case 13:Rs(e,n),4&r&&Ps(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=fu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bs)){t=null!==t&&null!==t.memoizedState||xs,a=bs;var o=xs;bs=r,(xs=t)&&!o?zs(e,n,0!==(8772&n.subtreeFlags)):Rs(e,n),bs=a,xs=o}break;case 30:break;default:Rs(e,n)}}function js(e){var t=e.alternate;null!==t&&(e.alternate=null,js(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Cs=null,Ds=!1;function Is(e,t,n){for(n=n.child;null!==n;)As(e,t,n),n=n.sibling}function As(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:xs||ds(n,t),Is(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xs||ds(n,t);var r=Cs,a=Ds;hd(n.type)&&(Cs=n.stateNode,Ds=!1),Is(e,t,n),wd(n.stateNode),Cs=r,Ds=a;break;case 5:xs||ds(n,t);case 6:if(r=Cs,a=Ds,Cs=null,Is(e,t,n),Ds=a,null!==(Cs=r))if(Ds)try{(9===Cs.nodeType?Cs.body:"HTML"===Cs.nodeName?Cs.ownerDocument.body:Cs).removeChild(n.stateNode)}catch(l){uu(n,t,l)}else try{Cs.removeChild(n.stateNode)}catch(l){uu(n,t,l)}break;case 18:null!==Cs&&(Ds?(fd(9===(e=Cs).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Dm(e)):fd(Cs,n.stateNode));break;case 4:r=Cs,a=Ds,Cs=n.stateNode.containerInfo,Ds=!0,Is(e,t,n),Cs=r,Ds=a;break;case 0:case 11:case 14:case 15:xs||is(2,n,t),xs||is(4,n,t),Is(e,t,n);break;case 1:xs||(ds(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cs(n,t,r)),Is(e,t,n);break;case 21:Is(e,t,n);break;case 22:xs=(r=xs)||null!==n.memoizedState,Is(e,t,n),xs=r;break;default:Is(e,t,n)}}function Ps(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Dm(e)}catch(n){uu(t,t.return,n)}}function Es(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new ks),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new ks),t;default:throw Error(l(435,e.tag))}}(e);t.forEach((function(t){var r=pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Ts(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],o=e,i=t,s=i;e:for(;null!==s;){switch(s.tag){case 27:if(hd(s.type)){Cs=s.stateNode,Ds=!1;break e}break;case 5:Cs=s.stateNode,Ds=!1;break e;case 3:case 4:Cs=s.stateNode.containerInfo,Ds=!0;break e}s=s.return}if(null===Cs)throw Error(l(160));As(o,i,a),Cs=null,Ds=!1,null!==(o=a.alternate)&&(o.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Os(t,e),t=t.sibling}var Ms=null;function Os(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ts(t,e),Fs(e),4&r&&(is(3,e,e.return),ls(3,e),is(5,e,e.return));break;case 1:Ts(t,e),Fs(e),512&r&&(xs||null===n||ds(n,n.return)),64&r&&bs&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Ms;if(Ts(t,e),Fs(e),512&r&&(xs||null===n||ds(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(o=a.getElementsByTagName("title")[0])||o[ze]||o[Te]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector("head > title"))),ed(o,r,n),o[Te]=e,$e(o),r=o;break e;case"link":var i=zd("link","href",a).get(r+(n.href||""));if(i)for(var s=0;s<i.length;s++)if((o=i[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){i.splice(s,1);break t}ed(o=a.createElement(r),r,n),a.head.appendChild(o);break;case"meta":if(i=zd("meta","content",a).get(r+(n.content||"")))for(s=0;s<i.length;s++)if((o=i[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){i.splice(s,1);break t}ed(o=a.createElement(r),r,n),a.head.appendChild(o);break;default:throw Error(l(468,r))}o[Te]=e,$e(o),r=o}e.stateNode=r}else qd(a,e.type,e.stateNode);else e.stateNode=Od(a,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?qd(a,e.type,e.stateNode):Od(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&hs(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ts(t,e),Fs(e),512&r&&(xs||null===n||ds(n,n.return)),null!==n&&4&r&&hs(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ts(t,e),Fs(e),512&r&&(xs||null===n||ds(n,n.return)),32&e.flags){a=e.stateNode;try{kt(a,"")}catch(f){uu(e,e.return,f)}}4&r&&null!=e.stateNode&&hs(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(ws=!0);break;case 6:if(Ts(t,e),Fs(e),4&r){if(null===e.stateNode)throw Error(l(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){uu(e,e.return,f)}}break;case 3:if(_d=null,a=Ms,Ms=Nd(t.containerInfo),Ts(t,e),Ms=a,Fs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Dm(t.containerInfo)}catch(f){uu(e,e.return,f)}ws&&(ws=!1,Ls(e));break;case 4:r=Ms,Ms=Nd(e.stateNode.containerInfo),Ts(t,e),Fs(e),Ms=r;break;case 12:default:Ts(t,e),Fs(e);break;case 13:Ts(t,e),Fs(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Es(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bs,d=xs;if(bs=u||a,xs=d||c,Ts(t,e),xs=d,bs=u,Fs(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||bs||xs||_s(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,a)"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{s=c.stateNode;var m=c.memoizedProps.style,h=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;s.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(f){uu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(f){uu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Es(e,n))));break;case 19:Ts(t,e),Fs(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Es(e,r)));case 30:case 21:}}function Fs(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fs(r)){n=r;break}r=r.return}if(null==n)throw Error(l(160));switch(n.tag){case 27:var a=n.stateNode;ys(e,ps(e),a);break;case 5:var o=n.stateNode;32&n.flags&&(kt(o,""),n.flags&=-33),ys(e,ps(e),o);break;case 3:case 4:var i=n.stateNode.containerInfo;gs(e,ps(e),i);break;default:throw Error(l(161))}}catch(s){uu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ls(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ls(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Rs(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ns(e,t.alternate,t),t=t.sibling}function _s(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:is(4,t,t.return),_s(t);break;case 1:ds(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cs(t,t.return,n),_s(t);break;case 27:wd(t.stateNode);case 26:case 5:ds(t,t.return),_s(t);break;case 22:null===t.memoizedState&&_s(t);break;default:_s(t)}e=e.sibling}}function zs(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,o=t,l=o.flags;switch(o.tag){case 0:case 11:case 15:zs(a,o,n),ls(4,o);break;case 1:if(zs(a,o,n),"function"===typeof(a=(r=o).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(a=(r=o).updateQueue)){var i=r.stateNode;try{var s=a.shared.hiddenCallbacks;if(null!==s)for(a.shared.hiddenCallbacks=null,a=0;a<s.length;a++)mo(s[a],i)}catch(c){uu(r,r.return,c)}}n&&64&l&&ss(o),us(o,o.return);break;case 27:vs(o);case 26:case 5:zs(a,o,n),n&&null===r&&4&l&&ms(o),us(o,o.return);break;case 12:zs(a,o,n);break;case 13:zs(a,o,n),n&&4&l&&Ps(a,o);break;case 22:null===o.memoizedState&&zs(a,o,n),us(o,o.return);break;case 30:break;default:zs(a,o,n)}t=t.sibling}}function qs(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Oa(n))}function Bs(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oa(e))}function Us(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hs(e,t,n,r),t=t.sibling}function Hs(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Us(e,t,n,r),2048&a&&ls(9,t);break;case 1:case 13:default:Us(e,t,n,r);break;case 3:Us(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oa(e)));break;case 12:if(2048&a){Us(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,l=o.id,i=o.onPostCommit;"function"===typeof i&&i(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(s){uu(t,t.return,s)}}else Us(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,l=t.alternate,null!==t.memoizedState?2&o._visibility?Us(e,t,n,r):$s(e,t):2&o._visibility?Us(e,t,n,r):(o._visibility|=2,Ws(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&qs(l,t);break;case 24:Us(e,t,n,r),2048&a&&Bs(t.alternate,t)}}function Ws(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,l=t,i=n,s=r,c=l.flags;switch(l.tag){case 0:case 11:case 15:Ws(o,l,i,s,a),ls(8,l);break;case 23:break;case 22:var u=l.stateNode;null!==l.memoizedState?2&u._visibility?Ws(o,l,i,s,a):$s(o,l):(u._visibility|=2,Ws(o,l,i,s,a)),a&&2048&c&&qs(l.alternate,l);break;case 24:Ws(o,l,i,s,a),a&&2048&c&&Bs(l.alternate,l);break;default:Ws(o,l,i,s,a)}t=t.sibling}}function $s(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:$s(n,r),2048&a&&qs(r.alternate,r);break;case 24:$s(n,r),2048&a&&Bs(r.alternate,r);break;default:$s(n,r)}t=t.sibling}}var Vs=8192;function Ys(e){if(e.subtreeFlags&Vs)for(e=e.child;null!==e;)Gs(e),e=e.sibling}function Gs(e){switch(e.tag){case 26:Ys(e),e.flags&Vs&&null!==e.memoizedState&&function(e,t,n){if(null===Ud)throw Error(l(475));var r=Ud;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Ad(n.href),o=e.querySelector(Pd(a));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void $e(o);o=e.ownerDocument||e,n=Ed(n),(a=kd.get(a))&&Ld(n,a),$e(o=o.createElement("link"));var i=o;i._p=new Promise((function(e,t){i.onload=e,i.onerror=t})),ed(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ms,e.memoizedState,e.memoizedProps);break;case 5:default:Ys(e);break;case 3:case 4:var t=Ms;Ms=Nd(e.stateNode.containerInfo),Ys(e),Ms=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Vs,Vs=16777216,Ys(e),Vs=t):Ys(e))}}function Qs(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ks(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ss=r,Zs(r,e)}Qs(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xs(e),e=e.sibling}function Xs(e){switch(e.tag){case 0:case 11:case 15:Ks(e),2048&e.flags&&is(9,e,e.return);break;case 3:case 12:default:Ks(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Js(e)):Ks(e)}}function Js(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ss=r,Zs(r,e)}Qs(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:is(8,t,t.return),Js(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Js(t));break;default:Js(t)}e=e.sibling}}function Zs(e,t){for(;null!==Ss;){var n=Ss;switch(n.tag){case 0:case 11:case 15:is(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Oa(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ss=r;else e:for(n=e;null!==Ss;){var a=(r=Ss).sibling,o=r.return;if(js(r),r===n){Ss=null;break e}if(null!==a){a.return=o,Ss=a;break e}Ss=o}}}var ec={getCacheForType:function(e){var t=Ca(Ta),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ac=null,oc=0,lc=0,ic=null,sc=!1,cc=!1,uc=!1,dc=0,mc=0,hc=0,fc=0,pc=0,gc=0,yc=0,vc=null,bc=null,xc=!1,wc=0,kc=1/0,Sc=null,Nc=null,jc=0,Cc=null,Dc=null,Ic=0,Ac=0,Pc=null,Ec=null,Tc=0,Mc=null;function Oc(){if(0!==(2&nc)&&0!==oc)return oc&-oc;if(null!==O.T){return 0!==Ra?Ra:Au()}return Pe()}function Fc(){0===gc&&(gc=0===(536870912&oc)||oa?ke():536870912);var e=ai.current;return null!==e&&(e.flags|=32),gc}function Lc(e,t,n){(e!==rc||2!==lc&&9!==lc)&&null===e.cancelPendingCommit||(Hc(e,0),qc(e,oc,gc,!1)),je(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(fc|=n),4===mc&&qc(e,oc,gc,!1)),ku(e))}function Rc(e,t,n){if(0!==(6&nc))throw Error(l(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),a=r?function(e,t){var n=nc;nc|=2;var r=$c(),a=Vc();rc!==e||oc!==t?(Sc=null,kc=te()+500,Hc(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==lc&&null!==ac){t=ac;var o=ic;t:switch(lc){case 1:lc=0,ic=null,Zc(e,t,o,1);break;case 2:case 9:if(Qa(o)){lc=0,ic=null,Jc(t);break}t=function(){2!==lc&&9!==lc||rc!==e||(lc=7),ku(e)},o.then(t,t);break e;case 3:lc=7;break e;case 4:lc=5;break e;case 7:Qa(o)?(lc=0,ic=null,Jc(t)):(lc=0,ic=null,Zc(e,t,o,7));break;case 5:var i=null;switch(ac.tag){case 26:i=ac.memoizedState;case 5:case 27:var s=ac;if(!i||Bd(i)){lc=0,ic=null;var c=s.sibling;if(null!==c)ac=c;else{var u=s.return;null!==u?(ac=u,eu(u)):ac=null}break t}}lc=0,ic=null,Zc(e,t,o,5);break;case 6:lc=0,ic=null,Zc(e,t,o,6);break;case 8:Uc(),mc=6;break e;default:throw Error(l(462))}}Kc();break}catch(d){Wc(e,d)}return va=ya=null,O.H=r,O.A=a,nc=n,null!==ac?0:(rc=null,oc=0,Ir(),mc)}(e,t):Gc(e,t,!0),o=r;;){if(0===a){cc&&!r&&qc(e,t,0,!1);break}if(n=e.current.alternate,!o||zc(n)){if(2===a){if(o=t,e.errorRecoveryDisabledLanes&o)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var s=e;a=vc;var c=s.current.memoizedState.isDehydrated;if(c&&(Hc(s,i).flags|=256),2!==(i=Gc(s,i,!1))){if(uc&&!c){s.errorRecoveryDisabledLanes|=o,fc|=o,a=4;break e}o=bc,bc=a,null!==o&&(null===bc?bc=o:bc.push.apply(bc,o))}a=i}if(o=!1,2!==a)continue}}if(1===a){Hc(e,0),qc(e,t,0,!0);break}e:{switch(r=e,o=a){case 0:case 1:throw Error(l(345));case 4:if((4194048&t)!==t)break;case 6:qc(r,t,gc,!sc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(l(329))}if((62914560&t)===t&&10<(a=wc+300-te())){if(qc(r,t,gc,!sc),0!==be(r,0,!0))break e;r.timeoutHandle=sd(_c.bind(null,r,n,bc,Sc,xc,t,gc,fc,yc,sc,o,2,-0,0),a)}else _c(r,n,bc,Sc,xc,t,gc,fc,yc,sc,o,0,-0,0)}break}a=Gc(e,t,!1),o=!1}ku(e)}function _c(e,t,n,r,a,o,i,s,c,u,d,m,h,f){if(e.timeoutHandle=-1,(8192&(m=t.subtreeFlags)||16785408===(16785408&m))&&(Ud={stylesheets:null,count:0,unsuspend:Hd},Gs(t),null!==(m=function(){if(null===Ud)throw Error(l(475));var e=Ud;return e.stylesheets&&0===e.count&&Vd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Vd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=m(nu.bind(null,e,t,o,n,r,a,i,s,c,d,1,h,f)),void qc(e,o,i,!u);nu(e,t,o,n,r,a,i,s,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!Qn(o(),a))return!1}catch(l){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qc(e,t,n,r){t&=~pc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var o=31-he(a),l=1<<o;r[o]=-1,a&=~l}0!==n&&Ce(e,n,t)}function Bc(){return 0!==(6&nc)||(Su(0,!1),!1)}function Uc(){if(null!==ac){if(0===lc)var e=ac.return;else va=ya=null,_o(e=ac),Ql=null,Kl=0,e=ac;for(;null!==e;)os(e.alternate,e),e=e.return;ac=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),rc=e,ac=n=_r(e.current,null),oc=t,lc=0,ic=null,sc=!1,cc=xe(e,t),uc=!1,yc=gc=pc=fc=hc=mc=0,bc=vc=null,xc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-he(r),o=1<<a;t|=e[a],r&=~o}return dc=t,Ir(),n}function Wc(e,t){xo=null,O.H=$l,t===$a||t===Ya?(t=Za(),lc=3):t===Va?(t=Za(),lc=4):lc=t===Ci?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ic=t,null===ac&&(mc=1,wi(e,Nr(t,e.current)))}function $c(){var e=O.H;return O.H=$l,null===e?$l:e}function Vc(){var e=O.A;return O.A=ec,e}function Yc(){mc=4,sc||(4194048&oc)!==oc&&null!==ai.current||(cc=!0),0===(134217727&hc)&&0===(134217727&fc)||null===rc||qc(rc,oc,gc,!1)}function Gc(e,t,n){var r=nc;nc|=2;var a=$c(),o=Vc();rc===e&&oc===t||(Sc=null,Hc(e,t)),t=!1;var l=mc;e:for(;;)try{if(0!==lc&&null!==ac){var i=ac,s=ic;switch(lc){case 8:Uc(),l=6;break e;case 3:case 2:case 9:case 6:null===ai.current&&(t=!0);var c=lc;if(lc=0,ic=null,Zc(e,i,s,c),n&&cc){l=0;break e}break;default:c=lc,lc=0,ic=null,Zc(e,i,s,c)}}Qc(),l=mc;break}catch(u){Wc(e,u)}return t&&e.shellSuspendCounter++,va=ya=null,nc=r,O.H=a,O.A=o,null===ac&&(rc=null,oc=0,Ir()),l}function Qc(){for(;null!==ac;)Xc(ac)}function Kc(){for(;null!==ac&&!Z();)Xc(ac)}function Xc(e){var t=Xi(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Li(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Li(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:_o(t);default:os(n,t),t=Xi(n,t=ac=zr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Zc(e,t,n,r){va=ya=null,_o(t),Ql=null,Kl=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Sa(t,n,a,!0),null!==(n=ai.current)){switch(n.tag){case 13:return null===oi?Yc():null===n.alternate&&0===mc&&(mc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Ga?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,a)),!1;case 22:return n.flags|=65536,r===Ga?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,a)),!1}throw Error(l(435,n.tag))}return du(e,r,a),Yc(),!1}if(oa)return null!==(t=ai.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==sa&&pa(Nr(e=Error(l(422),{cause:r}),n))):(r!==sa&&pa(Nr(t=Error(l(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Nr(r,n),io(e,a=Si(e.stateNode,r,a)),4!==mc&&(mc=2)),!1;var o=Error(l(520),{cause:r});if(o=Nr(o,n),null===vc?vc=[o]:vc.push(o),4!==mc&&(mc=2),null===t)return!0;r=Nr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,io(n,e=Si(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Nc||!Nc.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,ji(a=Ni(a),e,n,r),io(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,oc))return mc=1,wi(e,Nr(n,e.current)),void(ac=null)}catch(o){if(null!==a)throw ac=a,o;return mc=1,wi(e,Nr(n,e.current)),void(ac=null)}32768&t.flags?(oa||1===r?e=!0:cc||0!==(536870912&oc)?e=!1:(sc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ai.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,sc);e=t.return;var n=rs(t.alternate,t,dc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===mc&&(mc=5)}function tu(e,t){do{var n=as(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);mc=6,ac=null}function nu(e,t,n,r,a,o,i,s,c){e.cancelPendingCommit=null;do{iu()}while(0!==jc);if(0!==(6&nc))throw Error(l(327));if(null!==t){if(t===e.current)throw Error(l(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,a,o){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,s=e.expirationTimes,c=e.hiddenUpdates;for(n=l&~n;0<n;){var u=31-he(n),d=1<<u;i[u]=0,s[u]=-1;var m=c[u];if(null!==m)for(c[u]=null,u=0;u<m.length;u++){var h=m[u];null!==h&&(h.lane&=-536870913)}n&=~d}0!==r&&Ce(e,r,0),0!==o&&0===a&&0!==e.tag&&(e.suspendedLanes|=o&~(l&~t))}(e,n,o|=Dr,i,s,c),e===rc&&(ac=rc=null,oc=0),Dc=t,Cc=e,Ic=n,Ac=o,Pc=a,Ec=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(oe,(function(){return su(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,a=F.p,F.p=2,i=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nm,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var i=0,s=-1,c=-1,u=0,d=0,m=e,h=null;t:for(;;){for(var f;m!==n||0!==a&&3!==m.nodeType||(s=i+a),m!==o||0!==r&&3!==m.nodeType||(c=i+r),3===m.nodeType&&(i+=m.nodeValue.length),null!==(f=m.firstChild);)h=m,m=f;for(;;){if(m===e)break t;if(h===n&&++u===a&&(s=i),h===o&&++d===r&&(c=i),null!==(f=m.nextSibling))break;h=(m=h).parentNode}m=f}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nm=!1,Ss=t;null!==Ss;)if(e=(t=Ss).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Ss=e;else for(;null!==Ss;){switch(o=(t=Ss).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var p=gi(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(p,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,Ss=e;break}Ss=t.return}}(e,t)}finally{nc=i,F.p=a,O.T=r}}jc=1,ru(),au(),ou()}}function ru(){if(1===jc){jc=0;var e=Cc,t=Dc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=F.p;F.p=2;var a=nc;nc|=4;try{Os(t,e);var o=nd,l=er(e.containerInfo),i=o.focusedElem,s=o.selectionRange;if(l!==i&&i&&i.ownerDocument&&Zn(i.ownerDocument.documentElement,i)){if(null!==s&&tr(i)){var c=s.start,u=s.end;if(void 0===u&&(u=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(u,i.value.length);else{var d=i.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var h=m.getSelection(),f=i.textContent.length,p=Math.min(s.start,f),g=void 0===s.end?p:Math.min(s.end,f);!h.extend&&p>g&&(l=g,g=p,p=l);var y=Jn(i,p),v=Jn(i,g);if(y&&v&&(1!==h.rangeCount||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),h.removeAllRanges(),p>g?(h.addRange(b),h.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),h.addRange(b))}}}}for(d=[],h=i;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<d.length;i++){var x=d[i];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}nm=!!td,nd=td=null}finally{nc=a,F.p=r,O.T=n}}e.current=t,jc=2}}function au(){if(2===jc){jc=0;var e=Cc,t=Dc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=F.p;F.p=2;var a=nc;nc|=4;try{Ns(e,t.alternate,t)}finally{nc=a,F.p=r,O.T=n}}jc=3}}function ou(){if(4===jc||3===jc){jc=0,ee();var e=Cc,t=Dc,n=Ic,r=Ec;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?jc=5:(jc=0,Dc=Cc=null,lu(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Nc=null),Ae(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(s){}if(null!==r){t=O.T,a=F.p,F.p=2,O.T=null;try{for(var o=e.onRecoverableError,l=0;l<r.length;l++){var i=r[l];o(i.value,{componentStack:i.stack})}}finally{O.T=t,F.p=a}}0!==(3&Ic)&&iu(),ku(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Mc?Tc++:(Tc=0,Mc=e):Tc=0,Su(0,!1)}}function lu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Oa(t)))}function iu(e){return ru(),au(),ou(),su()}function su(){if(5!==jc)return!1;var e=Cc,t=Ac;Ac=0;var n=Ae(Ic),r=O.T,a=F.p;try{F.p=32>n?32:n,O.T=null,n=Pc,Pc=null;var o=Cc,i=Ic;if(jc=0,Dc=Cc=null,Ic=0,0!==(6&nc))throw Error(l(331));var s=nc;if(nc|=4,Xs(o.current),Hs(o,o.current,i,n),nc=s,Su(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{F.p=a,O.T=r,lu(e,t)}}function cu(e,t,n){t=Nr(n,t),null!==(e=oo(e,t=Si(e.stateNode,t,2),2))&&(je(e,2),ku(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Nc||!Nc.has(r))){e=Nr(n,e),null!==(r=oo(t,n=Ni(2),2))&&(ji(n,r,t,e),je(r,2),ku(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(uc=!0,a.add(n),e=mu.bind(null,e,t,n),t.then(e,e))}function mu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(oc&n)===n&&(4===mc||3===mc&&(62914560&oc)===oc&&300>te()-wc?0===(2&nc)&&Hc(e,0):pc|=n,yc===oc&&(yc=0)),ku(e)}function hu(e,t){0===t&&(t=Se()),null!==(e=Er(e,t))&&(je(e,t),ku(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hu(e,n)}function pu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==r&&r.delete(t),hu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,xu=!1,wu=0;function ku(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd((function(){0!==(6&nc)?X(re,Nu):ju()})))}function Su(e,t){if(!xu&&bu){xu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var o=0;else{var l=r.suspendedLanes,i=r.pingedLanes;o=(1<<31-he(42|e)+1)-1,o=201326741&(o&=a&~(l&~i))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Iu(r,o))}else o=oc,0===(3&(o=be(r,r===rc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,o)||(n=!0,Iu(r,o));r=r.next}}while(n);xu=!1}}function Nu(){ju()}function ju(){bu=vu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==id&&(id=e,!0);return id=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var a=r.next,o=Cu(r,t);0===o?(r.next=null,null===n?gu=a:n.next=a,null===a&&(yu=n)):(n=r,(0!==e||0!==(3&o))&&(bu=!0)),r=a}Su(e,!1)}function Cu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var l=31-he(o),i=1<<l,s=a[l];-1===s?0!==(i&n)&&0===(i&r)||(a[l]=we(i,t)):s<=t&&(e.expiredLanes|=i),o&=~i}if(n=oc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===lc||9===lc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ae(n)){case 2:case 8:n=ae;break;case 32:default:n=oe;break;case 268435456:n=ie}return r=Du.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Du(e,t){if(0!==jc&&5!==jc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(iu()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Rc(e,r,t),Cu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Du.bind(null,e):null)}function Iu(e,t){if(iu())return null;Rc(e,t,!0)}function Au(){return 0===wu&&(wu=ke()),wu}function Pu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Eu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Tu=0;Tu<wr.length;Tu++){var Mu=wr[Tu];kr(Mu.toLowerCase(),"on"+(Mu[0].toUpperCase()+Mu.slice(1)))}kr(hr,"onAnimationEnd"),kr(fr,"onAnimationIteration"),kr(pr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(yr,"onTransitionStart"),kr(vr,"onTransitionCancel"),kr(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],s=i.instance,c=i.currentTarget;if(i=i.listener,s!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=c;try{o(a)}catch(u){yi(u)}a.currentTarget=null,o=s}else for(l=0;l<r.length;l++){if(s=(i=r[l]).instance,c=i.currentTarget,i=i.listener,s!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=c;try{o(a)}catch(u){yi(u)}a.currentTarget=null,o=s}}}}function Ru(e,t){var n=t[Fe];void 0===n&&(n=t[Fe]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function _u(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function qu(e){if(!e[zu]){e[zu]=!0,Ve.forEach((function(t){"selectionchange"!==t&&(Fu.has(t)||_u(t,!1,e),_u(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zu]||(t[zu]=!0,_u("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(cm(t)){case 2:var a=rm;break;case 8:a=am;break;default:a=om}n=a.bind(null,t,n,e),a=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Uu(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var i=r.stateNode.containerInfo;if(i===a)break;if(4===l)for(l=r.return;null!==l;){var c=l.tag;if((3===c||4===c)&&l.stateNode.containerInfo===a)return;l=l.return}for(;null!==i;){if(null===(l=Be(i)))return;if(5===(c=l.tag)||6===c||26===c||27===c){r=o=l;continue e}i=i.parentNode}}r=r.return}Lt((function(){var r=o,a=Et(n),l=[];e:{var i=xr.get(e);if(void 0!==i){var c=Zt,u=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":c=pn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case hr:case fr:case pr:c=ln;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),m=!d&&("scroll"===e||"scrollend"===e),h=d?null!==i?i+"Capture":null:i;d=[];for(var f,p=r;null!==p;){var g=p;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===h||null!=(g=Rt(p,h))&&d.push(Hu(p,g,f)),m)break;p=p.return}0<d.length&&(i=new c(i,u,null,n,a),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Oe])&&(c||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(m=s(u),d=u.tag,u!==m||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",h="onPointerEnter",p="pointer"),m=null==c?i:He(c),f=null==u?i:He(u),(i=new d(g,p+"leave",c,n,a)).target=m,i.relatedTarget=f,g=null,Be(a)===r&&((d=new d(h,p+"enter",u,n,a)).target=f,d.relatedTarget=m,g=d),m=g,c&&u)e:{for(h=u,p=0,f=d=c;f;f=$u(f))p++;for(f=0,g=h;g;g=$u(g))f++;for(;0<p-f;)d=$u(d),p--;for(;0<f-p;)h=$u(h),f--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=$u(d),h=$u(h)}d=null}else d=null;null!==c&&Vu(l,i,c,d,!1),null!==u&&null!==m&&Vu(l,m,u,d,!0)}if("select"===(c=(i=r?He(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var y=_n;else if(Tn(i))if(zn)y=Gn;else{y=Vn;var v=$n}else!(c=i.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?r&&Ct(r.elementType)&&(y=_n):y=Yn;switch(y&&(y=y(e,r))?Mn(l,y,n,a):(v&&v(e,i,r),"focusout"===e&&r&&"number"===i.type&&null!=r.memoizedProps.value&&vt(i,"number",i.value)),v=r?He(r):window,e){case"focusin":(Tn(v)||"true"===v.contentEditable)&&(rr=v,ar=r,or=null);break;case"focusout":or=ar=rr=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,ir(l,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ir(l,n,a)}var b;if(kn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Pn?In(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(jn&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Pn&&(b=Wt()):(Ut="value"in(Bt=a)?Bt.value:Bt.textContent,Pn=!0)),0<(v=Wu(r,x)).length&&(x=new cn(x,e,null,n,a),l.push({event:x,listeners:v}),b?x.data=b:null!==(b=An(n))&&(x.data=b))),(b=Nn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Dn=!0,Cn);case"textInput":return(e=t.data)===Cn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!kn&&In(e,t)?(e=Wt(),Ht=Ut=Bt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Wu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,a),l.push({event:v,listeners:x}),v.data=b)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var o=Pu((a[Me]||null).action),l=r.submitter;l&&null!==(t=(t=l[Me]||null)?Pu(t.formAction):l.getAttribute("formAction"))&&(o=t,l=null);var i=new Zt("action","action",null,r,a);e.push({event:i,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=l?Eu(a,l):new FormData(a);El(n,{pending:!0,data:e,method:a.method,action:o},null,e)}}else"function"===typeof o&&(i.preventDefault(),e=l?Eu(a,l):new FormData(a),El(n,{pending:!0,data:e,method:a.method,action:o},o,e))},currentTarget:a}]})}}(l,e,r,n,a)}Lu(l,t)}))}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===o||(null!=(a=Rt(e,n))&&r.unshift(Hu(e,a,o)),null!=(a=Rt(e,t))&&r.push(Hu(e,a,o))),3===e.tag)return r;e=e.return}return[]}function $u(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Vu(e,t,n,r,a){for(var o=t._reactName,l=[];null!==n&&n!==r;){var i=n,s=i.alternate,c=i.stateNode;if(i=i.tag,null!==s&&s===r)break;5!==i&&26!==i&&27!==i||null===c||(s=c,a?null!=(c=Rt(n,o))&&l.unshift(Hu(n,c,s)):a||null!=(c=Rt(n,o))&&l.push(Hu(n,c,s))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Yu=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Yu,"\n").replace(Gu,"")}function Ku(e,t){return t=Qu(t),Qu(e)===t}function Xu(){}function Ju(e,t,n,r,a,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":jt(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Ju(e,t,"name",a.name,a,null),Ju(e,t,"formEncType",a.formEncType,a,null),Ju(e,t,"formMethod",a.formMethod,a,null),Ju(e,t,"formTarget",a.formTarget,a,null)):(Ju(e,t,"encType",a.encType,a,null),Ju(e,t,"method",a.method,a,null),Ju(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&Ru("scroll",e);break;case"onScrollEnd":null!=r&&Ru("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(l(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ru("beforetoggle",e),Ru("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Dt.get(n)||n,r)}}function Zu(e,t,n,r,a,o){switch(n){case"style":jt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(l(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(l(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Ru("scroll",e);break;case"onScrollEnd":null!=r&&Ru("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ye.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Me]||null)?o[n]:null)&&e.removeEventListener(t,o,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ru("error",e),Ru("load",e);var r,a=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var i=n[r];if(null!=i)switch(r){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ju(e,t,r,i,n,null)}}return o&&Ju(e,t,"srcSet",n.srcSet,n,null),void(a&&Ju(e,t,"src",n.src,n,null));case"input":Ru("invalid",e);var s=r=i=o=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":o=d;break;case"type":i=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(l(137,t));break;default:Ju(e,t,a,d,n,null)}}return yt(e,r,s,c,u,i,o,!1),void dt(e);case"select":for(o in Ru("invalid",e),a=i=r=null,n)if(n.hasOwnProperty(o)&&null!=(s=n[o]))switch(o){case"value":r=s;break;case"defaultValue":i=s;break;case"multiple":a=s;default:Ju(e,t,o,s,n,null)}return t=r,n=i,e.multiple=!!a,void(null!=t?bt(e,!!a,t,!1):null!=n&&bt(e,!!a,n,!0));case"textarea":for(i in Ru("invalid",e),r=o=a=null,n)if(n.hasOwnProperty(i)&&null!=(s=n[i]))switch(i){case"value":a=s;break;case"defaultValue":o=s;break;case"children":r=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(l(91));break;default:Ju(e,t,i,s,n,null)}return wt(e,a,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Ju(e,t,c,a,n,null);return;case"dialog":Ru("beforetoggle",e),Ru("toggle",e),Ru("cancel",e),Ru("close",e);break;case"iframe":case"object":Ru("load",e);break;case"video":case"audio":for(a=0;a<Ou.length;a++)Ru(Ou[a],e);break;case"image":Ru("error",e),Ru("load",e);break;case"details":Ru("toggle",e);break;case"embed":case"source":case"link":Ru("error",e),Ru("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ju(e,t,u,a,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&Zu(e,t,d,a,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(null!=(a=n[s])&&Ju(e,t,s,a,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ld(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var id=null;var sd="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(md)}:sd;function md(e){setTimeout((function(){throw e}))}function hd(e){return"head"===e}function fd(e,t){var n=t,r=0,a=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var l=e.ownerDocument;if(1&n&&wd(l.documentElement),2&n&&wd(l.body),4&n)for(wd(n=l.head),l=n.firstChild;l;){var i=l.nextSibling,s=l.nodeName;l[ze]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===l.rel.toLowerCase()||n.removeChild(l),l=i}}if(0===a)return e.removeChild(o),void Dm(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Dm(t)}function pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":pd(n),qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qe(e)}var kd=new Map,Sd=new Set;function Nd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var jd=F.d;F.d={f:function(){var e=jd.f(),t=Bc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Ml(t):jd.r(e)},D:function(e){jd.D(e),Dd("dns-prefetch",e,null)},C:function(e,t){jd.C(e,t),Dd("preconnect",e,t)},L:function(e,t,n){jd.L(e,t,n);var r=Cd;if(r&&e&&t){var a='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+pt(n.imageSizes)+'"]')):a+='[href="'+pt(e)+'"]';var o=a;switch(t){case"style":o=Ad(e);break;case"script":o=Td(e)}kd.has(o)||(e=m({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(o,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Pd(o))||"script"===t&&r.querySelector(Md(o))||(ed(t=r.createElement("link"),"link",e),$e(t),r.head.appendChild(t)))}},m:function(e,t){jd.m(e,t);var n=Cd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+pt(r)+'"][href="'+pt(e)+'"]',o=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Td(e)}if(!kd.has(o)&&(e=m({rel:"modulepreload",href:e},t),kd.set(o,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Md(o)))return}ed(r=n.createElement("link"),"link",e),$e(r),n.head.appendChild(r)}}},X:function(e,t){jd.X(e,t);var n=Cd;if(n&&e){var r=We(n).hoistableScripts,a=Td(e),o=r.get(a);o||((o=n.querySelector(Md(a)))||(e=m({src:e,async:!0},t),(t=kd.get(a))&&Rd(e,t),$e(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}},S:function(e,t,n){jd.S(e,t,n);var r=Cd;if(r&&e){var a=We(r).hoistableStyles,o=Ad(e);t=t||"default";var l=a.get(o);if(!l){var i={loading:0,preload:null};if(l=r.querySelector(Pd(o)))i.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(o))&&Ld(e,n);var s=l=r.createElement("link");$e(s),ed(s,"link",e),s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),s.addEventListener("load",(function(){i.loading|=1})),s.addEventListener("error",(function(){i.loading|=2})),i.loading|=4,Fd(l,t,r)}l={type:"stylesheet",instance:l,count:1,state:i},a.set(o,l)}}},M:function(e,t){jd.M(e,t);var n=Cd;if(n&&e){var r=We(n).hoistableScripts,a=Td(e),o=r.get(a);o||((o=n.querySelector(Md(a)))||(e=m({src:e,async:!0,type:"module"},t),(t=kd.get(a))&&Rd(e,t),$e(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}};var Cd="undefined"===typeof document?null:document;function Dd(e,t,n){var r=Cd;if(r&&"string"===typeof t&&t){var a=pt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Sd.has(a)||(Sd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(ed(t=r.createElement("link"),"link",e),$e(t),r.head.appendChild(t)))}}function Id(e,t,n,r){var a,o,i,s,c=(c=W.current)?Nd(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ad(n.href),(r=(n=We(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ad(n.href);var u=We(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Pd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(a=c,o=e,i=n,s=d.state,a.querySelector('link[rel="preload"][as="style"]['+o+"]")?s.loading=1:(o=a.createElement("link"),s.preload=o,o.addEventListener("load",(function(){return s.loading|=1})),o.addEventListener("error",(function(){return s.loading|=2})),ed(o,"link",i),$e(o),a.head.appendChild(o))))),t&&null===r)throw Error(l(528,""));return d}if(t&&null!==r)throw Error(l(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Td(n),(r=(n=We(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Ad(e){return'href="'+pt(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Ed(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Td(e){return'[src="'+pt(e)+'"]'}function Md(e){return"script[async]"+e}function Od(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+pt(n.href)+'"]');if(r)return t.instance=r,$e(r),r;var a=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return $e(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",a),Fd(r,n.precedence,e),t.instance=r;case"stylesheet":a=Ad(n.href);var o=e.querySelector(Pd(a));if(o)return t.state.loading|=4,t.instance=o,$e(o),o;r=Ed(n),(a=kd.get(a))&&Ld(r,a),$e(o=(e.ownerDocument||e).createElement("link"));var i=o;return i._p=new Promise((function(e,t){i.onload=e,i.onerror=t})),ed(o,"link",r),t.state.loading|=4,Fd(o,n.precedence,e),t.instance=o;case"script":return o=Td(n.src),(a=e.querySelector(Md(o)))?(t.instance=a,$e(a),a):(r=n,(a=kd.get(o))&&Rd(r=m({},n),a),$e(a=(e=e.ownerDocument||e).createElement("script")),ed(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(l(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Fd(r,n.precedence,e));return t.instance}function Fd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,o=a,l=0;l<r.length;l++){var i=r[l];if(i.dataset.precedence===t)o=i;else if(o!==a)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Rd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var _d=null;function zd(e,t,n){if(null===_d){var r=new Map,a=_d=new Map;a.set(n,r)}else(r=(a=_d).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var o=n[a];if(!(o[ze]||o[Te]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var l=o.getAttribute(t)||"";l=e+l;var i=r.get(l);i?i.push(o):r.set(l,[o])}}return r}function qd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Ud=null;function Hd(){}function Wd(){if(this.count--,0===this.count)if(this.stylesheets)Vd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var $d=null;function Vd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,$d=new Map,t.forEach(Yd,e),$d=null,Wd.call(e))}function Yd(e,t){if(!(4&t.state.loading)){var n=$d.get(e);if(n)var r=n.get(null);else{n=new Map,$d.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<a.length;o++){var l=a[o];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),r=l)}r&&n.set(null,r)}l=(a=t.instance).getAttribute("data-precedence"),(o=n.get(l)||r)===r&&n.set(null,a),n.set(l,a),this.count++,r=Wd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),o?o.parentNode.insertBefore(a,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:w,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Qd(e,t,n,r,a,o,l,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=o,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Kd(e,t,n,r,a,o,l,i,s,c,u,d){return e=new Qd(e,t,n,l,i,s,c,d),t=1,!0===o&&(t|=24),o=Lr(3,null,null,t),e.current=o,o.stateNode=e,(t=Ma()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Xd(e){return e?e=Or:Or}function Jd(e,t,n,r,a,o){a=Xd(a),null===r.context?r.context=a:r.pendingContext=a,(r=ao(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(Lc(n,0,t),lo(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function em(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function tm(e){if(13===e.tag){var t=Er(e,67108864);null!==t&&Lc(t,0,67108864),em(e,67108864)}}var nm=!0;function rm(e,t,n,r){var a=O.T;O.T=null;var o=F.p;try{F.p=2,om(e,t,n,r)}finally{F.p=o,O.T=a}}function am(e,t,n,r){var a=O.T;O.T=null;var o=F.p;try{F.p=8,om(e,t,n,r)}finally{F.p=o,O.T=a}}function om(e,t,n,r){if(nm){var a=lm(r);if(null===a)Uu(e,t,r,im,n),vm(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return dm=bm(dm,e,t,n,r,a),!0;case"dragenter":return mm=bm(mm,e,t,n,r,a),!0;case"mouseover":return hm=bm(hm,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return fm.set(o,bm(fm.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,pm.set(o,bm(pm.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(vm(e,r),4&t&&-1<ym.indexOf(e)){for(;null!==a;){var o=Ue(a);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var l=ve(o.pendingLanes);if(0!==l){var i=o;for(i.pendingLanes|=2,i.entangledLanes|=2;l;){var s=1<<31-he(l);i.entanglements[1]|=s,l&=~s}ku(o),0===(6&nc)&&(kc=te()+500,Su(0,!1))}}break;case 13:null!==(i=Er(o,2))&&Lc(i,0,2),Bc(),em(o,2)}if(null===(o=lm(r))&&Uu(e,t,r,im,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Uu(e,t,r,null,n)}}function lm(e){return sm(e=Et(e))}var im=null;function sm(e){if(im=null,null!==(e=Be(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return im=e,null}function cm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ae:return 8;case oe:case le:return 32;case ie:return 268435456;default:return 32}default:return 32}}var um=!1,dm=null,mm=null,hm=null,fm=new Map,pm=new Map,gm=[],ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vm(e,t){switch(e){case"focusin":case"focusout":dm=null;break;case"dragenter":case"dragleave":mm=null;break;case"mouseover":case"mouseout":hm=null;break;case"pointerover":case"pointerout":fm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pm.delete(t.pointerId)}}function bm(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=Ue(t))&&tm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function xm(e){var t=Be(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=F.p;try{return F.p=e,t()}finally{F.p=n}}(e.priority,(function(){if(13===n.tag){var e=Oc();e=Ie(e);var t=Er(n,e);null!==t&&Lc(t,0,e),em(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=lm(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&tm(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function km(e,t,n){wm(e)&&n.delete(t)}function Sm(){um=!1,null!==dm&&wm(dm)&&(dm=null),null!==mm&&wm(mm)&&(mm=null),null!==hm&&wm(hm)&&(hm=null),fm.forEach(km),pm.forEach(km)}function Nm(e,t){e.blockedOn===t&&(e.blockedOn=null,um||(um=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sm)))}var jm=null;function Cm(e){jm!==e&&(jm=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){jm===e&&(jm=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===sm(r||n))continue;break}var o=Ue(n);null!==o&&(e.splice(t,3),t-=3,El(o,{pending:!0,data:a,method:n.method,action:r},r,a))}})))}function Dm(e){function t(t){return Nm(t,e)}null!==dm&&Nm(dm,e),null!==mm&&Nm(mm,e),null!==hm&&Nm(hm,e),fm.forEach(t),pm.forEach(t);for(var n=0;n<gm.length;n++){var r=gm[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gm.length&&null===(n=gm[0]).blockedOn;)xm(n),null===n.blockedOn&&gm.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],o=n[r+1],l=a[Me]||null;if("function"===typeof o)l||Cm(n);else if(l){var i=null;if(o&&o.hasAttribute("formAction")){if(a=o,l=o[Me]||null)i=l.formAction;else if(null!==sm(a))continue}else i=l.action;"function"===typeof i?n[r+1]=i:(n.splice(r,3),r-=3),Cm(n)}}}function Im(e){this._internalRoot=e}function Am(e){this._internalRoot=e}Am.prototype.render=Im.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));Jd(t.current,Oc(),e,t,null,null)},Am.prototype.unmount=Im.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Bc(),t[Oe]=null}},Am.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gm.length&&0!==t&&t<gm[n].priority;n++);gm.splice(n,0,e),0===n&&xm(e)}};var Pm=a.version;if("19.1.0"!==Pm)throw Error(l(527,Pm,"19.1.0"));F.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return u(a),e;if(o===r)return u(a),t;o=o.sibling}throw Error(l(188))}if(n.return!==r.return)n=a,r=o;else{for(var i=!1,c=a.child;c;){if(c===n){i=!0,n=a,r=o;break}if(c===r){i=!0,r=a,n=o;break}c=c.sibling}if(!i){for(c=o.child;c;){if(c===n){i=!0,n=o,r=a;break}if(c===r){i=!0,r=o,n=a;break}c=c.sibling}if(!i)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Em={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tm.isDisabled&&Tm.supportsFiber)try{ue=Tm.inject(Em),de=Tm}catch(Om){}}t.createRoot=function(e,t){if(!i(e))throw Error(l(299));var n=!1,r="",a=vi,o=bi,s=xi;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Kd(e,1,!1,null,0,n,r,a,o,s,0,null),e[Oe]=t.current,qu(e),new Im(t)},t.hydrateRoot=function(e,t,n){if(!i(e))throw Error(l(299));var r=!1,a="",o=vi,s=bi,c=xi,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Kd(e,1,!0,t,0,r,a,o,s,c,0,u)).context=Xd(null),n=t.current,(a=ao(r=Ie(r=Oc()))).callback=null,oo(n,a,r),n=r,t.current.lanes=n,je(t,n),ku(t),e[Oe]=t.current,qu(e),new Am(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},122:e=>{e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,a,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(a=r;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=r;0!==a--;)if(!Object.prototype.hasOwnProperty.call(n,o[a]))return!1;for(a=r;0!==a--;){var l=o[a];if(!e(t[l],n[l]))return!1}return!0}return t!==t&&n!==n}},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,p(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function N(e,t,r,a,o,l){return r=l.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:l}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(){}function A(e,t,a,o,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s,c,u=!1;if(null===e)u=!0;else switch(i){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case m:return A((u=e._init)(e._payload),t,a,o,l)}}if(u)return l=l(e),u=""===o?"."+D(e,0):o,w(l)?(a="",null!=u&&(a=u.replace(C,"$&/")+"/"),A(l,t,a,"",(function(e){return e}))):null!=l&&(j(l)&&(s=l,c=a+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+u,l=N(s.type,c,void 0,0,0,s.props)),t.push(l)),1;u=0;var d,f=""===o?".":o+":";if(w(e))for(var p=0;p<e.length;p++)u+=A(o=e[p],t,a,i=f+D(o,p),l);else if("function"===typeof(p=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=p.call(e),p=0;!(o=e.next()).done;)u+=A(o=o.value,t,a,i=f+D(o,p++),l);else if("object"===i){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,o,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],a=0;return A(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function E(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function M(){}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=l,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=p({},e.props),a=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var l=Array(o),i=0;i<o;i++)l[i]=arguments[i+2];r.children=l}return N(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,n){var r,a={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var i=Array(l),s=0;s<l;s++)i[s]=arguments[s+2];a.children=i}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return N(e,o,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),a=k.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(M,T)}catch(o){T(o)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},i=Symbol.for("react.portal");var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=s.T,n=l.p;try{if(s.T=null,l.p=2,e)return e()}finally{s.T=t,l.p=n,l.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,l.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&l.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?l.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):"script"===n&&l.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);l.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&l.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);l.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);l.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else l.d.m(e)},t.requestFormReset=function(e){l.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},t.useFormStatus=function(){return s.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,l=a>>>1;r<l;){var i=2*(r+1)-1,s=e[i],c=i+1,u=e[c];if(0>o(s,n))c<a&&0>o(u,s)?(e[r]=u,e[c]=n,r=c):(e[r]=s,e[i]=n,r=i);else{if(!(c<a&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,s=i.now();t.unstable_now=function(){return i.now()-s}}var c=[],u=[],d=1,m=null,h=3,f=!1,p=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!p)if(null!==r(c))p=!0,N||(N=!0,S());else{var t=r(u);null!==t&&T(k,t.startTime-e)}}var S,N=!1,j=-1,C=5,D=-1;function I(){return!!y||!(t.unstable_now()-D<C)}function A(){if(y=!1,N){var e=t.unstable_now();D=e;var n=!0;try{e:{p=!1,g&&(g=!1,b(j),j=-1),f=!0;var o=h;try{t:{for(w(e),m=r(c);null!==m&&!(m.expirationTime>e&&I());){var l=m.callback;if("function"===typeof l){m.callback=null,h=m.priorityLevel;var i=l(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){m.callback=i,w(e),n=!0;break t}m===r(c)&&a(c),w(e)}else a(c);m=r(c)}if(null!==m)n=!0;else{var s=r(u);null!==s&&T(k,s.startTime-e),n=!1}}break e}finally{m=null,h=o,f=!1}n=void 0}}finally{n?S():N=!1}}}if("function"===typeof x)S=function(){x(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,E=P.port2;P.port1.onmessage=A,S=function(){E.postMessage(null)}}else S=function(){v(A,0)};function T(e,n){j=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,o){var l=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?l+o:l:o=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:i=o+i,sortIndex:-1},o>l?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(b(j),j=-1):g=!0,T(k,o-l))):(e.sortIndex=i,n(c,e),p||f||(p=!0,N||(N=!0,S()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{FILE:()=>Ue,HTML:()=>$e,TEXT:()=>We,URL:()=>He});var a=n(43),o=n(391);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function i(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const m=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const p=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],g=(0,a.forwardRef)(((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:i="",children:s,iconNode:c}=e,m=d(e,p);return(0,a.createElement)("svg",u(u(u({ref:t},f),{},{width:r,height:r,stroke:n,strokeWidth:l?24*Number(o)/Number(r):o,className:h("lucide",i)},!s&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"}),m),[...c.map((e=>{let[t,n]=e;return(0,a.createElement)(t,n)})),...Array.isArray(s)?s:[s]])})),y=["className"],v=(e,t)=>{const n=(0,a.forwardRef)(((n,r)=>{let{className:o}=n,l=d(n,y);return(0,a.createElement)(g,u({ref:r,iconNode:t,className:h("lucide-".concat((i=m(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),o)},l));var i}));return n.displayName=m(e),n},b=v("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),x=v("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),w=v("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),k=v("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),S=v("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var N=n(579);function j(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var C="function"===typeof Symbol&&Symbol.observable||"@@observable",D=function(){return Math.random().toString(36).substring(7).split("").join(".")},I={INIT:"@@redux/INIT"+D(),REPLACE:"@@redux/REPLACE"+D(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+D()}};function A(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function P(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(j(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(j(1));return n(P)(e,t)}if("function"!==typeof e)throw new Error(j(2));var a=e,o=t,l=[],i=l,s=!1;function c(){i===l&&(i=l.slice())}function u(){if(s)throw new Error(j(3));return o}function d(e){if("function"!==typeof e)throw new Error(j(4));if(s)throw new Error(j(5));var t=!0;return c(),i.push(e),function(){if(t){if(s)throw new Error(j(6));t=!1,c();var n=i.indexOf(e);i.splice(n,1),l=null}}}function m(e){if(!A(e))throw new Error(j(7));if("undefined"===typeof e.type)throw new Error(j(8));if(s)throw new Error(j(9));try{s=!0,o=a(o,e)}finally{s=!1}for(var t=l=i,n=0;n<t.length;n++){(0,t[n])()}return e}return m({type:I.INIT}),(r={dispatch:m,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(j(10));a=e,m({type:I.REPLACE})}})[C]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(j(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[C]=function(){return this},e},r}function E(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if("undefined"!==typeof process&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let n=0;e=new Error(t.replace(/%s/g,(function(){return r[n++]}))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function T(e){return"object"===typeof e}const M="dnd-core/INIT_COORDS",O="dnd-core/BEGIN_DRAG",F="dnd-core/PUBLISH_DRAG_SOURCE",L="dnd-core/HOVER",R="dnd-core/DROP",_="dnd-core/END_DRAG";function z(e,t){return{type:M,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const q={type:M,payload:{clientOffset:null,sourceClientOffset:null}};function B(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0};const{publishSource:r=!0,clientOffset:a,getSourceClientOffset:o}=n,l=e.getMonitor(),i=e.getRegistry();e.dispatch(z(a)),function(e,t,n){E(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){E(n.getSource(e),"Expected sourceIds to be registered.")}))}(t,l,i);const s=function(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,l);if(null==s)return void e.dispatch(q);let c=null;if(a){if(!o)throw new Error("getSourceClientOffset must be defined");!function(e){E("function"===typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(o),c=o(s)}e.dispatch(z(a,c));const u=i.getSource(s).beginDrag(l,s);if(null==u)return;!function(e){E(T(e),"Item must be an object.")}(u),i.pinSource(s);const d=i.getSourceType(s);return{type:O,payload:{itemType:d,item:u,sourceId:s,clientOffset:a||null,sourceClientOffset:c||null,isSourcePublic:!!r}}}}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){U(e,t,n[t])}))}return e}function W(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=e.getMonitor(),r=e.getRegistry();!function(e){E(e.isDragging(),"Cannot call drop while not dragging."),E(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n);const a=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n);a.forEach(((a,o)=>{const l=function(e,t,n,r){const a=n.getTarget(e);let o=a?a.drop(r,e):void 0;(function(e){E("undefined"===typeof e||T(e),"Drop result must either be an object or undefined.")})(o),"undefined"===typeof o&&(o=0===t?{}:r.getDropResult());return o}(a,o,r,n),i={type:R,payload:{dropResult:H({},t,l)}};e.dispatch(i)}))}}function $(e){return function(){const t=e.getMonitor(),n=e.getRegistry();!function(e){E(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const r=t.getSourceId();if(null!=r){n.getSource(r,!0).endDrag(t,r),n.unpinSource()}return{type:_}}}function V(e,t){return null===t?null===e:Array.isArray(e)?e.some((e=>e===t)):e===t}function Y(e){return function(t){let{clientOffset:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e){E(Array.isArray(e),"Expected targetIds to be an array.")}(t);const r=t.slice(0),a=e.getMonitor(),o=e.getRegistry();return function(e,t,n){for(let r=e.length-1;r>=0;r--){const a=e[r];V(t.getTargetType(a),n)||e.splice(r,1)}}(r,o,a.getItemType()),function(e,t,n){E(t.isDragging(),"Cannot call hover while not dragging."),E(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const t=e[r];E(e.lastIndexOf(t)===r,"Expected targetIds to be unique in the passed array.");E(n.getTarget(t),"Expected targetIds to be registered.")}}(r,a,o),function(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}(r,a,o),{type:L,payload:{targetIds:r,clientOffset:n||null}}}}function G(e){return function(){if(e.getMonitor().isDragging())return{type:F}}}class Q{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;const n=function(e){return{beginDrag:B(e),publishDragSource:G(e),hover:Y(e),drop:W(e),endDrag:$(e)}}(this);return Object.keys(n).reduce(((r,a)=>{const o=n[a];var l;return r[a]=(l=o,function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];const o=l.apply(e,r);"undefined"!==typeof o&&t(o)}),r}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function K(e,t){return{x:e.x-t.x,y:e.y-t.y}}const X=[],J=[];X.__IS_NONE__=!0,J.__IS_ALL__=!0;class Z{subscribeToStateChange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{handlerIds:n}=t;E("function"===typeof e,"listener must be a function."),E("undefined"===typeof n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;return this.store.subscribe((()=>{const t=this.store.getState(),a=t.stateId;try{const o=a===r||a===r+1&&!function(e,t){return e!==X&&(e===J||"undefined"===typeof t||(n=e,t.filter((e=>n.indexOf(e)>-1))).length>0);var n}(t.dirtyHandlerIds,n);o||e()}finally{r=a}}))}subscribeToOffsetChange(e){E("function"===typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe((()=>{const n=this.store.getState().dragOffset;n!==t&&(t=n,e())}))}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return E(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(E(t,"Expected to find a valid target. targetId=".concat(e)),!this.isDragging()||this.didDrop())return!1;return V(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(E(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()||!this.isSourcePublic())return!1;return this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const r=this.registry.getTargetType(e),a=this.getItemType();if(a&&!V(r,a))return!1;const o=this.getTargetIds();if(!o.length)return!1;const l=o.indexOf(e);return n?l===o.length-1:l>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return t&&n&&r?K((o=r,{x:(a=t).x+o.x,y:a.y+o.y}),n):null;var a,o}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:t,initialClientOffset:n}=e;return t&&n?K(t,n):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const ee="undefined"!==typeof global?global:self,te=ee.MutationObserver||ee.WebKitMutationObserver;function ne(e){return function(){const t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}const re="function"===typeof te?function(e){let t=1;const n=new te(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}:ne;class ae{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const oe=new class{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,n=e.length-this.index;t<n;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=re(this.flush),this.requestErrorThrow=ne((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},le=new class{create(e){const t=this.freeTasks,n=t.length?t.pop():new ae(this.onError,(e=>t[t.length]=e));return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}(oe.registerPendingError);const ie="dnd-core/ADD_SOURCE",se="dnd-core/ADD_TARGET",ce="dnd-core/REMOVE_SOURCE",ue="dnd-core/REMOVE_TARGET";function de(e,t){t&&Array.isArray(e)?e.forEach((e=>de(e,!1))):E("string"===typeof e||"symbol"===typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var me;!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(me||(me={}));let he=0;function fe(e){const t=(he++).toString();switch(e){case me.SOURCE:return"S".concat(t);case me.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function pe(e){switch(e[0]){case"S":return me.SOURCE;case"T":return me.TARGET;default:throw new Error("Cannot parse handler ID: ".concat(e))}}function ge(e,t){const n=e.entries();let r=!1;do{const{done:e,value:[,a]}=n.next();if(a===t)return!0;r=!!e}while(!r);return!1}class ye{addSource(e,t){de(e),function(e){E("function"===typeof e.canDrag,"Expected canDrag to be a function."),E("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),E("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);const n=this.addHandler(me.SOURCE,e,t);return this.store.dispatch(function(e){return{type:ie,payload:{sourceId:e}}}(n)),n}addTarget(e,t){de(e,!0),function(e){E("function"===typeof e.canDrop,"Expected canDrop to be a function."),E("function"===typeof e.hover,"Expected hover to be a function."),E("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);const n=this.addHandler(me.TARGET,e,t);return this.store.dispatch(function(e){return{type:se,payload:{targetId:e}}}(n)),n}containsHandler(e){return ge(this.dragSources,e)||ge(this.dropTargets,e)}getSource(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];E(this.isSourceId(e),"Expected a valid source ID.");return t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return E(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return E(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return E(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return pe(e)===me.SOURCE}isTargetId(e){return pe(e)===me.TARGET}removeSource(e){var t;E(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:ce,payload:{sourceId:e}}}(e)),t=()=>{this.dragSources.delete(e),this.types.delete(e)},oe.enqueueTask(le.create(t))}removeTarget(e){E(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:ue,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);E(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){E(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const r=fe(e);return this.types.set(r,t),e===me.SOURCE?this.dragSources.set(r,n):e===me.TARGET&&this.dropTargets.set(r,n),r}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const ve=(e,t)=>e===t;function be(){let e=arguments.length>1?arguments[1]:void 0;switch(e.type){case L:break;case ie:case se:case ue:case ce:return X;default:return J}const{targetIds:t=[],prevTargetIds:n=[]}=e.payload,r=function(e,t){const n=new Map,r=e=>{n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);const a=[];return n.forEach(((e,t)=>{1===e&&a.push(t)})),a}(t,n),a=r.length>0||!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ve;if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(t,n);if(!a)return X;const o=n[n.length-1],l=t[t.length-1];return o!==l&&(o&&r.push(o),l&&r.push(l)),r}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const we={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;const{payload:n}=t;switch(t.type){case M:case O:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case L:return r=e.clientOffset,a=n.clientOffset,!r&&!a||r&&a&&r.x===a.x&&r.y===a.y?e:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xe(e,t,n[t])}))}return e}({},e,{clientOffset:n.clientOffset});case _:case R:return we;default:return e}var r,a}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Se(e,t,n[t])}))}return e}const je={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;const{payload:n}=t;switch(t.type){case O:return Ne({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case F:return Ne({},e,{isSourcePublic:!0});case L:return Ne({},e,{targetIds:n.targetIds});case ue:return-1===e.targetIds.indexOf(n.targetId)?e:Ne({},e,{targetIds:(r=e.targetIds,a=n.targetId,r.filter((e=>e!==a)))});case R:return Ne({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case _:return Ne({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var r,a}function De(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case ie:case se:return e+1;case ce:case ue:return e-1;default:return e}}function Ie(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ae(e,t,n[t])}))}return e}function Ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:be(e.dirtyHandlerIds,{type:t.type,payload:Pe({},t.payload,{prevTargetIds:(n=e,r="dragOperation.targetIds",a=[],r.split(".").reduce(((e,t)=>e&&e[t]?e[t]:a||null),n))})}),dragOffset:ke(e.dragOffset,t),refCount:De(e.refCount,t),dragOperation:Ce(e.dragOperation,t),stateId:Ie(e.stateId)};var n,r,a}function Te(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=function(e){const t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return P(Ee,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(arguments.length>3&&void 0!==arguments[3]&&arguments[3]),a=new Z(r,new ye(r)),o=new Q(r,a),l=e(o,t,n);return o.receiveBackend(l),o}const Me=(0,a.createContext)({dragDropManager:void 0});function Oe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}let Fe=0;const Le=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Re=(0,a.memo)((function(e){var{children:t}=e,n=Oe(e,["children"]);const[r,o]=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_e(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const a=t;a[Le]||(a[Le]={dragDropManager:Te(e,t,n,r)});return a[Le]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(n);return(0,a.useEffect)((()=>{if(o){const e=_e();return++Fe,()=>{0===--Fe&&(e[Le]=null)}}}),[]),(0,N.jsx)(Me.Provider,{value:r,children:t})}));function _e(){return"undefined"!==typeof global?global:window}function ze(e){let t=null;return()=>(null==t&&(t=e()),t)}class qe{enter(e){const t=this.entered.length;return this.entered=function(e,t){const n=new Set,r=e=>n.add(e);e.forEach(r),t.forEach(r);const a=[];return n.forEach((e=>a.push(e))),a}(this.entered.filter((t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e)))),[e]),0===t&&this.entered.length>0}leave(e){const t=this.entered.length;var n,r;return this.entered=(n=this.entered.filter(this.isNodeInDocument),r=e,n.filter((e=>e!==r))),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Be{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn("Browser doesn't allow reading \"".concat(e,'" until the drop event.')),null)})}))}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach((n=>{const r=this.config.exposeProperties[n];null!=r&&(t[n]={value:r(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Ue="__NATIVE_FILE__",He="__NATIVE_URL__",We="__NATIVE_TEXT__",$e="__NATIVE_HTML__";function Ve(e,t,n){const r=t.reduce(((t,n)=>t||e.getData(n)),"");return null!=r?r:n}const Ye={[Ue]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[$e]:{exposeProperties:{html:(e,t)=>Ve(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[He]:{exposeProperties:{urls:(e,t)=>Ve(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[We]:{exposeProperties:{text:(e,t)=>Ve(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function Ge(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(Ye).filter((e=>{const n=Ye[e];return!!(null===n||void 0===n?void 0:n.matchesTypes)&&n.matchesTypes.some((e=>t.indexOf(e)>-1))}))[0]||null}const Qe=ze((()=>/firefox/i.test(navigator.userAgent))),Ke=ze((()=>Boolean(window.safari)));class Xe{interpolate(e){const{xs:t,ys:n,c1s:r,c2s:a,c3s:o}=this;let l=t.length-1;if(e===t[l])return n[l];let i,s=0,c=o.length-1;for(;s<=c;){i=Math.floor(.5*(s+c));const r=t[i];if(r<e)s=i+1;else{if(!(r>e))return n[i];c=i-1}}l=Math.max(0,c);const u=e-t[l],d=u*u;return n[l]+r[l]*u+a[l]*d+o[l]*u*d}constructor(e,t){const{length:n}=e,r=[];for(let h=0;h<n;h++)r.push(h);r.sort(((t,n)=>e[t]<e[n]?-1:1));const a=[],o=[],l=[];let i,s;for(let h=0;h<n-1;h++)i=e[h+1]-e[h],s=t[h+1]-t[h],o.push(i),a.push(s),l.push(s/i);const c=[l[0]];for(let h=0;h<o.length-1;h++){const e=l[h],t=l[h+1];if(e*t<=0)c.push(0);else{i=o[h];const n=o[h+1],r=i+n;c.push(3*r/((r+n)/e+(r+i)/t))}}c.push(l[l.length-1]);const u=[],d=[];let m;for(let h=0;h<c.length-1;h++){m=l[h];const e=c[h],t=1/o[h],n=e+c[h+1]-m-m;u.push((m-e-n)*t),d.push(n*t*t)}this.xs=e,this.ys=t,this.c1s=c,this.c2s=u,this.c3s=d}}function Je(e){const t=1===e.nodeType?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function Ze(e){return{x:e.clientX,y:e.clientY}}function et(e,t,n,r,a){const o=function(e){var t;return"IMG"===e.nodeName&&(Qe()||!(null===(t=document.documentElement)||void 0===t?void 0:t.contains(e)))}(t),l=Je(o?e:t),i={x:n.x-l.x,y:n.y-l.y},{offsetWidth:s,offsetHeight:c}=e,{anchorX:u,anchorY:d}=r,{dragPreviewWidth:m,dragPreviewHeight:h}=function(e,t,n,r){let a=e?t.width:n,o=e?t.height:r;return Ke()&&e&&(o/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:o}}(o,t,s,c),{offsetX:f,offsetY:p}=a,g=0===p||p;return{x:0===f||f?f:new Xe([0,.5,1],[i.x,i.x/s*m,i.x+m-s]).interpolate(u),y:g?p:(()=>{let e=new Xe([0,.5,1],[i.y,i.y/c*h,i.y+h-c]).interpolate(d);return Ke()&&o&&(e+=(window.devicePixelRatio-1)*h),e})()}}class tt{get window(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){nt(e,t,n[t])}))}return e}class at{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var t;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const r=t=>this.handleDragStart(t,e),a=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",r),t.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",r),t.removeEventListener("selectstart",a),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=t=>this.handleDragEnter(t,e),r=t=>this.handleDragOver(t,e),a=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",r),t.addEventListener("drop",a),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",r),t.removeEventListener("drop",a)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return rt({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return rt({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(r).some((t=>r[t]===e))}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){const n=Ye[e];if(!n)throw new Error("native type ".concat(e," has no configuration"));const r=new Be(n);return r.loadDataTransfer(t),r}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var e;if(this.currentDragSourceNode=null,this.rootElement)null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&Je(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>Boolean(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!==typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!==typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;const{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;const n=Ze(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:n});const{dataTransfer:r}=e,a=Ge(r);if(this.monitor.isDragging()){if(r&&"function"===typeof r.setDragImage){const e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),a=this.sourcePreviewNodes.get(e)||t;if(a){const{anchorX:e,anchorY:o,offsetX:l,offsetY:i}=this.getCurrentSourcePreviewNodeOptions(),s=et(t,a,n,{anchorX:e,anchorY:o},{offsetX:l,offsetY:i});r.setDragImage(a,s.x,s.y)}}try{null===r||void 0===r||r.setData("application/json",{})}catch(o){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(a)this.beginDragNativeItem(a);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{var t;(this.dragEnterTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:n}=e,r=Ge(n);r&&this.beginDragNativeItem(r,n)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:t}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:Ze(e)});t.some((e=>this.monitor.canDropOnTarget(e)))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=e=>{var t;(this.dragOverTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=e=>{const{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.lastClientOffset=Ze(e),this.scheduleHover(t);(t||[]).some((e=>this.monitor.canDropOnTarget(e)))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault();this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=e=>{var t;(this.dropTargetIds=[],this.isDraggingNativeItem())?(e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):Ge(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:Ze(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{const t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new tt(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new qe(this.isNodeInDocument)}}const ot=function(e,t,n){return new at(e,t,n)},lt=e=>{let{isOpen:t,title:n,onClose:r,children:a,size:o="md",closeOnOverlayClick:l=!0,overlayClassName:i="",modalClassName:s=""}=e;if(!t)return null;return(0,N.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 ".concat(i),onClick:e=>{e.target===e.currentTarget&&l&&r()},children:(0,N.jsxs)("div",{className:"bg-theme-primary rounded-lg shadow-xl overflow-hidden ".concat({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl","7xl":"max-w-7xl",full:"max-w-full"}[o]," w-full mx-4 ").concat(s),onClick:e=>e.stopPropagation(),children:[(0,N.jsxs)("div",{className:"px-6 py-4 border-b border-theme-secondary flex justify-between items-center",children:[(0,N.jsx)("h3",{className:"text-lg font-semibold text-theme-primary",children:n}),(0,N.jsx)("button",{onClick:r,className:"text-theme-tertiary hover:text-theme-secondary transition-colors",children:(0,N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,N.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,N.jsx)("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:a})]})})},it=e=>{let{onSubmit:t,onCancel:n,onSubmitAnother:r,children:a,submitLabel:o="Save",cancelLabel:l="Cancel",submitAnotherLabel:i="+",submitAnotherTitle:s="Save and add another (Shift+Enter)",isSubmitDisabled:c=!1,isSubmitAnotherDisabled:u=!1,showSubmitAnother:d=!1,className:m=""}=e;return(0,N.jsxs)("div",{className:"space-y-4 ".concat(m),onKeyDown:e=>{"Enter"!==e.key||e.isDefaultPrevented()?"Escape"===e.key&&n&&(e.preventDefault(),n()):(e.preventDefault(),e.shiftKey&&r&&!u?r():t&&!c&&t())},children:[a,(0,N.jsxs)("div",{className:"flex space-x-2",children:[(0,N.jsx)("button",{type:"button",onClick:t,className:"flex-1 btn-primary py-2 px-4 rounded",disabled:c,children:o}),d&&r&&(0,N.jsx)("button",{type:"button",onClick:r,className:"btn-primary py-2 px-3 rounded",disabled:u,title:s,children:i}),n&&(0,N.jsx)("button",{type:"button",onClick:n,className:"btn-secondary py-2 px-4 rounded",children:l})]}),(0,N.jsxs)("div",{className:"text-xs text-theme-tertiary mt-2",children:["\ud83d\udca1 Press Enter to save",d&&" \u2022 Shift+Enter to save & add another",n&&" \u2022 Escape to cancel"]})]})},st=e=>{let{id:t,label:n,children:r,error:o,hint:l,required:i=!1,className:s=""}=e;const c=t||"field-".concat(Math.random().toString(36).substr(2,9));return(0,N.jsxs)("div",{className:"form-field space-y-1 ".concat(s),children:[n&&(0,N.jsxs)("label",{htmlFor:c,className:"block text-sm font-medium mb-1 text-theme-primary",children:[n,i&&(0,N.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),a.cloneElement(r,{id:c,"aria-invalid":o?"true":"false","aria-describedby":o?"".concat(c,"-error"):l?"".concat(c,"-hint"):void 0}),o&&(0,N.jsx)("div",{id:"".concat(c,"-error"),className:"text-xs text-red-500 mt-1",role:"alert",children:o}),l&&!o&&(0,N.jsx)("div",{id:"".concat(c,"-hint"),className:"text-xs text-theme-tertiary mt-1",children:l})]})},ct=["name","label","checked","onChange","error","hint","disabled","className","darkMode","children"],ut=e=>{let{name:t,label:n,checked:r,onChange:a,error:o="",hint:l="",disabled:i=!1,className:s="",darkMode:c=!1,children:m}=e,h=d(e,ct);const f="\n    h-4 w-4 rounded border-theme-primary text-theme-blue \n    focus:ring-theme-blue focus:ring-2 focus:ring-offset-0\n    ".concat(i?"opacity-50 cursor-not-allowed":"cursor-pointer","\n    ").concat(o?"border-red-500":"","\n    ").concat(s,"\n  ");return(0,N.jsx)(st,{id:t,label:"",error:o,hint:l,required:!1,children:(0,N.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,N.jsx)("input",u({type:"checkbox",name:t,checked:r,onChange:e=>{a&&a(e)},className:f,disabled:i},h)),n&&(0,N.jsx)("label",{htmlFor:t,className:"text-sm text-theme-primary ".concat(i?"opacity-50":"cursor-pointer"),children:n}),m&&(0,N.jsx)("div",{className:"text-sm text-theme-secondary",children:m})]})})},dt=["name","label","value","onChange","error","hint","required","className","darkMode","colors"],mt=[{value:"bg-gradient-to-r from-blue-500 to-blue-600",style:"linear-gradient(to right, #3B82F6, #2563EB)",name:"Blue"},{value:"bg-gradient-to-r from-green-500 to-emerald-600",style:"linear-gradient(to right, #10B981, #059669)",name:"Green"},{value:"bg-gradient-to-r from-yellow-400 to-orange-500",style:"linear-gradient(to right, #FBBF24, #F97316)",name:"Yellow"},{value:"bg-gradient-to-r from-red-500 to-pink-600",style:"linear-gradient(to right, #EF4444, #DC2626)",name:"Red"},{value:"bg-gradient-to-r from-purple-500 to-indigo-600",style:"linear-gradient(to right, #8B5CF6, #4F46E5)",name:"Purple"},{value:"bg-gradient-to-r from-orange-500 to-red-500",style:"linear-gradient(to right, #F97316, #EF4444)",name:"Orange"},{value:"bg-gradient-to-r from-cyan-500 to-teal-600",style:"linear-gradient(to right, #06B6D4, #0D9488)",name:"Cyan"},{value:"bg-gradient-to-r from-lime-500 to-green-600",style:"linear-gradient(to right, #84CC16, #16A34A)",name:"Lime"}],ht=e=>{let{name:t,label:n,value:r,onChange:a,error:o="",hint:l="",required:i=!1,className:s="",darkMode:c=!1,colors:m=mt}=e,h=d(e,dt);return(0,N.jsx)(st,{id:t,label:n,error:o,hint:l,required:i,className:s,children:(0,N.jsx)("div",u(u({className:"flex justify-between gap-3"},h),{},{children:m.map(((e,n)=>(0,N.jsx)("button",{type:"button",onClick:()=>{return n=e.value,void(a&&a({target:{name:t,value:n}}));var n},className:"\n              w-10 h-10 rounded-full border-3 transition-all duration-200 hover:scale-110 hover:shadow-lg\n              ".concat(r===e.value?"border-gray-800 dark:border-white scale-110 shadow-lg ring-2 ring-offset-2 ring-gray-400":"border-gray-300 dark:border-gray-600 hover:border-gray-400","\n            "),style:{background:e.style},title:e.name,children:r===e.value&&(0,N.jsx)("span",{className:"flex items-center justify-center h-full text-white drop-shadow-lg",children:(0,N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:(0,N.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})},"".concat(e.value,"-").concat(n))))}))})},ft=["name","label","value","onChange","placeholder","error","hint","required","className","darkMode","hideLabel"],pt=e=>{let{name:t,label:n,value:r,onChange:o,placeholder:l="0.00",error:i="",hint:s="",required:c=!1,className:m="",darkMode:h=!1,hideLabel:f=!1}=e,p=d(e,ft);const[g,y]=(0,a.useState)("0.00");(0,a.useEffect)((()=>{y((parseFloat(r)||0).toFixed(2))}),[r]);const v="w-full p-2 border rounded bg-theme-secondary border-theme-primary text-theme-primary ".concat(i?"border-red-500":""," ").concat(m),b=(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-theme-secondary z-10",children:"$"}),(0,N.jsx)("input",u({type:"text",name:t,value:g,onChange:e=>{let t=e.target.value.replace(/\D/g,"");if(!t)return y("0.00"),void(o&&o(u(u({},e),{},{target:u(u({},e.target),{},{value:0})})));t.length>8&&(t=t.slice(0,8));let n=(parseInt(t)||0)/100,r=n.toFixed(2);y(r),o&&o(u(u({},e),{},{target:u(u({},e.target),{},{value:n})}))},onKeyDown:e=>{-1!==[8,9,27,13,46].indexOf(e.keyCode)||65===e.keyCode&&!0===e.ctrlKey||67===e.keyCode&&!0===e.ctrlKey||86===e.keyCode&&!0===e.ctrlKey||88===e.keyCode&&!0===e.ctrlKey||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()},onFocus:e=>{e.target.select()},placeholder:l,className:"pl-8 ".concat(v)},p))]});return f?b:(0,N.jsx)(st,{id:t,label:n,error:i,hint:s,required:c,children:b})},gt=["name","label","value","onChange","error","hint","required","className","darkMode","min","max"],yt=e=>{let{name:t,label:n,value:r,onChange:a,error:o="",hint:l="",required:i=!1,className:s="",darkMode:c=!1,min:m,max:h}=e,f=d(e,gt);const p="w-full p-2 border rounded ".concat("bg-theme-secondary border-theme-primary"," text-theme-primary ",o?"border-red-500":""," ").concat(s);return(0,N.jsx)(st,{id:t,label:n,error:o,hint:l,required:i,children:(0,N.jsx)("input",u({type:"date",name:t,value:r,onChange:e=>{a&&a(e)},className:p,min:m,max:h,style:c?{colorScheme:"dark"}:{}},f))})},vt=["name","label","value","onChange","placeholder","error","hint","required","className","darkMode","hideLabel"],bt=e=>{let{name:t,label:n,value:r,onChange:o,placeholder:l="0.0",error:i="",hint:s="",required:c=!1,className:m="",darkMode:h=!1,hideLabel:f=!1}=e,p=d(e,vt);const[g,y]=(0,a.useState)("0.0");(0,a.useEffect)((()=>{y((parseFloat(r)||0).toFixed(1))}),[r]);const v="w-full p-2 border rounded bg-theme-primary border-theme-primary text-theme-primary ".concat(i?"border-red-500":""," ").concat(m),b=(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)("input",u({type:"text",name:t,value:g,onChange:e=>{let t=e.target.value.replace(/[^0-9.]/g,"");const n=t.split(".");n.length>2&&(t=n[0]+"."+n.slice(1).join(""));let r=parseFloat(t)||0;if(r>100&&(r=100,t="100.0"),""===t||"."===t)y("0.0"),r=0;else if(t.endsWith("."))y(t+"0");else if(t.includes(".")){const e=t.split(".");if(0===e[1].length)y(t+"0");else if(e[1].length>1){const t=e[0]+"."+e[1].charAt(0);y(t),r=parseFloat(t)}else y(t)}else y(t+".0");o&&o(u(u({},e),{},{target:u(u({},e.target),{},{value:r})}))},onKeyDown:e=>{-1!==[8,9,27,13,46,190,110].indexOf(e.keyCode)||65===e.keyCode&&!0===e.ctrlKey||67===e.keyCode&&!0===e.ctrlKey||86===e.keyCode&&!0===e.ctrlKey||88===e.keyCode&&!0===e.ctrlKey||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()},onFocus:e=>{e.target.select()},placeholder:l,className:"pr-8 ".concat(v)},p)),(0,N.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-theme-secondary z-10",children:"%"})]});return f?b:(0,N.jsx)(st,{id:t,label:n,error:i,hint:s,required:c,children:b})},xt=["name","label","value","onChange","options","placeholder","error","hint","required","disabled","className","darkMode"],wt=e=>{let{name:t,label:n,value:r,onChange:a,options:o=[],placeholder:l="Select an option...",error:i="",hint:s="",required:c=!1,disabled:m=!1,className:h="",darkMode:f=!1}=e,p=d(e,xt);const g="w-full p-2 border rounded bg-theme-secondary border-theme-primary text-theme-primary ".concat(i?"border-red-500":""," ").concat(m?"opacity-50 cursor-not-allowed":""," ").concat(h);return(0,N.jsx)(st,{id:t,label:n,error:i,hint:s,required:c,children:(0,N.jsxs)("select",u(u({name:t,value:r,onChange:e=>{a&&a(e)},className:g,disabled:m},p),{},{children:[l&&(0,N.jsx)("option",{value:"",disabled:!0,children:l}),o.map((e=>(0,N.jsx)("option",{value:e.value,children:e.label},e.value)))]}))})},kt=["name","label","value","onChange","placeholder","type","error","hint","required","autoFocus","className","darkMode"],St=e=>{let{name:t,label:n,value:r,onChange:a,placeholder:o="",type:l="text",error:i="",hint:s="",required:c=!1,autoFocus:m=!1,className:h="",darkMode:f=!1}=e,p=d(e,kt);const g="w-full p-2 border rounded bg-theme-secondary border-theme-primary' \n  } text-theme-primary ".concat(i?"border-red-500":""," ").concat(h);return(0,N.jsx)(st,{id:t,label:n,error:i,hint:s,required:c,children:(0,N.jsx)("input",u({type:l,name:t,value:r,onChange:e=>{a&&a(e)},placeholder:o,className:g,autoFocus:m},p))})},Nt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function jt(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Ct={date:jt({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:jt({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:jt({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Dt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function It(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function At(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const l=o[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],s=Array.isArray(i)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(i,(e=>e.test(l))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(i,(e=>e.test(l)));let c;c=e.valueCallback?e.valueCallback(s):s,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(l.length)}}}var Pt;const Et={code:"en-US",formatDistance:(e,t,n)=>{let r;const a=Nt[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Ct,formatRelative:(e,t,n,r)=>Dt[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:It({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:It({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:It({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:It({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:It({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Pt={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(Pt.matchPattern);if(!n)return null;const r=n[0],a=e.match(Pt.parsePattern);if(!a)return null;let o=Pt.valueCallback?Pt.valueCallback(a[0]):a[0];return o=t.valueCallback?t.valueCallback(o):o,{value:o,rest:e.slice(r.length)}}),era:At({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:At({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:At({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:At({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:At({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let Tt={};function Mt(){return Tt}Math.pow(10,8);const Ot=6048e5,Ft=6e4,Lt=36e5,Rt=Symbol.for("constructDateFrom");function _t(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Rt in e?e[Rt](t):e instanceof Date?new e.constructor(t):new Date(t)}function zt(e,t){return _t(t||e,e)}function qt(e){const t=zt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Bt(e,t){const n=zt(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function Ut(e,t,n){const[r,a]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=_t.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(a)}(null===n||void 0===n?void 0:n.in,e,t),o=Bt(r),l=Bt(a),i=+o-qt(o),s=+l-qt(l);return Math.round((i-s)/864e5)}function Ht(e,t){const n=zt(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Wt(e,t){const n=zt(e,null===t||void 0===t?void 0:t.in);return Ut(n,Ht(n))+1}function $t(e,t){var n,r,a,o,l,i;const s=Mt(),c=null!==(n=null!==(r=null!==(a=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(l=t.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==a?a:s.weekStartsOn)&&void 0!==r?r:null===(i=s.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==n?n:0,u=zt(e,null===t||void 0===t?void 0:t.in),d=u.getDay(),m=(d<c?7:0)+d-c;return u.setDate(u.getDate()-m),u.setHours(0,0,0,0),u}function Vt(e,t){return $t(e,u(u({},t),{},{weekStartsOn:1}))}function Yt(e,t){const n=zt(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),a=_t(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const o=Vt(a),l=_t(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const i=Vt(l);return n.getTime()>=o.getTime()?r+1:n.getTime()>=i.getTime()?r:r-1}function Gt(e,t){const n=Yt(e,t),r=_t((null===t||void 0===t?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Vt(r)}function Qt(e,t){const n=zt(e,null===t||void 0===t?void 0:t.in),r=+Vt(n)-+Gt(n);return Math.round(r/Ot)+1}function Kt(e,t){var n,r,a,o,l,i;const s=zt(e,null===t||void 0===t?void 0:t.in),c=s.getFullYear(),u=Mt(),d=null!==(n=null!==(r=null!==(a=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(l=t.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==a?a:u.firstWeekContainsDate)&&void 0!==r?r:null===(i=u.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==n?n:1,m=_t((null===t||void 0===t?void 0:t.in)||e,0);m.setFullYear(c+1,0,d),m.setHours(0,0,0,0);const h=$t(m,t),f=_t((null===t||void 0===t?void 0:t.in)||e,0);f.setFullYear(c,0,d),f.setHours(0,0,0,0);const p=$t(f,t);return+s>=+h?c+1:+s>=+p?c:c-1}function Xt(e,t){var n,r,a,o,l,i;const s=Mt(),c=null!==(n=null!==(r=null!==(a=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(l=t.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==a?a:s.firstWeekContainsDate)&&void 0!==r?r:null===(i=s.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==n?n:1,u=Kt(e,t),d=_t((null===t||void 0===t?void 0:t.in)||e,0);d.setFullYear(u,0,c),d.setHours(0,0,0,0);return $t(d,t)}function Jt(e,t){const n=zt(e,null===t||void 0===t?void 0:t.in),r=+$t(n,t)-+Xt(n,t);return Math.round(r/Ot)+1}function Zt(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const en={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Zt("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Zt(n+1,2)},d:(e,t)=>Zt(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Zt(e.getHours()%12||12,t.length),H:(e,t)=>Zt(e.getHours(),t.length),m:(e,t)=>Zt(e.getMinutes(),t.length),s:(e,t)=>Zt(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Zt(Math.trunc(r*Math.pow(10,n-3)),t.length)}},tn="midnight",nn="noon",rn="morning",an="afternoon",on="evening",ln="night",sn={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return en.y(e,t)},Y:function(e,t,n,r){const a=Kt(e,r),o=a>0?a:1-a;if("YY"===t){return Zt(o%100,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Zt(o,t.length)},R:function(e,t){return Zt(Yt(e),t.length)},u:function(e,t){return Zt(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Zt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Zt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return en.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Zt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Jt(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Zt(a,t.length)},I:function(e,t,n){const r=Qt(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Zt(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):en.d(e,t)},D:function(e,t,n){const r=Wt(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Zt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Zt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Zt(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return Zt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(a=12===r?nn:0===r?tn:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(a=r>=17?on:r>=12?an:r>=4?rn:ln,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return en.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):en.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Zt(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Zt(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):en.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):en.s(e,t)},S:function(e,t){return en.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return un(r);case"XXXX":case"XX":return dn(r);default:return dn(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return un(r);case"xxxx":case"xx":return dn(r);default:return dn(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+cn(r,":");default:return"GMT"+dn(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+cn(r,":");default:return"GMT"+dn(r,":")}},t:function(e,t,n){return Zt(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Zt(+e,t.length)}};function cn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),o=r%60;return 0===o?n+String(a):n+String(a)+t+Zt(o,2)}function un(e,t){if(e%60===0){return(e>0?"-":"+")+Zt(Math.abs(e)/60,2)}return dn(e,t)}function dn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+Zt(Math.trunc(r/60),2)+t+Zt(r%60,2)}const mn=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},hn=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},fn={p:hn,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return mn(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",mn(r,t)).replace("{{time}}",hn(a,t))}},pn=/^D+$/,gn=/^Y+$/,yn=["D","DD","YY","YYYY"];function vn(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function bn(e){return!(!vn(e)&&"number"!==typeof e||isNaN(+zt(e)))}const xn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kn=/^'([^]*?)'?$/,Sn=/''/g,Nn=/[a-zA-Z]/;function jn(e,t,n){var r,a,o,l,i,s,c,u,d,m,h,f,p,g;const y=Mt(),v=null!==(r=null!==(a=null===n||void 0===n?void 0:n.locale)&&void 0!==a?a:y.locale)&&void 0!==r?r:Et,b=null!==(o=null!==(l=null!==(i=null!==(s=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==s?s:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==i?i:y.firstWeekContainsDate)&&void 0!==l?l:null===(u=y.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==o?o:1,x=null!==(d=null!==(m=null!==(h=null!==(f=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==f?f:null===n||void 0===n||null===(p=n.locale)||void 0===p||null===(p=p.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==h?h:y.weekStartsOn)&&void 0!==m?m:null===(g=y.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==d?d:0,w=zt(e,null===n||void 0===n?void 0:n.in);if(!bn(w))throw new RangeError("Invalid time value");let k=t.match(wn).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,fn[t])(e,v.formatLong)}return e})).join("").match(xn).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Cn(e)};if(sn[t])return{isToken:!0,value:e};if(t.match(Nn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));v.localize.preprocessor&&(k=v.localize.preprocessor(w,k));const S={firstWeekContainsDate:b,weekStartsOn:x,locale:v};return k.map((r=>{if(!r.isToken)return r.value;const a=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!function(e){return gn.test(e)}(a))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return pn.test(e)}(a))||function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),yn.includes(e))throw new RangeError(r)}(a,t,String(e));return(0,sn[a[0]])(w,a,v.localize,S)})).join("")}function Cn(e){const t=e.match(kn);return t?t[1].replace(Sn,"'"):e}function Dn(e,t,n){const r=zt(e,null===n||void 0===n?void 0:n.in);if(isNaN(t))return _t((null===n||void 0===n?void 0:n.in)||e,NaN);if(!t)return r;const a=r.getDate(),o=_t((null===n||void 0===n?void 0:n.in)||e,r.getTime());o.setMonth(r.getMonth()+t+1,0);return a>=o.getDate()?o:(r.setFullYear(o.getFullYear(),o.getMonth(),a),r)}const In=v("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),An=(e,t)=>!t||t<=0?e:Math.ceil(e/t)*t,Pn=function(e,t){if(!t||0===t)return 0;return parseFloat((e/t*100).toFixed(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1))},En=function(e,t){return Pn(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)},Tn=(e,t)=>e&&t?e/100*t:0,Mn=e=>{let{formValues:t,onChange:n,errors:r={},currentPay:o=0}=e;const[l,i]=(0,a.useState)({targetAmount:!1,targetDate:!1,monthlyContribution:!1}),[s,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)({targetAmount:t.targetAmount||"",targetDate:t.targetDate||jn(Dn(new Date,12),"yyyy-MM-dd"),monthlyContribution:t.monthlyContribution||"",monthlyPercentage:t.monthlyPercentage||""}),[h,f]=(0,a.useState)(null),[p,g]=(0,a.useState)(!1),y=(0,a.useRef)(!1);(0,a.useEffect)((()=>{y.current||m({targetAmount:t.targetAmount||"",targetDate:t.targetDate||jn(Dn(new Date,12),"yyyy-MM-dd"),monthlyContribution:t.monthlyContribution||"",monthlyPercentage:t.monthlyPercentage||""})}),[t]),(0,a.useEffect)((()=>{const e=parseFloat(d.monthlyContribution)>0;g("monthlyContribution"===h||e)}),[d.monthlyContribution,h]);const v=(e,t)=>{console.log("GoalFieldGroup: ".concat(e," changed to:"),t),i((t=>u(u({},t),{},{[e]:!0}))),m((n=>u(u({},n),{},{[e]:t}))),n({target:{name:e,value:t}})},b=e=>{if(e&&!s&&d.monthlyContribution&&o>0){const e=En(parseFloat(d.monthlyContribution),o);m((t=>u(u({},t),{},{monthlyPercentage:e}))),n({target:{name:"monthlyPercentage",value:e}})}else if(!e&&s&&d.monthlyPercentage&&o>0){const e=Tn(parseFloat(d.monthlyPercentage),o);m((t=>u(u({},t),{},{monthlyContribution:e}))),n({target:{name:"monthlyContribution",value:e}})}c(e)},x=e=>{console.log("Recalculating ".concat(e,"...")),f(e),i((t=>u(u({},t),{},{[e]:!1})))};(0,a.useEffect)((()=>{const e=parseFloat(d.targetAmount)||0,t=parseFloat(d.monthlyContribution)||0,r=d.targetDate?new Date(d.targetDate):Dn(new Date,12),a=l.targetAmount&&e>0,o=l.monthlyContribution&&t>0,i=l.targetDate&&r>new Date;if(2===[a,o,i].filter(Boolean).length){y.current=!0;try{if(!o&&a&&i){f("monthlyContribution");const t=new Date,a=Math.max(1,12*(r.getFullYear()-t.getFullYear())+(r.getMonth()-t.getMonth())),o=(e/a).toFixed(2);m((e=>u(u({},e),{},{monthlyContribution:o}))),n({target:{name:"monthlyContribution",value:o}})}else if(!a&&o&&i){f("targetAmount");const e=new Date,a=Math.max(1,12*(r.getFullYear()-e.getFullYear())+(r.getMonth()-e.getMonth())),o=(t*a).toFixed(2);m((e=>u(u({},e),{},{targetAmount:o}))),n({target:{name:"targetAmount",value:o}})}else if(!i&&a&&o){f("targetDate");const r=Math.ceil(e/t),a=jn(Dn(new Date,r),"yyyy-MM-dd");m((e=>u(u({},e),{},{targetDate:a}))),n({target:{name:"targetDate",value:a}})}}catch(s){console.error("Error in calculation:",s)}finally{setTimeout((()=>{y.current=!1}),100)}}else f(null)}),[d,l,n]);const w=e=>h===e?"Auto-calculated":"";return(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsx)("h3",{className:"text-md font-medium mt-4",children:"Goal Details"}),(0,N.jsxs)("div",{className:"bg-theme-secondary border border-theme-secondary p-3 mb-4 rounded-md text-sm text-theme-secondary",children:[(0,N.jsxs)("div",{className:"mt-1 text-xs",children:[(0,N.jsx)("span",{className:"text-red-500",children:"*"})," Required field"]}),(0,N.jsx)("div",{className:"mt-1",children:"Fill in two fields to automatically calculate the third."})]}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsxs)("div",{className:"flex items-center mb-1",children:[(0,N.jsxs)("label",{htmlFor:"targetAmount",className:"text-sm font-medium text-theme-primary",children:["Target Amount ",(0,N.jsx)("span",{className:"text-red-500",children:"*"})]}),p&&(0,N.jsx)("button",{type:"button",className:"ml-2 p-1 rounded focus:outline-none text-theme-primary hover:bg-theme-hover",onClick:()=>x("targetAmount"),title:"Click to recalculate target amount based on monthly contribution and date",children:(0,N.jsx)(In,{size:16})})]}),(0,N.jsx)(pt,{name:"targetAmount",value:d.targetAmount,error:r.targetAmount,hint:w("targetAmount"),onChange:e=>v("targetAmount",e.target.value),hideLabel:!0})]}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsxs)("div",{className:"flex items-center mb-1",children:[(0,N.jsx)("label",{htmlFor:"targetDate",className:"text-sm font-medium text-theme-primary",children:"Target Date"}),p&&(0,N.jsx)("button",{type:"button",className:"ml-2 p-1 rounded focus:outline-none text-theme-primary hover:bg-theme-hover",onClick:()=>x("targetDate"),title:"Click to recalculate target date based on monthly contribution and amount",children:(0,N.jsx)(In,{size:16})})]}),(0,N.jsx)(yt,{name:"targetDate",value:d.targetDate,error:r.targetDate,hint:w("targetDate"),onChange:e=>v("targetDate",e.target.value),hideLabel:!0})]}),(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-theme-primary",children:"How much will you save each month?"}),(0,N.jsxs)("div",{className:"flex space-x-2",children:[(0,N.jsxs)("button",{type:"button",onClick:()=>b(!1),className:"flex-1 py-2 px-3 rounded text-sm transition-colors ".concat(s?"bg-theme-secondary text-theme-primary hover:bg-theme-hover":"btn-primary"),children:[(0,N.jsx)("span",{className:"mr-1",children:"\ud83d\udcb0"}),"Dollar Amount"]}),(0,N.jsxs)("button",{type:"button",onClick:()=>b(!0),className:"flex-1 py-2 px-3 rounded text-sm transition-colors ".concat(s?"btn-success":"bg-theme-secondary text-theme-primary hover:bg-theme-hover"),children:[(0,N.jsx)("span",{className:"mr-1",children:"\ud83d\udcca"}),"% of Paycheck"]})]})]}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsxs)("div",{className:"flex items-center mb-1",children:[(0,N.jsx)("label",{className:"text-sm font-medium text-theme-primary",children:"Monthly Contribution"}),p&&(0,N.jsx)("button",{type:"button",className:"ml-2 p-1 rounded focus:outline-none text-theme-primary hover:bg-theme-hover",onClick:()=>x("monthlyContribution"),title:"Click to recalculate monthly contribution based on target amount and date",children:(0,N.jsx)(In,{size:16})})]}),s?(0,N.jsx)(bt,{name:"monthlyPercentage",value:d.monthlyPercentage,error:r.monthlyContribution,hint:o>0?"Approx. $".concat(Tn(d.monthlyPercentage||0,o).toFixed(2)," per month"):w("monthlyContribution"),onChange:e=>{if(v("monthlyPercentage",e.target.value),o>0){const t=Tn(e.target.value,o);v("monthlyContribution",t)}},hideLabel:!0}):(0,N.jsx)(pt,{name:"monthlyContribution",value:d.monthlyContribution,error:r.monthlyContribution,hint:o>0?"Approx. ".concat(En(d.monthlyContribution||0,o).toFixed(1),"% of income"):w("monthlyContribution"),onChange:e=>{if(v("monthlyContribution",e.target.value),o>0){const t=En(e.target.value,o);v("monthlyPercentage",t)}},hideLabel:!0})]})]})},On=v("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Fn=v("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ln=e=>{let{initialValues:t={},onSubmit:n,validate:r}=e;const[o,l]=(0,a.useState)(t),[i,s]=(0,a.useState)({}),[c,d]=(0,a.useState)({}),[m,h]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),g=(0,a.useCallback)((()=>{l(t),s({}),d({}),h(!1),p(!1)}),[t]),y=(0,a.useCallback)(((e,t)=>{l((n=>u(u({},n),{},{[e]:t})))}),[]),v=(0,a.useCallback)((e=>{const{name:t,value:n,type:r,checked:a}=e.target,o="checkbox"===r?a:n;l((e=>u(u({},e),{},{[t]:o})))}),[]),b=(0,a.useCallback)((e=>{const{name:t}=e.target;if(d((e=>u(u({},e),{},{[t]:!0}))),f&&r){const e=r(o);s(e)}}),[r,o,f]),x=(0,a.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.log("DEBUG - useForm handleSubmit called"),e&&e.preventDefault(),h(!0),p(!0),r){console.log("DEBUG - Running form validation");const e=r(o);console.log("DEBUG - Validation errors:",e),s(e);const t=Object.keys(o).reduce(((e,t)=>(e[t]=!0,e)),{});if(d(t),Object.keys(e).length>0)return console.log("DEBUG - Form has validation errors, not submitting"),void h(!1)}if(console.log("DEBUG - Form passed validation, calling onSubmit with values:",o),n)try{console.log("DEBUG - onSubmit type:",typeof n),n(o,t),console.log("DEBUG - onSubmit called successfully")}catch(a){console.error("DEBUG - Error in onSubmit:",a)}else console.error("DEBUG - onSubmit is not defined or not a function");h(!1)}),[r,o,n]),w=(0,a.useCallback)((e=>({name:e,value:o[e]||"",onChange:v,onBlur:b,error:f&&c[e]?i[e]:void 0})),[o,v,b,c,i,f]),k=0===Object.keys(i).length;return console.log("DEBUG - Form validation status:",{isValid:k,errors:i,errorCount:Object.keys(i).length,submissionAttempted:f}),{values:o,errors:i,touched:c,isSubmitting:m,isValid:k,submissionAttempted:f,handleChange:v,handleBlur:b,handleSubmit:x,setFieldValue:y,resetForm:g,getFieldProps:w}},Rn=[{value:"weekly",label:"Weekly",weeksPerYear:52,paychecksPerMonth:4.33,isRegular:!0},{value:"bi-weekly",label:"Bi-weekly",weeksPerYear:26,paychecksPerMonth:2.17,isRegular:!0},{value:"every-3-weeks",label:"Every 3 weeks",weeksPerYear:17.33,paychecksPerMonth:1.44,isRegular:!1},{value:"monthly",label:"Monthly",weeksPerYear:12,paychecksPerMonth:1,isRegular:!0},{value:"every-5-weeks",label:"Every 5 weeks",weeksPerYear:10.4,paychecksPerMonth:.87,isRegular:!1},{value:"every-6-weeks",label:"Every 6 weeks",weeksPerYear:8.67,paychecksPerMonth:.72,isRegular:!1},{value:"every-7-weeks",label:"Every 7 weeks",weeksPerYear:7.43,paychecksPerMonth:.62,isRegular:!1},{value:"bi-monthly",label:"Every other month",weeksPerYear:6,paychecksPerMonth:.5,isRegular:!0},{value:"quarterly",label:"Quarterly",weeksPerYear:4,paychecksPerMonth:.33,isRegular:!0},{value:"semi-annually",label:"Every 6 months",weeksPerYear:2,paychecksPerMonth:.17,isRegular:!0},{value:"annually",label:"Annually",weeksPerYear:1,paychecksPerMonth:.083,isRegular:!0},{value:"per-paycheck",label:"Per Paycheck (Direct)",weeksPerYear:26,paychecksPerMonth:2.17,isRegular:!0}],_n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;if(!e)return[];const{startDate:n,frequency:r,splitPaycheck:a,primaryAmount:o,secondaryAmount:l,secondaryDaysEarly:i}=e;if(!n)return[];const s=new Date(n),c=[],u="bi-weekly"===r?t/12*26:"weekly"===r?t/12*52:"semi-monthly"===r?t/12*24:"monthly"===r?t/12*12:26;for(let d=0;d<u;d++){let e;switch(r){case"weekly":e=new Date(s.getTime()+7*d*24*60*60*1e3);break;case"bi-weekly":default:e=new Date(s.getTime()+14*d*24*60*60*1e3);break;case"semi-monthly":const t=Math.floor(d/2),n=d%2===0;e=new Date(s.getFullYear(),s.getMonth()+t,n?1:15);break;case"monthly":e=new Date(s.getFullYear(),s.getMonth()+d,s.getDate())}const t=new Date(e),n=a?new Date(e.getTime()-24*i*60*60*1e3):null;c.push({index:d,primaryDate:t,secondaryDate:n,primaryAmount:a?o:o+(l||0),secondaryAmount:a?l:0,isSplit:a})}return c},zn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"";return("string"===typeof e?new Date(e):e).toLocaleDateString(void 0,u({year:"numeric",month:"short",day:"numeric"},t))},qn=Rn.map((e=>({value:e.value,label:e.label}))),Bn=e=>{var t,n,r,o,l,i,s,c,d,m,h,f,p,g,y,v,b,w;let{category:k=null,onSave:S,onCancel:j,darkMode:C=!1,payFrequency:D="bi-weekly",accounts:I=[],currentPay:A=0}=e;const P=(null===k||void 0===k?void 0:k.type)||"single",[E,T]=(0,a.useState)(P),[M,O]=(0,a.useState)((null===k||void 0===k||null===(t=k.settings)||void 0===t?void 0:t.itemType)||"expense"),[F,L]=(0,a.useState)((null===k||void 0===k||null===(n=k.settings)||void 0===n?void 0:n.usePercentage)||!1),[R,_]=(0,a.useState)((null===k||void 0===k||null===(r=k.settings)||void 0===r?void 0:r.amount)||0),[z,q]=(0,a.useState)((null===k||void 0===k||null===(o=k.settings)||void 0===o?void 0:o.percentageAmount)||0),[B,U]=(0,a.useState)((null===k||void 0===k||null===(l=k.settings)||void 0===l?void 0:l.frequency)||"monthly"),[H,W]=(0,a.useState)((null===k||void 0===k||null===(i=k.settings)||void 0===i?void 0:i.dueDate)||""),[$,V]=(0,a.useState)((null===k||void 0===k||null===(s=k.settings)||void 0===s?void 0:s.isRecurring)||!1),[Y,G]=(0,a.useState)((null===k||void 0===k||null===(c=k.settings)||void 0===c?void 0:c.accountId)||(null===(d=I[0])||void 0===d?void 0:d.id)||""),[Q,K]=(0,a.useState)((null===k||void 0===k||null===(m=k.settings)||void 0===m?void 0:m.priorityState)||"active"),[X,J]=(0,a.useState)((null===k||void 0===k||null===(h=k.settings)||void 0===h?void 0:h.priority)||"medium"),[Z,ee]=(0,a.useState)((null===k||void 0===k||null===(f=k.settings)||void 0===f?void 0:f.targetAmount)||0),[te,ne]=(0,a.useState)((null===k||void 0===k||null===(p=k.settings)||void 0===p?void 0:p.targetDate)||zn(new Date(Date.now()+31536e6))),[re,ae]=(0,a.useState)((null===k||void 0===k||null===(g=k.settings)||void 0===g?void 0:g.monthlyContribution)||0),[oe,le]=(0,a.useState)((null===k||void 0===k||null===(y=k.settings)||void 0===y?void 0:y.monthlyPercentage)||0),[ie,se]=(0,a.useState)((null===k||void 0===k||null===(v=k.settings)||void 0===v?void 0:v.alreadySaved)||0),[ce,ue]=(0,a.useState)((null===k||void 0===k||null===(b=k.autoFunding)||void 0===b?void 0:b.enabled)||!1),[de,me]=(0,a.useState)((null===k||void 0===k||null===(w=k.autoFunding)||void 0===w?void 0:w.maxAmount)||500),he={name:(null===k||void 0===k?void 0:k.name)||"",color:(null===k||void 0===k?void 0:k.color)||"bg-gradient-to-r from-purple-500 to-pink-500",description:(null===k||void 0===k?void 0:k.description)||""},fe=Ln({initialValues:he,onSubmit:e=>{const t=u(u(u({},e),{},{type:E,autoFunding:{enabled:ce,maxAmount:parseFloat(de)||500,priority:"medium"}},"single"===E&&{settings:u(u({itemType:M,usePercentage:F,accountId:Y,priorityState:Q,priority:X},"expense"===M&&{amount:F?Tn(parseFloat(z),A):parseFloat(R)||0,percentageAmount:parseFloat(z)||0,frequency:$?B:"monthly",dueDate:H||null,isRecurring:$}),"goal"===M&&{targetAmount:parseFloat(Z)||0,targetDate:te,monthlyContribution:parseFloat(re)||0,monthlyPercentage:parseFloat(oe)||0,alreadySaved:parseFloat(ie)||0})}),k?{id:k.id}:{});S(t)},validate:e=>{const t={};return e.name.trim()||(t.name="Name is required"),e.color||(t.color="Color is required"),"single"===E&&("expense"===M?(F?(!z||parseFloat(z)<=0)&&(t.percentageAmount="Percentage must be greater than 0"):(!R||parseFloat(R)<=0)&&(t.amount="Amount must be greater than 0"),$&&!B&&(t.frequency="Frequency is required when expense is recurring")):"goal"===M&&(!Z||parseFloat(Z)<=0)&&(t.targetAmount="Target amount must be greater than 0"),Y||(t.accountId="Funding account is required")),t}}),pe=e=>{if(e&&!F&&R&&A>0){const e=En(parseFloat(R),A);q(e)}else if(!e&&F&&z&&A>0){const e=Tn(parseFloat(z),A);_(e)}L(e)},ge=I.map((e=>({value:e.id,label:e.name})));return(0,N.jsx)(it,{onSubmit:fe.handleSubmit,onCancel:j,onSubmitAnother:k?void 0:()=>{const e=u(u(u({},fe.values),{},{type:E,autoFunding:{enabled:ce,maxAmount:parseFloat(de)||500,priority:"medium"}},"single"===E&&{settings:u(u({itemType:M,usePercentage:F,accountId:Y,priorityState:Q,priority:X},"expense"===M&&{amount:F?Tn(parseFloat(z),A):parseFloat(R)||0,percentageAmount:parseFloat(z)||0,frequency:$?B:"monthly",dueDate:H||null,isRecurring:$}),"goal"===M&&{targetAmount:parseFloat(Z)||0,targetDate:te,monthlyContribution:parseFloat(re)||0,monthlyPercentage:parseFloat(oe)||0,alreadySaved:parseFloat(ie)||0})}),k?{id:k.id}:{});S(e,!0),setTimeout((()=>{fe.setFieldValue("name",""),fe.setFieldValue("description",""),_(0),q(0),W(""),V(!1),ee(0),ae(0),se(0);const e=document.querySelector('input[name="name"]');e&&e.focus()}),100)},submitLabel:k?"Update Category":"Add Category",showSubmitAnother:!k,isSubmitDisabled:!fe.isValid,children:(0,N.jsxs)("div",{className:"space-y-6",children:[(0,N.jsxs)("div",{className:"mb-4",children:[(0,N.jsx)("h3",{className:"text-lg font-semibold text-theme-primary mb-2",children:k?"Edit Category":"Add New Category"}),(0,N.jsx)("p",{className:"text-sm text-theme-secondary",children:"Categories organize your expenses and goals for easier budgeting"})]}),(0,N.jsx)(St,u(u({},fe.getFieldProps("name")),{},{label:"Category Name",placeholder:"Enter category name",autoFocus:!0,required:!0,darkMode:C})),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium mb-3",children:"Category Type *"}),(0,N.jsxs)("div",{className:"space-y-3",children:[(0,N.jsxs)("label",{className:"flex items-start gap-3 p-4 border rounded-lg cursor-pointer transition-colors ".concat("single"===E?"selection-primary-active":"border-theme-secondary bg-theme-secondary hover:bg-theme-hover"),children:[(0,N.jsx)("input",{type:"radio",name:"categoryType",value:"single",checked:"single"===E,onChange:e=>T(e.target.value),className:"mt-1"}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"font-medium flex items-center gap-2",children:[(0,N.jsx)(x,{className:"w-4 h-4"}),"Single Item Category"]}),(0,N.jsx)("p",{className:"text-sm mt-1",children:"One specific expense or goal with detailed configuration options."})]})]}),(0,N.jsxs)("label",{className:"flex items-start gap-3 p-4 border rounded-lg cursor-pointer transition-colors ".concat("multiple"===E?"selection-primary-active":"border-theme-secondary bg-theme-secondary hover:bg-theme-hover"),children:[(0,N.jsx)("input",{type:"radio",name:"categoryType",value:"multiple",checked:"multiple"===E,onChange:e=>T(e.target.value),className:"mt-1"}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"font-medium flex items-center gap-2",children:[(0,N.jsx)(On,{className:"w-4 h-4"}),"Multiple Items Category"]}),(0,N.jsx)("p",{className:"text-sm mt-1",children:"Detailed planning with individual item tracking and active/planning states."}),"multiple"===E&&(0,N.jsx)("div",{className:"mt-3 p-3 callout-info rounded border",children:(0,N.jsx)("div",{className:"text-xs font-medium ",children:"\u2728 Add individual items after creating the category"})})]})]})]})]}),"single"===E&&(0,N.jsxs)("div",{className:"space-y-4 p-4 slection-primary-active",children:[(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-theme-primary",children:"What are you planning for?"}),(0,N.jsxs)("div",{className:"flex space-x-2",children:[(0,N.jsxs)("button",{type:"button",onClick:()=>O("expense"),className:"flex-1 py-2 px-4 rounded flex items-center justify-center space-x-2 transition-colors ".concat("expense"===M?"btn-primary":"btn-secondary"),children:[(0,N.jsx)("span",{children:"\ud83d\udcb8"}),(0,N.jsx)("span",{children:"Expense"})]}),(0,N.jsxs)("button",{type:"button",onClick:()=>O("goal"),className:"flex-1 py-2 px-4 rounded flex items-center justify-center space-x-2 transition-colors ".concat("goal"===M?"btn-success":"btn-secondary"),children:[(0,N.jsx)("span",{children:"\ud83c\udfaf"}),(0,N.jsx)("span",{children:"Goal"})]})]})]}),"expense"===M?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-theme-primary",children:"How do you want to set the amount?"}),(0,N.jsxs)("div",{className:"flex space-x-2",children:[(0,N.jsxs)("button",{type:"button",onClick:()=>pe(!1),className:"flex-1 py-2 px-3 rounded text-sm transition-colors ".concat(F?"bg-theme-secondary text-theme-primary hover:bg-theme-hover":"btn-primary"),children:[(0,N.jsx)("span",{className:"mr-1",children:"\ud83d\udcb0"}),"Dollar Amount"]}),(0,N.jsxs)("button",{type:"button",onClick:()=>pe(!0),className:"flex-1 py-2 px-3 rounded text-sm transition-colors ".concat(F?"btn-success":"bg-theme-secondary text-theme-primary hover:bg-theme-hover"),children:[(0,N.jsx)("span",{className:"mr-1",children:"\ud83d\udcca"}),"% of Paycheck"]})]})]}),F?(0,N.jsx)(bt,{name:"percentageAmount",label:"Percentage of Income",value:z,onChange:e=>q(e.target.value),placeholder:"0.0",required:!0,darkMode:C,hint:A>0?"Approx. $".concat(Tn(z||0,A).toFixed(2)):""}):(0,N.jsx)(pt,{name:"amount",label:"Amount",value:R,onChange:e=>_(e.target.value),placeholder:"0.00",required:!0,darkMode:C,hint:A>0?"Approx. ".concat(En(R||0,A).toFixed(1),"% of income"):""}),(0,N.jsx)(yt,{name:"dueDate",label:"Due Date",value:H,onChange:e=>W(e.target.value),required:!1,darkMode:C,hint:"Optional - leave blank if no specific due date"}),H&&(0,N.jsx)(ut,{name:"isRecurring",label:"This is a recurring expense",checked:$,onChange:e=>V(e.target.checked),darkMode:C}),H&&$&&(0,N.jsx)(wt,{name:"frequency",label:"Frequency",value:B,onChange:e=>U(e.target.value),options:qn,required:!0,darkMode:C,hint:"How often does this expense repeat?"})]}):(0,N.jsx)(Mn,{formValues:{targetAmount:Z,targetDate:te,monthlyContribution:re,monthlyPercentage:oe,alreadySaved:ie},onChange:e=>((e,t)=>{switch(e){case"targetAmount":ee(t);break;case"targetDate":ne(t);break;case"monthlyContribution":if(ae(t),A>0){const e=En(parseFloat(t)||0,A);le(e)}break;case"monthlyPercentage":if(le(t),A>0){const e=Tn(parseFloat(t)||0,A);ae(e)}break;case"alreadySaved":se(t)}})(e.target.name,e.target.value),errors:fe.errors,currentPay:A}),(0,N.jsx)(wt,{name:"accountId",label:"Funding Account",value:Y,onChange:e=>G(e.target.value),options:ge,required:!0,darkMode:C}),(0,N.jsx)(wt,{name:"priorityState",label:"Status",value:Q,onChange:e=>K(e.target.value),options:[{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"}],required:!0,darkMode:C}),(0,N.jsx)(wt,{name:"priority",label:"Priority",value:X,onChange:e=>J(e.target.value),options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}],required:!0,darkMode:C})]}),(0,N.jsx)(ht,u(u({},fe.getFieldProps("color")),{},{label:"Category Color",darkMode:C})),(0,N.jsxs)("div",{className:"space-y-4 p-4 bg-theme-secondary rounded-lg border border-theme-secondary",children:[(0,N.jsxs)("h4",{className:"font-medium text-theme-primary flex items-center gap-2",children:[(0,N.jsx)(Fn,{className:"w-4 h-4"}),"Auto-funding Settings"]}),(0,N.jsx)(ut,{name:"autoFundingEnabled",label:"Enable auto-funding for this category",checked:ce,onChange:e=>ue(e.target.checked),darkMode:C}),ce&&(0,N.jsx)(pt,{name:"maxAutoFunding",label:"Maximum Auto-funding Amount",value:de,onChange:e=>me(e.target.value),placeholder:"500.00",darkMode:C,hint:"Maximum amount to auto-allocate to this category"})]}),(0,N.jsx)(St,u(u({},fe.getFieldProps("description")),{},{label:"Description (Optional)",placeholder:"Add notes about this category",darkMode:C}))]})})},Un=e=>{let{paycheck:t,accounts:n,categories:r,toBeAllocated:o,planningItems:l,onEditItem:i,addTransaction:s,ensureIncomeCategory:c,fundCategory:d,autoFundCategories:m,getFundingSuggestions:h,frequencyOptions:f,onComplete:p,darkMode:g=!1}=e;const[y,v]=(0,a.useState)("record-paycheck"),[b,x]=(0,a.useState)({date:(()=>{const e=new Date,t=6e4*e.getTimezoneOffset(),n=new Date(e.getTime()-t),r=n.toISOString().split("T")[0];return console.log("PaydayWorkflow - getTodaysDate():",{now:e,timezoneOffset:t,localDate:n,result:r,expectedToday:"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))}),r})(),amount:(null===t||void 0===t?void 0:t.baseAmount)||0,payee:(null===t||void 0===t?void 0:t.name)||"Paycheck",notes:"",accountDistribution:(null===t||void 0===t?void 0:t.accountDistribution)||(n.length>0?[{accountId:n[0].id,amount:(null===t||void 0===t?void 0:t.baseAmount)||0}]:[])}),[w,k]=(0,a.useState)({}),[S,j]=(0,a.useState)(0),[C,D]=(0,a.useState)(0),[I,A]=(0,a.useState)(!1),[P,E]=(0,a.useState)(100),[T,M]=(0,a.useState)([]),O=e=>"number"!==typeof e||isNaN(e)?0:Math.min(Math.max(e,-1e5),1e5);(0,a.useEffect)((()=>{const e=Object.values(w).reduce(((e,t)=>e+O(t)),0);j(e),D(b.amount-e)}),[w,b.amount]),(0,a.useEffect)((()=>{if(h&&r&&l){const e=h();M(e)}}),[h,r,l]);const F=e=>{let t;console.log("PaydayWorkflow - handlePaycheckAmountChange called with:",e,typeof e),e&&e.target?(t=e.target.value,console.log("PaydayWorkflow - Extracted value from event:",t)):t=e;const n="string"===typeof t?parseFloat(t)||0:t,r=O(n);console.log("PaydayWorkflow - Amount processing:",{original:e,extracted:t,numericAmount:n,validatedAmount:r,type:typeof t}),x((e=>{const t=e.accountDistribution.reduce(((e,t)=>e+("string"===typeof t.amount?parseFloat(t.amount)||0:t.amount)),0);let n;if(t>0&&r>0)n=e.accountDistribution.map((e=>{const n=("string"===typeof e.amount?parseFloat(e.amount)||0:e.amount)/t;return u(u({},e),{},{amount:n*r})}));else{const t=r/Math.max(1,e.accountDistribution.length);n=e.accountDistribution.map((e=>u(u({},e),{},{amount:t})))}const a=u(u({},e),{},{amount:r,accountDistribution:n});return console.log("PaydayWorkflow - Updated paycheckData:",a),a}))},L=(e,t,n)=>{console.log("PaydayWorkflow - Distribution changed:",{index:e,field:t,value:n,type:typeof n}),x((r=>{const a=[...r.accountDistribution];if("accountId"===t)a[e]=u(u({},a[e]),{},{accountId:n});else if("amount"===t){const t="string"===typeof n?parseFloat(n)||0:n,r=O(t);a[e]=u(u({},a[e]),{},{amount:r})}return u(u({},r),{},{accountDistribution:a})}))},R=()=>{const e=b.accountDistribution.map((e=>e.accountId)),t=n.find((t=>!e.includes(t.id)));t&&x((e=>u(u({},e),{},{accountDistribution:[...e.accountDistribution,{accountId:t.id,amount:0}]})))},_=()=>{if(console.log("PaydayWorkflow - handleRecordPaycheck called"),console.log("PaydayWorkflow - paycheckData:",b),!b.date)return console.log("PaydayWorkflow - Date validation failed:",b.date),void alert("Please enter a valid date.");const e="string"===typeof b.amount?parseFloat(b.amount)||0:b.amount;if(console.log("PaydayWorkflow - Amount validation:",{original:b.amount,converted:e,type:typeof b.amount}),e<=0)return console.log("PaydayWorkflow - Amount validation failed:",e),void alert("Please enter a valid amount greater than zero.");if(0===b.accountDistribution.length)return console.log("PaydayWorkflow - No account distribution"),void alert("Please select at least one account.");const t=b.accountDistribution.reduce(((e,t)=>e+("string"===typeof t.amount?parseFloat(t.amount)||0:t.amount)),0);if(console.log("PaydayWorkflow - Distribution validation:",{totalDistribution:t,paycheckAmount:e,difference:Math.abs(t-e)}),Math.abs(t-e)>.01)alert("Account distribution amounts must add up to the total paycheck amount.");else{console.log("PaydayWorkflow - All validations passed, creating transactions...");try{let e=null;if(c)e=c();else{let t=r.find((e=>("Income"===e.name||"Paycheck"===e.name||"To Be Allocated"===e.name)&&"income"===e.type));t||console.log("No income category found - transaction will be uncategorized"),e=(null===t||void 0===t?void 0:t.id)||null}b.accountDistribution.forEach((t=>{const n="string"===typeof t.amount?parseFloat(t.amount)||0:t.amount;n>0&&(console.log("PaydayWorkflow - Creating transaction:",{date:b.date,payee:b.payee,amount:n,accountId:t.accountId,categoryId:e}),s({date:b.date,payee:b.payee,amount:n,accountId:t.accountId,categoryId:e||null,notes:b.notes||"Paycheck deposit",type:"income"}))})),console.log("PaydayWorkflow - Transactions created successfully, moving to allocation step"),v("allocate")}catch(n){console.error("Error recording paycheck:",n),alert("Error recording paycheck. Please try again.")}}},z=(0,a.useCallback)(((e,t)=>{const n=O(t);k((t=>u(u({},t),{},{[e]:n})))}),[]),q=(0,a.useCallback)((()=>{if(!l||!r)return;const e=b.amount*P/100,t=l.filter((e=>e.isActive&&!e.allocationPaused&&"active"===e.priorityState&&e.categoryId)),n=f||[{value:"weekly",label:"Weekly",weeksPerYear:52},{value:"bi-weekly",label:"Bi-weekly",weeksPerYear:26},{value:"every-3-weeks",label:"Every 3 weeks",weeksPerYear:17.33},{value:"monthly",label:"Monthly",weeksPerYear:12},{value:"every-5-weeks",label:"Every 5 weeks",weeksPerYear:10.4},{value:"every-6-weeks",label:"Every 6 weeks",weeksPerYear:8.67},{value:"every-7-weeks",label:"Every 7 weeks",weeksPerYear:7.43},{value:"bi-monthly",label:"Every other month",weeksPerYear:6},{value:"quarterly",label:"Quarterly",weeksPerYear:4},{value:"semi-annually",label:"Every 6 months",weeksPerYear:2},{value:"annually",label:"Annually",weeksPerYear:1},{value:"per-paycheck",label:"Per Paycheck (Direct)",weeksPerYear:26}],a={};t.forEach((e=>{const t=parseInt(e.categoryId,10);a[t]||(a[t]=0);let r=0;if("savings-goal"===e.type){r=12*(e.monthlyContribution||0)/26}else{const t=e.amount||0;if("per-paycheck"===e.frequency)r=t;else{const a=n.find((t=>t.value===e.frequency));if(a&&a.weeksPerYear){r=t*a.weeksPerYear/26}else console.warn("Unknown frequency: ".concat(e.frequency,", defaulting to monthly conversion")),r=12*t/26}}a[t]+=O(r)}));const o=Object.values(a).reduce(((e,t)=>e+t),0),i=e<o?e/o:1,s={};Object.entries(a).forEach((e=>{let[t,n]=e;const r=O(n*i);r>0&&(s[t]=r)})),k(s)}),[l,r,b.amount,P]),B=(0,a.useCallback)((()=>{d&&(Object.entries(w).forEach((e=>{let[t,n]=e;n>0&&d(parseInt(t),n)})),v("complete"),p&&p({completed:!0,paycheck:b,allocations:w,totalAllocated:S}))}),[w,d,p,b,S]),U=()=>{v("record-paycheck"),k({}),j(0),D(0)};var H;return"record-paycheck"===y?(0,N.jsxs)("div",{className:"payday-workflow p-6 bg-theme-primary rounded-lg border border-theme-border",children:[(0,N.jsxs)("div",{className:"mb-6",children:[(0,N.jsx)("h2",{className:"text-xl font-semibold mb-2 text-theme-text",children:"Record Paycheck"}),(0,N.jsx)("p",{className:"text-theme-secondary",children:"Enter the details of your received paycheck to add it to your accounts."})]}),(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-xs font-medium mb-1 text-theme-text",children:"Date Received"}),(0,N.jsx)("input",{type:"date",value:b.date,onChange:e=>x((t=>u(u({},t),{},{date:e.target.value}))),className:"w-full p-2 border border-theme-border rounded bg-theme-secondary text-theme-text focus:outline-none focus:ring-2 focus:ring-theme-primary focus:border-transparent text-sm"})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-xs font-medium mb-1 text-theme-text",children:"Payee/Description"}),(0,N.jsx)("input",{type:"text",value:b.payee,onChange:e=>x((t=>u(u({},t),{},{payee:e.target.value}))),placeholder:"e.g., Main Job, Side Gig",className:"w-full p-2 border border-theme-border rounded bg-theme-secondary text-theme-text focus:outline-none focus:ring-2 focus:ring-theme-primary focus:border-transparent text-sm"})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-xs font-medium mb-1 text-theme-text",children:"Total Amount"}),(0,N.jsx)(pt,{value:b.amount,onChange:F,placeholder:"0.00",className:"w-full",darkMode:g})]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-theme-secondary bg-opacity-30 rounded",children:[(0,N.jsx)("input",{type:"checkbox",id:"splitAccount",checked:b.accountDistribution.length>1,onChange:e=>{e.target.checked?R():x((e=>u(u({},e),{},{accountDistribution:[u(u({},e.accountDistribution[0]),{},{amount:e.amount})]})))},className:"rounded border-theme-border"}),(0,N.jsx)("label",{htmlFor:"splitAccount",className:"text-sm text-theme-text",children:"Split paycheck across multiple accounts"})]}),1===b.accountDistribution.length?(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-xs font-medium mb-1 text-theme-text",children:"Deposit to Account"}),(0,N.jsx)("select",{value:(null===(H=b.accountDistribution[0])||void 0===H?void 0:H.accountId)||"",onChange:e=>L(0,"accountId",parseInt(e.target.value)),className:"w-full p-2 border border-theme-border rounded bg-theme-secondary text-theme-text focus:outline-none focus:ring-2 focus:ring-theme-primary text-sm",children:n.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))})]}):(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,N.jsx)("label",{className:"block text-xs font-medium text-theme-text",children:"Account Distribution"}),b.accountDistribution.length<n.length&&(0,N.jsx)("button",{onClick:R,className:"text-xs text-theme-primary hover:text-theme-primary-dark",children:"+ Add Account"})]}),(0,N.jsx)("div",{className:"space-y-2",children:b.accountDistribution.map(((e,t)=>(0,N.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-theme-secondary bg-opacity-30 rounded text-sm",children:[(0,N.jsx)("div",{className:"flex-1",children:(0,N.jsx)("select",{value:e.accountId,onChange:e=>L(t,"accountId",parseInt(e.target.value)),className:"w-full p-1.5 border border-theme-border rounded bg-theme-primary text-theme-text focus:outline-none focus:ring-1 focus:ring-theme-primary text-sm",children:n.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))})}),(0,N.jsx)("div",{className:"flex-1",children:(0,N.jsx)(pt,{value:e.amount,onChange:e=>L(t,"amount",e),placeholder:"0.00",darkMode:g})}),b.accountDistribution.length>1&&(0,N.jsx)("button",{onClick:()=>(e=>{b.accountDistribution.length<=1||x((t=>u(u({},t),{},{accountDistribution:t.accountDistribution.filter(((t,n)=>n!==e))})))})(t),className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-100 transition-colors",title:"Remove account",children:"\u2715"})]},t)))}),(0,N.jsxs)("div",{className:"mt-2 p-2 bg-theme-secondary bg-opacity-20 rounded text-xs",children:[(0,N.jsxs)("div",{className:"flex justify-between",children:[(0,N.jsx)("span",{className:"text-theme-secondary",children:"Total Distribution:"}),(0,N.jsxs)("span",{className:"font-medium text-theme-text",children:["$",b.accountDistribution.reduce(((e,t)=>e+("string"===typeof t.amount?parseFloat(t.amount)||0:t.amount||0)),0).toFixed(2)]})]}),(0,N.jsxs)("div",{className:"flex justify-between",children:[(0,N.jsx)("span",{className:"text-theme-secondary",children:"Paycheck Amount:"}),(0,N.jsxs)("span",{className:"font-medium text-theme-text",children:["$",b.amount.toFixed(2)]})]}),Math.abs(b.accountDistribution.reduce(((e,t)=>e+("string"===typeof t.amount?parseFloat(t.amount)||0:t.amount||0)),0)-b.amount)>.01&&(0,N.jsxs)("div",{className:"flex justify-between text-red-500",children:[(0,N.jsx)("span",{children:"Difference:"}),(0,N.jsxs)("span",{children:["$",Math.abs(b.accountDistribution.reduce(((e,t)=>e+("string"===typeof t.amount?parseFloat(t.amount)||0:t.amount||0)),0)-b.amount).toFixed(2)]})]})]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-xs font-medium mb-1 text-theme-text",children:"Notes (Optional)"}),(0,N.jsx)("textarea",{value:b.notes,onChange:e=>x((t=>u(u({},t),{},{notes:e.target.value}))),placeholder:"Any additional notes about this paycheck...",rows:2,className:"w-full p-2 border border-theme-border rounded bg-theme-secondary text-theme-text focus:outline-none focus:ring-2 focus:ring-theme-primary focus:border-transparent resize-none text-sm"})]}),(0,N.jsxs)("div",{className:"flex justify-center gap-3 pt-4 border-t border-theme-border mt-4",children:[(0,N.jsx)("button",{onClick:()=>p&&p({completed:!1}),className:"px-4 py-2 border border-theme-border text-theme-text rounded bg-theme-primary hover:bg-theme-hover transition-colors text-sm",children:"Cancel"}),(0,N.jsx)("button",{onClick:_,className:"px-4 py-2 border border-theme-border text-theme-text rounded bg-theme-primary hover:bg-theme-active transition-colors text-sm",children:"Record & Continue"})]})]})]}):"allocate"===y?(0,N.jsxs)("div",{className:"payday-workflow p-6 bg-theme-primary rounded-lg border border-theme-border",children:[(0,N.jsxs)("div",{className:"mb-6",children:[(0,N.jsx)("h2",{className:"text-xl font-semibold mb-2 text-theme-text",children:"Allocate Paycheck"}),(0,N.jsxs)("div",{className:"bg-theme-secondary bg-opacity-50 p-4 rounded-lg",children:[(0,N.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,N.jsx)("span",{className:"text-theme-secondary",children:"Paycheck Amount:"}),(0,N.jsxs)("span",{className:"font-semibold text-lg text-theme-text",children:["$",b.amount.toFixed(2)]})]}),(0,N.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,N.jsx)("span",{className:"text-theme-secondary",children:"Total Allocated:"}),(0,N.jsxs)("span",{className:"font-semibold text-theme-text",children:["$",S.toFixed(2)]})]}),(0,N.jsxs)("div",{className:"flex justify-between items-center",children:[(0,N.jsx)("span",{className:"text-theme-secondary",children:"Remaining to Allocate:"}),(0,N.jsxs)("span",{className:"font-semibold ".concat(C<0?"text-red-500":C>0?"text-orange-500":"text-green-500"),children:["$",C.toFixed(2)]})]})]})]}),(0,N.jsxs)("div",{className:"mb-6 p-4 bg-theme-secondary bg-opacity-30 rounded-lg",children:[(0,N.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,N.jsx)("input",{type:"checkbox",id:"auto-allocation",checked:I,onChange:e=>A(e.target.checked),className:"rounded border-theme-border"}),(0,N.jsx)("label",{htmlFor:"auto-allocation",className:"text-theme-text",children:"Use automatic allocation"})]}),I&&(0,N.jsxs)("div",{className:"flex items-center gap-3",children:[(0,N.jsx)("span",{className:"text-sm text-theme-secondary",children:"Allocate:"}),(0,N.jsx)("input",{type:"number",value:P,onChange:e=>E(Math.min(100,Math.max(0,parseInt(e.target.value)||0))),className:"w-20 p-2 border border-theme-border rounded bg-theme-tertiary text-theme-text text-center",min:"0",max:"100"}),(0,N.jsx)("span",{className:"text-sm text-theme-secondary",children:"% of paycheck"}),(0,N.jsx)("button",{onClick:q,className:"px-4 py-2 btn-success text-white text-sm rounded hover:bg-theme-hover transition-colors",children:"Auto-Allocate"})]})]}),(0,N.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,N.jsx)("h3",{className:"text-lg font-medium text-theme-text",children:"Allocate to Categories"}),r&&r.length>0?(0,N.jsx)("div",{className:"space-y-3",children:r.map((e=>(0,N.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-theme-secondary bg-opacity-30 rounded-lg",children:[(0,N.jsxs)("div",{className:"flex-1",children:[(0,N.jsx)("span",{className:"font-medium text-theme-text",children:e.name}),e.allocated>0&&(0,N.jsxs)("div",{className:"text-sm text-theme-secondary",children:["Current: $",e.allocated.toFixed(2)]})]}),(0,N.jsx)("div",{className:"w-32",children:(0,N.jsx)(pt,{value:w[e.id]||0,onChange:t=>z(e.id,t),placeholder:"0.00",darkMode:g})})]},e.id)))}):(0,N.jsxs)("div",{className:"text-center py-8 text-theme-secondary",children:[(0,N.jsx)("p",{children:"No categories available for allocation."}),(0,N.jsx)("p",{className:"text-sm mt-2",children:"Create some budget categories first to allocate your paycheck."})]})]}),(0,N.jsxs)("div",{className:"flex justify-center gap-3 pt-4 border-t border-theme-border mt-4",children:[(0,N.jsx)("button",{onClick:()=>v("record-paycheck"),className:"px-6 py-2 border border-theme-border text-theme-text rounded-lg hover:bg-theme-active hover:bg-opacity-50 transition-colors",children:"\u2190 Back"}),(0,N.jsx)("button",{onClick:()=>p&&p({completed:!1}),className:"px-6 py-2 border border-theme-border text-theme-text rounded-lg hover:bg-theme-active hover:bg-opacity-50 transition-colors",children:"Skip"}),(0,N.jsx)("button",{onClick:B,className:"px-6 py-2 btn-success text-white rounded-lg hover:bg-hover-active transition-colors",disabled:0===r.length,children:"Done"})]})]}):"complete"===y?(0,N.jsx)("div",{className:"payday-workflow p-6 bg-theme-primary rounded-lg border border-theme-border",children:(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("h2",{className:"text-xl font-semibold mb-4 text-green-600",children:"Payday Complete!"}),(0,N.jsxs)("div",{className:"mb-6 space-y-2",children:[(0,N.jsxs)("p",{className:"text-theme-secondary",children:["Recorded paycheck of ",(0,N.jsxs)("span",{className:"font-semibold text-theme-text",children:["$",b.amount.toFixed(2)]})]}),(0,N.jsxs)("p",{className:"text-theme-secondary",children:["Allocated ",(0,N.jsxs)("span",{className:"font-semibold text-theme-text",children:["$",S.toFixed(2)]})," to budget categories"]}),C>0&&(0,N.jsxs)("p",{className:"text-orange-600",children:["$",C.toFixed(2)," remaining unallocated"]})]}),(0,N.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,N.jsx)("button",{onClick:U,className:"px-6 py-2 border border-theme-border text-theme-text rounded-lg hover:bg-theme-active hover:bg-opacity-50 transition-colors",children:"Record Another Paycheck"}),(0,N.jsx)("button",{onClick:()=>p&&p({completed:!0}),className:"px-6 py-2 bg-theme-primary text-white rounded-lg hover:bg-theme-primary-dark transition-colors",children:"Done"})]})]})}):null},Hn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null===e||void 0===e||isNaN(e)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:n?2:0,maximumFractionDigits:n?2:0}).format(e)},Wn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null===e||void 0===e||isNaN(e))return n?"0%":"0";const r=e.toFixed(t);return n?"".concat(r,"%"):r},$n=e=>{let{title:t,value:n,description:r,icon:a,color:o="text-theme-primary",progress:l,progressColor:i,children:s,onClick:c,className:u=""}=e;const d="green"===o?"text-theme-green":"red"===o?"text-theme-red":"blue"===o?"text-theme-blue":"yellow"===o?"text-theme-yellow":o,m="green"===i?"bg-green-500":"red"===i?"bg-red-500":"yellow"===i?"bg-yellow-500":"blue"===i?"bg-blue-500":"gradient"===i?"bg-gradient-to-r from-yellow-400 to-orange-500":i||"bg-green-500";return(0,N.jsxs)("div",{className:"bg-theme-primary rounded-lg p-4 shadow-lg ".concat(c?"cursor-pointer hover:shadow-xl transition-shadow":""," ").concat(u),onClick:c,children:[(0,N.jsx)("h3",{className:"text-sm font-medium text-theme-tertiary mb-1",children:t}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"text-2xl font-bold ".concat(d),children:n}),r&&(0,N.jsx)("p",{className:"text-xs text-theme-secondary",children:r})]}),a&&(0,N.jsx)("div",{className:"text-2xl",children:a})]}),"number"===typeof l&&(0,N.jsx)("div",{className:"w-full bg-theme-tertiary rounded-full h-2 mt-2",children:(0,N.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(m),style:{width:"".concat(Math.min(100,l),"%")}})}),s]})},Vn=e=>{let{planningItems:t=[],availableToAllocate:n=0,urgentItems:r=0,className:o=""}=e;const l=(()=>{const e=t.length,r=(t.filter((e=>e.isActive)).length,t.filter((e=>"savings-goal"===e.type?(e.alreadySaved||0)>=(e.targetAmount||0):(e.alreadySaved||0)>=(e.amount||0))).length);return{fundingPercentage:e>0?r/e*100:0,budgetHealth:n>=0?100:Math.max(0,100+n/100),totalItems:e,fundedItems:r}})(),[i,s]=(0,a.useState)("happy"),[c,u]=(0,a.useState)("chick"),[d,m]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const{fundingPercentage:e,budgetHealth:t}=l;s(r>2?"sick":t<50?"sad":e>75?"excited":e>50?"happy":e<25?"sleepy":"neutral"),u(e>=90?"master":e>=70?"adult":e>=40?"teen":e>=20?"child":"chick")}),[l.fundingPercentage,l.budgetHealth,r]);return(0,N.jsxs)("div",{className:"bg-theme-primary rounded-lg p-4 shadow-lg cursor-pointer hover:shadow-xl transition-shadow ".concat(o),onClick:()=>{m(!0),setTimeout((()=>m(!1)),600)},children:[(0,N.jsx)("h3",{className:"text-sm font-medium text-theme-tertiary mb-1",children:"Budget Buddy"}),(0,N.jsx)("div",{className:"flex items-center justify-between",children:(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(()=>{const e={chick:{width:30,height:30,color:"#FFD54F"},child:{width:32,height:32,color:"#FFCA28"},teen:{width:34,height:34,color:"#FFC107"},adult:{width:36,height:36,color:"#FFB300"},master:{width:38,height:38,color:"#FFA000"}},t=d?"animate-bounce":"";return(0,N.jsx)("div",{className:"".concat(t," transition-all duration-300"),style:{width:e[c].width,height:e[c].height},children:(0,N.jsxs)("svg",{viewBox:"0 0 100 100",fill:e[c].color,className:"drop-shadow-md",children:[(0,N.jsx)("circle",{cx:"50",cy:"50",r:"40"}),(0,N.jsx)("circle",{cx:"65",cy:"40",r:"5",fill:"black"}),(0,N.jsx)("path",{d:"M75,50 Q90,60 75,70",stroke:"black",strokeWidth:"3",fill:"none"}),"happy"===i&&(0,N.jsx)("path",{d:"M40,60 Q50,70 60,60",stroke:"black",strokeWidth:"3",fill:"none"}),"sad"===i&&(0,N.jsx)("path",{d:"M40,70 Q50,60 60,70",stroke:"black",strokeWidth:"3",fill:"none"}),"excited"===i&&(0,N.jsx)("path",{d:"M40,60 Q50,75 60,60",stroke:"black",strokeWidth:"3",fill:"none"}),"sleepy"===i&&(0,N.jsx)("path",{d:"M40,65 Q50,65 60,65",stroke:"black",strokeWidth:"3",fill:"none"}),"sick"===i&&(0,N.jsx)("path",{d:"M40,65 Q50,55 60,65",stroke:"black",strokeWidth:"3",fill:"none"}),"neutral"===i&&(0,N.jsx)("path",{d:"M40,65 Q50,65 60,65",stroke:"black",strokeWidth:"3",fill:"none"})]})})})(),(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"text-lg font-bold text-theme-primary",children:[Math.round(l.fundingPercentage),"%"]}),(0,N.jsxs)("div",{className:"text-xs text-theme-secondary flex items-center",children:[(0,N.jsx)("span",{className:"mr-1",children:{happy:"\ud83d\ude0a",excited:"\ud83e\udd29",neutral:"\ud83d\ude10",sad:"\ud83d\ude14",sleepy:"\ud83d\ude34",sick:"\ud83e\udd12"}[i]}),{chick:"Baby Budgie",child:"Young Budgie",teen:"Teen Budgie",adult:"Adult Budgie",master:"Master Budgie"}[c]]})]})]})}),(0,N.jsx)("div",{className:"w-full bg-theme-tertiary rounded-full h-1.5 mt-2",children:(0,N.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 h-1.5 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(100,l.fundingPercentage),"%")}})}),r>0&&(0,N.jsxs)("div",{className:"text-xs text-theme-red mt-1 flex items-center",children:["\u26a0\ufe0f ",r," urgent items"]}),l.fundingPercentage>=100&&(0,N.jsx)("div",{className:"text-xs text-theme-yellow mt-1",children:"\ud83c\udf89 All goals funded!"}),(0,N.jsx)("div",{className:"text-xs text-theme-tertiary mt-1",children:"Click me to play! \ud83c\udfae"})]})},Yn=e=>{let{accounts:t=[],categories:n=[],planningItems:r=[],activeBudgetAllocations:o=[],timelines:l={},className:i=""}=e;const s=(0,a.useMemo)((()=>{const e=t.reduce(((e,t)=>e+(t.balance||0)),0)-n.reduce(((e,t)=>e+(t.allocated||0)),0),a=r.reduce(((e,t)=>t.isActive?e+("savings-goal"===t.type?t.monthlyContribution||0:t.amount||0):e),0),o=t.reduce(((e,t)=>e+(t.monthlyIncome||0)),0),l=o>0?a/o*100:0,i=new Date,s=new Date(i);s.setDate(i.getDate()+30);const c=r.filter((e=>{if(!e.isActive)return!1;const t="savings-goal"===e.type?new Date(e.targetDate):new Date(e.dueDate);return t<=s&&t>=i}));return{availableToAllocate:e,budgetProgress:l,urgentItems:c.length,urgentItemsList:c}}),[t,n,r]);return(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 ".concat(i),children:[(0,N.jsx)($n,{title:"Available to Allocate",value:Hn(s.availableToAllocate),description:"Unallocated funds",icon:"\ud83d\udcb0",color:s.availableToAllocate>=0?"green":"red"}),(0,N.jsx)($n,{title:"Budget Progress",value:"".concat(Math.round(s.budgetProgress),"%"),description:"of income planned",icon:"\ud83d\udcca",progress:s.budgetProgress,progressColor:s.budgetProgress>100?"red":s.budgetProgress>90?"yellow":"gradient"}),(0,N.jsx)($n,{title:"Needs Attention",value:s.urgentItems.toString(),description:"item".concat(1!==s.urgentItems?"s":""," due soon"),icon:"\u26a0\ufe0f",color:s.urgentItems>5?"red":s.urgentItems>0?"yellow":"green",children:s.urgentItems>0&&(0,N.jsxs)("div",{className:"text-xs text-theme-tertiary mt-2",children:[s.urgentItemsList.slice(0,2).map(((e,t)=>(0,N.jsxs)("div",{className:"truncate",children:["\u2022 ",e.name]},t))),s.urgentItemsList.length>2&&(0,N.jsxs)("div",{className:"text-theme-secondary",children:["+",s.urgentItemsList.length-2," more"]})]})}),(0,N.jsx)(Vn,{planningItems:r,availableToAllocate:s.availableToAllocate,urgentItems:s.urgentItems})]})},Gn=v("banknote-arrow-down",[["path",{d:"M12 18H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5",key:"x6cv4u"}],["path",{d:"m16 19 3 3 3-3",key:"1ibux0"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M6 12h.01",key:"c2rlol"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Qn=v("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Kn=v("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),Xn=v("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Jn=v("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Zn=v("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),er=v("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),tr=v("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),nr=v("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),rr=v("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),ar=v("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),or=v("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var lr=n(122);const ir="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;function sr(e,t,n){const[r,o]=function(e,t,n){const[r,o]=(0,a.useState)((()=>t(e))),l=(0,a.useCallback)((()=>{const a=t(e);lr(r,a)||(o(a),n&&n())}),[r,e,n]);return ir(l),[r,l]}(e,t,n);return ir((function(){const t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(o,{handlerIds:[t]})}),[e,o]),r}function cr(e,t,n){return sr(t,e||(()=>({})),(()=>n.reconnect()))}function ur(e,t){const n=[...t||[]];return null==t&&"function"!==typeof e&&n.push(e),(0,a.useMemo)((()=>"function"===typeof e?e():e),n)}function dr(e){return(0,a.useMemo)((()=>e.hooks.dragSource()),[e])}function mr(e){return(0,a.useMemo)((()=>e.hooks.dragPreview()),[e])}function hr(e,t,n,r){let a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;const o=Object.keys(e),l=Object.keys(t);if(o.length!==l.length)return!1;const i=Object.prototype.hasOwnProperty.bind(t);for(let s=0;s<o.length;s++){const l=o[s];if(!i(l))return!1;const c=e[l],u=t[l];if(a=n?n.call(r,c,u,l):void 0,!1===a||void 0===a&&c!==u)return!1}return!0}function fr(e){return null!==e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function pr(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,a.isValidElement)(t)){const r=t;return e(r,n),r}const r=t;!function(e){if("string"===typeof e.type)return;const t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}(r);return function(e,t){const n=e.ref;return E("string"!==typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,a.cloneElement)(e,{ref:e=>{yr(n,e),yr(t,e)}}):(0,a.cloneElement)(e,{ref:t})}(r,n?t=>e(t,n):e)}}function gr(e){const t={};return Object.keys(e).forEach((n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const e=pr(r);t[n]=()=>e}})),t}function yr(e,t){"function"===typeof e?e(t):e.current=t}class vr{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();n&&this.disconnectDragPreview(),this.handlerId&&(t?n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!hr(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!hr(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=gr({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,fr(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,fr(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}function br(){const{dragDropManager:e}=(0,a.useContext)(Me);return E(null!=e,"Expected drag drop context"),e}let xr=!1,wr=!1;class kr{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){E(!xr,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return xr=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{xr=!1}}isDragging(){if(!this.sourceId)return!1;E(!wr,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return wr=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{wr=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}class Sr{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return n="object"===typeof e.item?e.item:"function"===typeof e.item?e.item(t):{},null!==n&&void 0!==n?n:null}canDrag(){const e=this.spec,t=this.monitor;return"boolean"===typeof e.canDrag?e.canDrag:"function"!==typeof e.canDrag||e.canDrag(t)}isDragging(e,t){const n=this.spec,r=this.monitor,{isDragging:a}=n;return a?a(r):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:r}=e;r&&r(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function Nr(e,t,n){const r=br(),o=function(e,t,n){const r=(0,a.useMemo)((()=>new Sr(e,t,n)),[t,n]);return(0,a.useEffect)((()=>{r.spec=e}),[e]),r}(e,t,n),l=function(e){return(0,a.useMemo)((()=>{const t=e.type;return E(null!=t,"spec.type must be defined"),t}),[e])}(e);ir((function(){if(null!=l){const[e,a]=function(e,t,n){const r=n.getRegistry(),a=r.addSource(e,t);return[a,()=>r.removeSource(a)]}(l,o,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),a}}),[r,t,n,o,l])}function jr(e,t){const n=ur(e,t);E(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=function(){const e=br();return(0,a.useMemo)((()=>new kr(e)),[e])}(),o=function(e,t){const n=br(),r=(0,a.useMemo)((()=>new vr(n.getBackend())),[n]);return ir((()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource())),[r,e]),ir((()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview())),[r,t]),r}(n.options,n.previewOptions);return Nr(n,r,o),[cr(n.collect,r,o),dr(o),mr(o)]}function Cr(e){return(0,a.useMemo)((()=>e.hooks.dropTarget()),[e])}class Dr{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!hr(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=gr({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,fr(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}let Ir=!1;class Ar{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;E(!Ir,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Ir=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Ir=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}class Pr{canDrop(){const e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function Er(e,t,n){const r=br(),o=function(e,t){const n=(0,a.useMemo)((()=>new Pr(e,t)),[t]);return(0,a.useEffect)((()=>{n.spec=e}),[e]),n}(e,t),l=function(e){const{accept:t}=e;return(0,a.useMemo)((()=>(E(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t])),[t])}(e);ir((function(){const[e,a]=function(e,t,n){const r=n.getRegistry(),a=r.addTarget(e,t);return[a,()=>r.removeTarget(a)]}(l,o,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),a}),[r,t,o,n,l.map((e=>e.toString())).join("|")])}function Tr(e,t){const n=ur(e,t),r=function(){const e=br();return(0,a.useMemo)((()=>new Ar(e)),[e])}(),o=function(e){const t=br(),n=(0,a.useMemo)((()=>new Dr(t.getBackend())),[t]);return ir((()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget())),[e]),n}(n.options);return Er(n,r,o),[cr(n.collect,r,o),Cr(o)]}const Mr=v("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Or=v("arrow-left-right",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),Fr=e=>{let{currentBudgetMonth:t,getMonthDisplayName:n,navigateToNextMonth:r,navigateToPrevMonth:o,navigateToMonth:l,getAvailableMonths:i,getMonthSummary:s,onCarryForward:c,className:u=""}=e;const[d,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),p=s,g=i(),y=g.find((e=>e.key===t)),v=e=>"".concat(Math.abs(e).toFixed(2)),b=e=>e>0?"text-theme-green":e<0?"text-theme-red":"text-theme-secondary";return(0,N.jsxs)("div",{className:"bg-theme-primary rounded-lg shadow-sm border border-theme-secondary p-4 ".concat(u),children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,N.jsx)("button",{onClick:o,className:"p-2 hover:bg-theme-hover rounded-lg transition-colors",title:"Previous Month",children:(0,N.jsx)(Mr,{className:"w-5 h-5 text-theme-secondary"})}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsxs)("button",{onClick:()=>m(!d),className:"flex items-center space-x-2 px-4 py-2 bg-theme-secondary hover:bg-theme-hover rounded-lg transition-colors min-w-[200px] justify-center",children:[(0,N.jsx)(w,{className:"w-4 h-4 text-theme-secondary"}),(0,N.jsx)("span",{className:"font-medium text-theme-primary",children:n(t)}),(0,N.jsx)(tr,{className:"w-4 h-4 text-theme-secondary transition-transform ".concat(d?"rotate-90":"")})]}),d&&(0,N.jsx)("div",{className:"absolute top-full left-0 mt-1 bg-theme-primary border border-theme-secondary rounded-lg shadow-lg z-50 min-w-[240px]",children:(0,N.jsx)("div",{className:"py-1 max-h-64 overflow-y-auto",children:g.map((e=>(0,N.jsxs)("button",{onClick:()=>{return t=e.key,l(t),void m(!1);var t},className:"w-full text-left px-4 py-2 hover:bg-theme-hover flex items-center justify-between ".concat(e.key===t?"bg-theme-active text-theme-blue font-medium":"text-theme-primary"),children:[(0,N.jsx)("span",{children:e.display}),(0,N.jsxs)("div",{className:"flex items-center space-x-1 text-xs",children:[e.isCurrent&&(0,N.jsx)("span",{className:"bg-theme-green text-white px-2 py-1 rounded",children:"Current"}),e.isPast&&(0,N.jsx)("span",{className:"text-theme-tertiary",children:"Past"}),e.isFuture&&(0,N.jsx)("span",{className:"text-theme-blue",children:"Future"})]})]},e.key)))})})]}),(0,N.jsx)("button",{onClick:r,className:"p-2 hover:bg-theme-hover rounded-lg transition-colors",title:"Next Month",children:(0,N.jsx)(tr,{className:"w-5 h-5 text-theme-secondary"})})]}),(0,N.jsx)("div",{className:"flex items-center space-x-2",children:(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)("button",{onClick:()=>f(!h),className:"p-2 hover:bg-theme-hover rounded-lg transition-colors",title:"Quick Actions",children:(0,N.jsx)(k,{className:"w-5 h-5 text-theme-secondary"})}),h&&(0,N.jsx)("div",{className:"absolute top-full right-0 mt-1 bg-theme-primary border border-theme-secondary rounded-lg shadow-lg z-50 min-w-[200px]",children:(0,N.jsxs)("div",{className:"py-1",children:[(0,N.jsxs)("button",{onClick:()=>{null===c||void 0===c||c(),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-theme-hover flex items-center space-x-2 text-theme-primary",children:[(0,N.jsx)(Or,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Carry Forward Previous"})]}),(0,N.jsxs)("button",{onClick:()=>{var e;l(null===(e=g.find((e=>e.isCurrent)))||void 0===e?void 0:e.key),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-theme-hover flex items-center space-x-2 text-theme-primary",children:[(0,N.jsx)(w,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Go to Current Month"})]})]})})]})})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("div",{className:"text-xs text-theme-tertiary uppercase tracking-wide",children:"To Be Allocated"}),(0,N.jsxs)("div",{className:"font-bold ".concat(b(p.toBeAllocated)),children:[p.toBeAllocated>=0?"+":"",v(p.toBeAllocated)]})]}),(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("div",{className:"text-xs text-theme-tertiary uppercase tracking-wide",children:"Allocated"}),(0,N.jsx)("div",{className:"font-bold text-theme-blue",children:v(p.allocated)})]}),(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("div",{className:"text-xs text-theme-tertiary uppercase tracking-wide",children:"Available"}),(0,N.jsx)("div",{className:"font-bold text-theme-green",children:v(p.available)})]}),(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("div",{className:"text-xs text-theme-tertiary uppercase tracking-wide",children:"Spent"}),(0,N.jsx)("div",{className:"font-bold text-theme-secondary",children:v(p.spent)})]}),(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("div",{className:"text-xs text-theme-tertiary uppercase tracking-wide",children:"Remaining"}),(0,N.jsx)("div",{className:"font-bold ".concat(b(p.remaining)),children:v(p.remaining)})]})]}),p.carryover>0&&(0,N.jsxs)("div",{className:"mt-3 p-2 bg-theme-active border border-theme-blue rounded text-xs text-theme-blue",children:[(0,N.jsx)("strong",{children:"Carried Forward:"})," ",v(p.carryover)," from previous month"]}),p.toBeAllocated<0&&(0,N.jsxs)("div",{className:"mt-3 p-2 bg-theme-active border border-theme-red rounded text-xs text-theme-red",children:[(0,N.jsx)("strong",{children:"Over-allocated:"})," You've allocated ",v(Math.abs(p.toBeAllocated))," more than available"]}),(null===y||void 0===y?void 0:y.isFuture)&&(0,N.jsxs)("div",{className:"mt-3 p-2 bg-theme-active border border-theme-secondary rounded text-xs text-theme-secondary",children:[(0,N.jsx)("strong",{children:"Future Month:"})," This is a future budget month. Allocations are projections."]})]})},Lr="planning_item",Rr="category",_r=e=>{var t,n,r;let{category:o,categoryData:l,index:i,sortBy:s,isExpanded:c,onToggleExpand:u,onEditCategory:d,onDeleteCategory:m,onAddItem:h,onEditItem:f,onDeleteItem:p,onToggleItemActive:g,onToggleCategoryActive:y,onMoveItem:v,onReorderCategories:b,onReorderItems:x,transferFunds:w,getAmountDisplayInfo:k,getPayPeriodColor:S,formatDueDate:j,getPayPeriodUrgency:C,payFrequency:D,categories:I,monthlyBudgeting:A,getCategoryMonthData:P}=e;const E=(o.available||0)<0,T="manual"===s,[M,O]=(0,a.useState)(!1),[F,L]=(0,a.useState)(!1),[{isDraggingCategory:R},_]=jr({type:Rr,item:{id:o.id,index:i,type:"category"},canDrag:T,collect:e=>({isDraggingCategory:e.isDragging()})}),[{isOver:z,canDrop:q},B]=Tr({accept:[Rr,Lr],canDrop:e=>!(!T&&"category"===e.type)&&(void 0!==e.categoryId&&"category"!==e.type?e.categoryId===o.id||"single"!==l.type:T&&e.id!==o.id),drop:e=>{void 0!==e.categoryId&&"category"!==e.type?e.categoryId!==o.id&&v&&v(e.id,o.id):T&&e.id!==o.id&&b&&b(e.index,i)},collect:e=>({isOver:e.isOver({shallow:!0}),canDrop:e.canDrop()})});return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("tr",{ref:B,className:"hover:table-row-hover transition-colors ".concat(E?"bg-theme-secondary border-l-4 border-theme-red":"single"!==l.type||l.isActive?"table-row-even":"bg-theme-tertiary border-l-4 border-theme-tertiary opacity-60"," ").concat(R?"opacity-50":""," ").concat(z&&q?"bg-theme-tertiary border-l-4 border-theme-blue":""),onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),children:[(0,N.jsx)("td",{className:"px-1 py-2 min-w-0 w-18",children:(0,N.jsxs)("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:[(0,N.jsx)("div",{ref:_,className:"p-0.5 flex-shrink-0 transition-colors ".concat(T?"cursor-grab active:cursor-grabbing text-theme-tertiary hover:text-theme-secondary hover:bg-theme-tertiary rounded":"cursor-not-allowed text-theme-disabled opacity-50"),title:T?"Drag to reorder categories":"Click the unlock button in header to enable reordering",children:(0,N.jsx)(Zn,{className:"w-3 h-3"})}),(0,N.jsx)("button",{onClick:u,className:"text-theme-tertiary hover:text-theme-secondary p-0.5 flex-shrink-0 hover:bg-theme-tertiary rounded transition-colors",title:"Expand/collapse category",children:c?(0,N.jsx)(er,{className:"w-4 h-4"}):(0,N.jsx)(tr,{className:"w-4 h-4"})})]})}),(0,N.jsxs)("td",{className:"px-4 py-2",style:{minWidth:"280px"},children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[" ",(0,N.jsxs)("div",{className:"flex items-center gap-3",children:[(0,N.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(o.color||"bg-theme-tertiary"," border border-theme-primary shadow-sm")}),(0,N.jsx)("button",{onClick:()=>d(o),className:"font-medium hover:text-theme-blue transition-colors text-left ".concat("single"!==l.type||l.isActive?"text-theme-primary":"text-theme-tertiary"),children:o.name}),"multiple"===l.type&&(0,N.jsx)(nr,{className:"w-3 h-3 text-theme-tertiary ml-1"})]}),(0,N.jsxs)("div",{className:"flex items-center gap-1 transition-all duration-200 ".concat(F?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"),children:["single"===l.type&&(0,N.jsx)("button",{onClick:()=>{var e;return y(o.id,!(null===(e=o.isActive)||void 0===e||e))},className:"p-1 rounded transition-colors ".concat(null===(t=o.isActive)||void 0===t||t?"text-theme-green hover:text-theme-green hover:bg-theme-active":"text-theme-secondary hover:text-theme-primary hover:bg-theme-active"),title:null===(n=o.isActive)||void 0===n||n?"Mark as planning only":"Mark as active",children:null===(r=o.isActive)||void 0===r||r?(0,N.jsx)(rr,{className:"w-3.5 h-3.5"}):(0,N.jsx)(ar,{className:"w-3.5 h-3.5"})}),"multiple"===l.type&&(0,N.jsx)("button",{onClick:()=>{console.log("Adding item to category:",o.name,"ID:",o.id),h({preselectedCategory:o})},className:"p-1 text-theme-secondary hover:text-theme-green hover:bg-theme-active rounded transition-colors",title:"Add item",children:(0,N.jsx)(Jn,{className:"w-3.5 h-3.5"})}),(0,N.jsx)("button",{onClick:()=>m(o.id),className:"p-1 text-theme-secondary hover:text-theme-red hover:bg-theme-active rounded transition-colors",title:"Delete category",children:(0,N.jsx)(or,{className:"w-3.5 h-3.5"})})]})]}),A&&(0,N.jsxs)("div",{className:"text-xs mt-1",children:["This Month: $",P(o.id).allocated.toFixed(2)," allocated, $",P(o.id).spent.toFixed(2)," spent"]})]}),(0,N.jsx)("td",{className:"px-4 py-2 text-right",children:(0,N.jsxs)("div",{className:"font-medium ".concat("single"!==l.type||l.isActive?"text-theme-primary":"text-theme-tertiary"),children:["$",l.monthlyNeed.toFixed(2)]})}),(0,N.jsx)("td",{className:"px-4 py-2 text-right",children:(0,N.jsxs)("div",{className:"font-medium ".concat("single"!==l.type||l.isActive?"text-theme-secondary":"text-theme-tertiary"),children:["$",l.perPaycheckNeed.toFixed(2)]})}),(0,N.jsx)("td",{className:"px-4 py-2 text-right",children:(0,N.jsxs)("span",{onClick:()=>O(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium cursor-pointer transition-all hover:opacity-80 ".concat(E?"text-theme-red bg-theme-secondary border border-theme-red":"text-theme-green bg-theme-secondary border border-theme-green"),title:"Click to move money",children:["$",(o.available||0).toFixed(2)]})}),(0,N.jsx)("td",{className:"px-4 py-2 text-center",children:l.dueDateInfo?(0,N.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium cursor-default transition-all ".concat(S(l.dueDateInfo.urgency)),children:[l.dueDateInfo.display,l.dueDateInfo.additionalCount>0&&(0,N.jsxs)("span",{className:"text-xs opacity-75",children:["+",l.dueDateInfo.additionalCount]})]}):(0,N.jsx)("span",{className:"text-theme-tertiary text-xs",children:"\u2014"})})]}),c&&(0,N.jsx)(N.Fragment,{children:"single"===l.type?(0,N.jsxs)("tr",{className:"bg-theme-secondary",children:[(0,N.jsx)("td",{className:"px-4 py-2 min-w-0 w-16"}),(0,N.jsxs)("td",{colSpan:"5",className:"px-4 py-2",children:[" ",(0,N.jsx)("div",{className:"flex items-center justify-between",children:(0,N.jsx)("div",{className:"flex items-center gap-4",children:(0,N.jsxs)("div",{className:"text-sm text-theme-secondary",children:[(0,N.jsx)("span",{className:"font-medium",children:"Paychecks remaining:"})," ",l.paychecksUntilDue||"\u2014"]})})})]})]}):(0,N.jsxs)(N.Fragment,{children:[l.items.map(((e,t)=>(0,N.jsx)(zr,{item:e,itemIndex:t,category:o,onEditItem:f,onDeleteItem:p,onToggleItemActive:g,onReorderItems:x,getAmountDisplayInfo:k,getPayPeriodColor:S,formatDueDate:j,getPayPeriodUrgency:C,payFrequency:D},e.id))),(0,N.jsxs)("tr",{className:"bg-theme-tertiary",children:[(0,N.jsx)("td",{className:"px-4 py-1 min-w-0 w-16"}),(0,N.jsxs)("td",{colSpan:"5",className:"px-4 py-1",children:[" ",(0,N.jsxs)("button",{onClick:()=>{console.log("Adding item to category:",o.name,"ID:",o.id),h({preselectedCategory:o})},className:"flex items-center gap-2 text-sm text-theme-blue hover:text-theme-blue ml-8",children:[(0,N.jsx)(Jn,{className:"w-4 h-4"}),"Add Item to ",o.name]})]})]})]})}),M&&(0,N.jsx)(Br,{amount:o.available||0,sourceCategory:o,categories:I,onMove:w,onClose:()=>O(!1)})]})},zr=e=>{let{item:t,itemIndex:n,category:r,onEditItem:o,onDeleteItem:l,onToggleItemActive:i,onReorderItems:s,getAmountDisplayInfo:c,getPayPeriodColor:u,formatDueDate:d,getPayPeriodUrgency:m,payFrequency:h}=e;const[{isDragging:f},p]=jr({type:Lr,item:{id:t.id,categoryId:t.categoryId,index:n},collect:e=>({isDragging:e.isDragging()})}),[{isOver:g,canDrop:y},v]=Tr({accept:Lr,canDrop:e=>e.categoryId===t.categoryId,drop:e=>{e.id!==t.id&&e.categoryId===t.categoryId&&s&&s(r.id,e.index,n)},collect:e=>({isOver:e.isOver(),canDrop:e.canDrop()})}),[b,x]=(0,a.useState)(!1),w=c(t,h),k=m(t.dueDate);return(0,N.jsxs)("tr",{ref:e=>{p(e),v(e)},className:"".concat(t.isActive?"bg-theme-secondary":"bg-theme-active"," border-l-4 ").concat(t.isActive?"border-theme-green":"border-theme-tertiary"," ").concat(f?"opacity-50":""," ").concat(g&&y?"bg-theme-quaternary border-theme-blue":""),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[(0,N.jsx)("td",{className:"px-4 py-2 min-w-0 w-16",children:(0,N.jsx)("div",{className:"flex items-center justify-center flex-shrink-0",children:(0,N.jsx)(Zn,{className:"w-3 h-3 text-theme-tertiary cursor-grab"})})}),(0,N.jsx)("td",{className:"px-4 py-2",style:{minWidth:"280px"},children:(0,N.jsxs)("div",{className:"flex items-center justify-between ml-8",children:[" ",(0,N.jsxs)("div",{className:"flex-1 min-w-0",children:[" ",(0,N.jsx)("button",{onClick:()=>o(t),className:"font-medium text-theme-primary text-sm hover:text-theme-blue transition-colors text-left",children:t.name}),(0,N.jsxs)("div",{className:"text-xs text-theme-secondary",children:["$",t.amount," ",t.frequency]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-1 transition-all duration-200 ".concat(b?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"),children:[(0,N.jsx)("button",{onClick:()=>i(t.id,!t.isActive),className:"p-1 rounded transition-colors ".concat(t.isActive?"text-theme-green hover:text-theme-green hover:bg-theme-primary":"text-theme-secondary hover:text-theme-primary hover:bg-theme-primary"),title:t.isActive?"Mark as planning only":"Mark as active",children:t.isActive?(0,N.jsx)(rr,{className:"w-3.5 h-3.5"}):(0,N.jsx)(ar,{className:"w-3.5 h-3.5"})}),(0,N.jsx)("button",{onClick:()=>l(t),className:"p-1 text-theme-secondary hover:text-theme-red hover:bg-theme-primary rounded transition-colors",title:"Delete item",children:(0,N.jsx)(or,{className:"w-3 h-3"})})]})]})}),(0,N.jsx)("td",{className:"px-4 py-2 text-right",children:(0,N.jsxs)("div",{className:"text-sm text-theme-secondary",children:["$",(w.monthlyAmount||0).toFixed(2)]})}),(0,N.jsx)("td",{className:"px-4 py-2 text-right",children:(0,N.jsxs)("div",{className:"text-sm text-theme-secondary",children:["$",(w.perPaycheckAmount||0).toFixed(2),w.paychecksUntilDue&&(0,N.jsxs)("div",{className:"text-xs text-theme-tertiary mt-1",children:[w.paychecksUntilDue," left"]})]})}),(0,N.jsx)("td",{className:"px-4 py-2 text-right",children:(0,N.jsxs)("div",{className:"text-sm font-medium text-theme-primary",children:["$",(t.allocated||0).toFixed(2)]})}),(0,N.jsx)("td",{className:"px-4 py-2 text-center",children:t.dueDate?(0,N.jsx)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs ".concat(u(k)),children:d(t.dueDate)}):(0,N.jsx)("span",{className:"text-theme-tertiary text-xs",children:"\u2014"})})]})},qr=e=>{let{availableAmount:t,categories:n,onAssign:r,onClose:o}=e;const[l,i]=(0,a.useState)(""),[s,c]=(0,a.useState)("");return(0,N.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,N.jsxs)("div",{className:"bg-theme-primary rounded-lg p-6 w-96 shadow-xl border border-theme-secondary",children:[(0,N.jsx)("h3",{className:"text-lg font-semibold mb-4 text-theme-primary",children:"Assign Money to Category"}),(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"p-3 bg-theme-secondary border border-theme-secondary rounded-lg",children:[(0,N.jsx)("div",{className:"text-sm text-theme-secondary",children:"Available to assign:"}),(0,N.jsxs)("div",{className:"text-2xl font-bold text-theme-green",children:["$",t.toFixed(2)]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"To Category"}),(0,N.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-theme-secondary rounded-lg bg-theme-primary text-theme-primary focus:outline-none focus:ring-2 focus:ring-theme-blue",children:[(0,N.jsx)("option",{value:"",children:"Select a category..."}),n.map((e=>(0,N.jsxs)("option",{value:e.id,children:[e.name," ($",(e.available||0).toFixed(2)," available)"]},e.id)))]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"Amount"}),(0,N.jsx)(pt,{name:"assignAmount",value:s,onChange:e=>c(e.target.value),placeholder:"0.00",className:"w-full border border-theme-secondary rounded-lg bg-theme-primary text-theme-primary focus:outline-none focus:ring-2 focus:ring-theme-blue",hideLabel:!0})]})]}),(0,N.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,N.jsx)("button",{onClick:o,className:"btn-secondary px-4 py-2 rounded-lg",children:"Cancel"}),(0,N.jsx)("button",{onClick:()=>{if(l&&s){const e=parseFloat(s);!isNaN(e)&&e>0&&e<=t&&r(parseInt(l,10),e)}},disabled:!l||!s||parseFloat(s)<=0,className:"btn-success px-4 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Assign Money"})]})]})})},Br=e=>{let{amount:t,sourceCategory:n,categories:r,onMove:o,onClose:l}=e;const[i,s]=(0,a.useState)(""),[c,u]=(0,a.useState)(Math.abs(t).toFixed(2)),d=Math.abs(t);return(0,N.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,N.jsxs)("div",{className:"bg-theme-primary rounded-lg p-6 w-96 shadow-xl border border-theme-secondary",children:[(0,N.jsx)("h3",{className:"text-lg font-semibold mb-4 text-theme-primary",children:"Move Money"}),(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"p-3 bg-theme-secondary border border-theme-secondary rounded-lg",children:[(0,N.jsx)("div",{className:"text-sm text-theme-secondary",children:"Moving from:"}),(0,N.jsxs)("div",{className:"font-semibold text-theme-primary",children:[n.name," ($",(n.available||0).toFixed(2)," available)"]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"To Category"}),(0,N.jsxs)("select",{value:i,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-theme-secondary rounded-lg bg-theme-primary text-theme-primary focus:outline-none focus:ring-2 focus:ring-theme-blue",children:[(0,N.jsx)("option",{value:"",children:"Select destination..."}),(0,N.jsx)("option",{value:"ready-to-assign",children:"Ready to Assign"}),r.filter((e=>e.id!==n.id)).map((e=>(0,N.jsxs)("option",{value:e.id,children:[e.name," ($",(e.available||0).toFixed(2)," available)"]},e.id)))]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"Amount"}),(0,N.jsx)(pt,{name:"moveAmount",value:c,onChange:e=>u(e.target.value),placeholder:"0.00",className:"w-full border border-theme-secondary rounded-lg bg-theme-primary text-theme-primary focus:outline-none focus:ring-2 focus:ring-theme-blue",hideLabel:!0}),d>0&&(0,N.jsxs)("div",{className:"text-xs text-theme-secondary mt-1",children:["Maximum: $",d.toFixed(2)]})]})]}),(0,N.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,N.jsx)("button",{onClick:l,className:"btn-secondary px-4 py-2 rounded-lg",children:"Cancel"}),(0,N.jsx)("button",{onClick:()=>{if(i&&c){const e=parseFloat(c),t=n.id;let r;r="ready-to-assign"===i?"toBeAllocated":parseInt(i,10),!isNaN(e)&&e>0&&(o(t,r,e),l())}},disabled:!i||!c||parseFloat(c)<=0,className:"btn-success px-4 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Move Money"})]})]})})},Ur=e=>{let{categories:t=[],planningItems:n=[],toBeAllocated:r=0,fundCategory:o,transferFunds:l,onAddCategory:i,onEditCategory:s,onDeleteCategory:c,onAddItem:d,onEditItem:m,onDeleteItem:h,onToggleItemActive:f,onToggleCategoryActive:p,onMoveItem:g,onReorderItems:y,onReorderCategories:v,monthlyBudgeting:b=null,onShowPaydayWorkflow:x,recentPaycheck:k=null,payFrequency:S,payFrequencyOptions:j,getAllUpcomingPaycheckDates:C}=e;const D=(null===b||void 0===b?void 0:b.getMonthSummary)||{toBeAllocated:r,allocated:t.reduce(((e,t)=>e+(t.allocated||0)),0),available:t.reduce(((e,t)=>e+(t.available||0)),0),spent:0,remaining:0,carryover:0},I=e=>{if(null!==b&&void 0!==b&&b.getCategoryMonthData)return b.getCategoryMonthData(e);const n=t.find((t=>t.id===e));return{allocated:(null===n||void 0===n?void 0:n.allocated)||0,available:(null===n||void 0===n?void 0:n.available)||0,spent:0,remaining:(null===n||void 0===n?void 0:n.available)||0,carryover:0,notes:"",isOverspent:!1}},[A,P]=(0,a.useState)({}),[E,T]=(0,a.useState)(!1),[M,O]=(0,a.useState)(""),[F,L]=(0,a.useState)("single"),[R,_]=(0,a.useState)(!1),[z,q]=(0,a.useState)("name"),[B,U]=(0,a.useState)("asc"),[H,W]=(0,a.useState)({category:280,needed:120,perPaycheck:120,available:120,dueDate:130}),$=(0,a.useRef)(0),V=(0,a.useRef)(null),Y=(0,a.useRef)(null),G=(0,a.useRef)(!1),Q=(0,a.useRef)(null),K=(0,a.useRef)(0),X=(0,a.useRef)(0),J=e=>{if(console.log("Sorting by:",e),"manual"===e)return q("manual"),void U("asc");if(z===e){const e="asc"===B?"desc":"asc";U(e),console.log("Toggled direction to:",e)}else q(e),U("asc"),console.log("New sort column:",e,"direction: asc")},Z=(e,t)=>{e.stopPropagation(),e.preventDefault(),G.current=!0,Q.current=t,K.current=e.clientX,X.current=H[t];V.current={category:"needed",needed:"perPaycheck",perPaycheck:"available",available:"dueDate",dueDate:null}[t],$.current=V.current?H[V.current]:0,document.addEventListener("mousemove",ee),document.addEventListener("mouseup",te)},ee=e=>{if(!G.current||!Q.current)return;const t=e.clientX-K.current,n=Math.max(80,X.current+t);if(V.current){const e=n-X.current,t=Math.max(80,$.current-e),r=$.current-t,a=X.current+r;W((e=>u(u({},e),{},{[Q.current]:a,[V.current]:t})))}else W((e=>u(u({},e),{},{[Q.current]:n})))},te=()=>{G.current=!1,Q.current=null,V.current=null,$.current=0,document.removeEventListener("mousemove",ee),document.removeEventListener("mouseup",te)},ne=e=>{if(!e)return null;const[t,n,r]=e.split("-").map(Number),a=new Date(t,n-1,r),o=new Date,l=Math.ceil((a-o)/864e5);return l<=5?"current-period":l<=19?"next-period":"future"},re=e=>{switch(e){case"current-period":return"text-red-700 bg-red-100 border border-red-200 hover:bg-red-200";case"next-period":return"text-orange-700 bg-orange-100 border border-orange-200 hover:bg-orange-200";case"future":return"text-blue-700 bg-blue-100 border border-blue-200 hover:bg-blue-200";default:return"text-gray-600 bg-gray-100 border border-gray-200 hover:bg-gray-200"}},ae=e=>{if(!e)return null;const[t,n,r]=e.split("-").map(Number),a=new Date(t,n-1,r),o=a.toLocaleDateString("en-US",{month:"short"}),l=a.getDate();return"".concat(o," ").concat(l)},oe=(e,t,n)=>{const r="savings-goal"===e.type,a=e.dueDate?new Date(e.dueDate):null,o=new Date,l=(e=>{switch(e){case"weekly":return{conservative:4,average:4.33,bonusPerYear:4};case"biweekly":case"bi-weekly":default:return{conservative:2,average:2.17,bonusPerYear:2};case"semimonthly":return{conservative:2,average:2,bonusPerYear:0};case"monthly":return{conservative:1,average:1,bonusPerYear:0}}})(t),i=Math.ceil(30/l.average);let s=0,c=0;const u=Rn.find((t=>t.value===e.frequency));if(r)s=e.monthlyContribution||0,c=s/l.conservative;else{const t=e.amount||0;u?(s=t*(u.weeksPerYear/12),c=u.isRegular?s/l.conservative:s/l.average):(s=t,c=t/l.conservative)}let d=null;if(a&&C)try{const t=C(6),n=e.dueDate,[a,o,l]=n.split("-").map(Number),i=new Date(a,o-1,l);if(d=t.filter((e=>e.date<i)).length,d>0){const t=e.allocated||0,n=r&&e.targetAmount||s;c=Math.max(0,n-t)/d}}catch(m){console.warn("Error calculating paychecks until due, falling back to estimation:",m);const t=e.dueDate,[n,a,i]=t.split("-").map(Number),u=new Date(n,a-1,i),h=Math.ceil(30/l.average),f=Math.ceil((u-o)/864e5);if(d=Math.max(0,Math.ceil(f/h)),d>0){const t=e.allocated||0,n=r&&e.targetAmount||s;c=Math.max(0,n-t)/d}}else if(a){const t=e.dueDate,[n,a,l]=t.split("-").map(Number),u=new Date(n,a-1,l),m=Math.ceil((u-o)/864e5);if(d=Math.max(0,Math.ceil(m/i)),d>0){const t=e.allocated||0,n=r&&e.targetAmount||s;c=Math.max(0,n-t)/d}}return{monthlyAmount:s,perPaycheckAmount:c,paychecksUntilDue:d,usingConservative:!u||u.isRegular,paycheckInfo:l}},le=e=>{const t=n.filter((t=>t.categoryId===e.id));if("single"===(e.type||(t.length<=1?"single":"multiple"))){var r,a;let n;if(null!==(r=e.settings)&&void 0!==r&&r.amount)n={amount:e.settings.amount,frequency:e.settings.frequency||"monthly",dueDate:e.settings.dueDate};else{var o;if(!t[0])return{type:"single",perPaycheckNeed:0,monthlyNeed:0,items:[],urgencyInfo:null,needsConfiguration:!0,dueDateInfo:null,isActive:null===(o=e.isActive)||void 0===o||o};n=t[0]}const l=oe(n,S),i=n.dueDate?{date:n.dueDate,urgency:ne(n.dueDate),display:ae(n.dueDate)}:null,s=null===(a=e.isActive)||void 0===a||a;return{type:"single",perPaycheckNeed:s?l.perPaycheckAmount:0,monthlyNeed:s?l.monthlyAmount:0,items:t,paychecksUntilDue:l.paychecksUntilDue,singleData:n,needsConfiguration:!1,dueDateInfo:s?i:null,isActive:s}}{const e=t.filter((e=>e.isActive)),n=e.reduce(((e,t)=>{const n=oe(t,S);return e+Math.max(0,n.perPaycheckAmount-(t.allocated||0))}),0),r=e.reduce(((e,t)=>e+oe(t,S).monthlyAmount),0);let a=null;const o=e.filter((e=>e.dueDate));if(o.length>0){const e=o.sort(((e,t)=>new Date(e.dueDate)-new Date(t.dueDate)))[0];a={date:e.dueDate,urgency:ne(e.dueDate),display:ae(e.dueDate),additionalCount:o.length>1?o.length-1:0}}return{type:"multiple",perPaycheckNeed:n,monthlyNeed:r,items:t,activeItems:e,dueDateInfo:a}}},ie=(0,a.useMemo)((()=>t.filter((e=>"income"!==e.type&&!e.hiddenFromBudget))),[t]),se=(0,a.useMemo)((()=>"manual"===z?[...ie]:[...ie].sort(((e,t)=>{switch(z){case"name":return e.name.localeCompare(t.name);case"allocated":return(t.allocated||0)-(e.allocated||0);case"available":return(t.available||0)-(e.available||0);case"need":const n=le(e).perPaycheckNeed||0;return(le(t).perPaycheckNeed||0)-n;default:return 0}}))),[ie,z]);return(0,N.jsxs)("div",{className:"space-y-6",children:[b&&(0,N.jsx)(Fr,{currentBudgetMonth:b.currentBudgetMonth,getMonthDisplayName:b.getMonthDisplayName,navigateToNextMonth:b.navigateToNextMonth,navigateToPrevMonth:b.navigateToPrevMonth,navigateToMonth:b.navigateToMonth,getAvailableMonths:b.getAvailableMonths,getMonthSummary:b.getMonthSummary,onCarryForward:b.carryForwardBalances}),(0,N.jsx)("div",{className:"flex items-center justify-between",children:(0,N.jsxs)("div",{children:[(0,N.jsxs)("h2",{className:"text-2xl font-bold text-theme-primary flex items-center gap-2",children:[(0,N.jsx)(Gn,{className:"w-7 h-7"}),"Budget"]}),(0,N.jsx)("p",{className:"text-theme-secondary",children:"Enhanced categories with both single and multiple expense types"})]})}),(0,N.jsxs)("div",{className:"bg-theme-primary rounded-lg shadow-sm border border-theme-primary overflow-hidden",children:[(0,N.jsx)("div",{className:"table-header border-b border-theme-secondary p-4",children:(0,N.jsx)("div",{className:"justify-between",children:(0,N.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("div",{className:"text-lg text-theme-secondary",children:"Ready to Assign"}),(0,N.jsxs)("div",{className:"text-lg font-bold ".concat(D.toBeAllocated>0?"text-theme-green":D.toBeAllocated<0?"text-theme-red":"text-theme-secondary"),children:["$",D.toBeAllocated.toFixed(2)]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[k&&(0,N.jsx)("button",{onClick:x,className:"btn-success px-4 py-2 rounded-lg text-sm",children:"Allocate Paycheck"}),(0,N.jsxs)("button",{onClick:()=>_(!0),className:"btn-success flex items-center gap-2 px-3 py-2 rounded-lg text-sm",children:[(0,N.jsx)(Qn,{className:"w-4 h-4"}),"Assign"]})]})]})})}),(0,N.jsx)("div",{className:"overflow-x-auto",style:{maxWidth:"100%"},children:(0,N.jsxs)("table",{ref:Y,className:"w-full table-fixed",style:{minWidth:"800px",maxWidth:"100%"},children:[(0,N.jsx)("thead",{className:"table-header border-b border-theme-secondary",children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{className:"px-2 py-3 text-center text-xs font-medium text-theme-secondary uppercase tracking-wider w-10 flex-shrink-0",children:(0,N.jsx)("button",{onClick:()=>J("manual"),className:"p-1.5 rounded-full transition-all duration-200 ".concat("manual"===z?"bg-green-500 text-white hover:bg-green-600 shadow-sm":"bg-red-100 text-red-600 hover:bg-red-200 border border-red-300"),title:"manual"===z?"Manual reordering ENABLED":"Manual reordering DISABLED - click to enable",children:"manual"===z?(0,N.jsx)(Kn,{className:"w-3.5 h-3.5"}):(0,N.jsx)(Xn,{className:"w-3.5 h-3.5"})})}),(0,N.jsxs)("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-secondary uppercase tracking-wider cursor-pointer hover:bg-theme-hover relative",style:{width:H.category},onClick:()=>J("name"),children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("span",{className:"flex items-center gap-2",children:["Category",(0,N.jsx)("button",{onClick:i,children:(0,N.jsx)(Jn,{className:"w-5 h-5 text-theme-tertiary"})})]}),"                                         ","name"===z&&(0,N.jsx)("div",{className:"transform transition-transform ".concat("desc"===B?"rotate-180":""),children:"\u25b2"})]}),(0,N.jsx)("div",{className:"absolute right-0 top-0 w-3 h-full cursor-col-resize hover:bg-blue-300 hover:bg-opacity-50",onMouseDown:e=>{e.stopPropagation(),Z(e,"category")}})]}),(0,N.jsxs)("th",{className:"px-4 py-3 text-right text-xs font-medium text-theme-secondary uppercase tracking-wider cursor-pointer hover:bg-theme-hover relative",style:{width:H.needed},onClick:()=>J("needed"),children:[(0,N.jsxs)("div",{className:"flex items-center justify-end gap-1",children:["Needed/Month","needed"===z&&(0,N.jsx)("div",{className:"transform transition-transform ".concat("desc"===B?"rotate-180":""),children:"\u25b2"})]}),(0,N.jsx)("div",{className:"absolute right-0 top-0 w-3 h-full cursor-col-resize hover:bg-blue-300 hover:bg-opacity-50",onMouseDown:e=>{e.stopPropagation(),Z(e,"needed")}})]}),(0,N.jsxs)("th",{className:"px-4 py-3 text-right text-xs font-medium text-theme-secondary uppercase tracking-wider cursor-pointer hover:bg-theme-hover relative",style:{width:H.perPaycheck},onClick:()=>J("perPaycheck"),children:[(0,N.jsxs)("div",{className:"flex items-center justify-end gap-1",children:["Per Paycheck","perPaycheck"===z&&(0,N.jsx)("div",{className:"transform transition-transform ".concat("desc"===B?"rotate-180":""),children:"\u25b2"})]}),(0,N.jsx)("div",{className:"absolute right-0 top-0 w-3 h-full cursor-col-resize hover:bg-blue-300 hover:bg-opacity-50",onMouseDown:e=>{e.stopPropagation(),Z(e,"perPaycheck")}})]}),(0,N.jsxs)("th",{className:"px-4 py-3 text-right text-xs font-medium text-theme-secondary uppercase tracking-wider cursor-pointer hover:bg-theme-hover relative",style:{width:H.available},onClick:()=>J("available"),children:[(0,N.jsxs)("div",{className:"flex items-center justify-end gap-1",children:["Available","available"===z&&(0,N.jsx)("div",{className:"transform transition-transform ".concat("desc"===B?"rotate-180":""),children:"\u25b2"})]}),(0,N.jsx)("div",{className:"absolute right-0 top-0 w-3 h-full cursor-col-resize hover:bg-blue-300 hover:bg-opacity-50",onMouseDown:e=>{e.stopPropagation(),Z(e,"available")}})]}),(0,N.jsxs)("th",{className:"px-4 py-3 text-center text-xs font-medium text-theme-secondary uppercase tracking-wider cursor-pointer hover:bg-theme-hover relative",style:{width:H.dueDate},onClick:()=>J("due"),children:[(0,N.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,N.jsx)(w,{className:"w-4 h-4"}),"Due Date","due"===z&&(0,N.jsx)("div",{className:"transform transition-transform ".concat("desc"===B?"rotate-180":""),children:"\u25b2"})]}),(0,N.jsx)("div",{className:"absolute right-0 top-0 w-3 h-full cursor-col-resize hover:bg-blue-300 hover:bg-opacity-50",onMouseDown:e=>{e.stopPropagation(),Z(e,"dueDate")}})]})]})}),(0,N.jsx)("tbody",{className:"divide-y divide-theme-secondary",children:se.map(((e,n)=>(0,N.jsx)(_r,{category:e,categoryData:le(e),index:n,sortBy:z,isExpanded:A[e.id],onToggleExpand:()=>{return t=e.id,void P((e=>u(u({},e),{},{[t]:!e[t]})));var t},onEditCategory:s,onDeleteCategory:c,onAddItem:d,onEditItem:m,onDeleteItem:h,onToggleCategoryActive:p,onToggleItemActive:f,onMoveItem:g,onReorderCategories:v,onReorderItems:y,fundCategory:o,transferFunds:l,getAmountDisplayInfo:oe,getPayPeriodColor:re,formatDueDate:ae,getPayPeriodUrgency:ne,payFrequency:S,categories:t,monthlyBudgeting:b,getCategoryMonthData:I},e.id)))})]})}),(0,N.jsx)("div",{className:"table-header border-t border-theme-secondary p-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{className:"text-sm text-theme-secondary",children:[se.length," categories \u2022 ",n.filter((e=>e.isActive)).length," active items"]}),(0,N.jsxs)("div",{className:"flex items-center gap-6",children:[(0,N.jsxs)("div",{className:"text-right",children:[(0,N.jsx)("div",{className:"text-xs text-theme-tertiary",children:"Total Allocated"}),(0,N.jsxs)("div",{className:"font-medium text-theme-primary",children:["$",se.reduce(((e,t)=>e+(t.allocated||0)),0).toFixed(2)]})]}),(0,N.jsxs)("div",{className:"text-right",children:[(0,N.jsx)("div",{className:"text-xs text-theme-tertiary",children:"Total Available"}),(0,N.jsxs)("div",{className:"font-medium text-theme-primary",children:["$",se.reduce(((e,t)=>e+(t.available||0)),0).toFixed(2)]})]})]})]})})]}),R&&(0,N.jsx)(qr,{availableAmount:r,categories:t,onAssign:(e,t)=>{l?l("toBeAllocated",e,t):o&&o(e,t),_(!1)},onClose:()=>_(!1)})]})},Hr=Rn.map((e=>({value:e.value,label:e.label}))),Wr=e=>{var t,n;let{item:r=null,onSave:o,onCancel:l,categories:i=[],accounts:s=[],currentPay:c=0,preselectedCategory:d=null,darkMode:m}=e;const h=void 0!==(null===r||void 0===r?void 0:r.targetAmount)?"goal":"expense";console.log("DEBUG - UnifiedItemForm rendering with categories:",i),console.log("DEBUG - UnifiedItemForm rendering with preselectedCategory:",d);const f={type:h,name:(null===r||void 0===r?void 0:r.name)||"",amount:(null===r||void 0===r?void 0:r.amount)||0,usePercentage:(null===r||void 0===r?void 0:r.usePercentage)||!1,percentageAmount:(null===r||void 0===r?void 0:r.percentageAmount)||0,frequency:(null===r||void 0===r?void 0:r.frequency)||"monthly",dueDate:(null===r||void 0===r?void 0:r.dueDate)||"",categoryId:(null===d||void 0===d||null===(t=d.preselectedCategory)||void 0===t?void 0:t.id)||"",accountId:(null===r||void 0===r?void 0:r.accountId)||(null===(n=s[0])||void 0===n?void 0:n.id)||"",priorityState:(null===r||void 0===r?void 0:r.priorityState)||"active",isRecurring:(null===r||void 0===r?void 0:r.isRecurring)||!1,priority:(null===r||void 0===r?void 0:r.priority)||"medium",targetAmount:(null===r||void 0===r?void 0:r.targetAmount)||0,targetDate:(null===r||void 0===r?void 0:r.targetDate)||zn(new Date(Date.now()+31536e6)),monthlyContribution:(null===r||void 0===r?void 0:r.monthlyContribution)||0,monthlyPercentage:(null===r||void 0===r?void 0:r.monthlyPercentage)||0,alreadySaved:(null===r||void 0===r?void 0:r.alreadySaved)||0};console.log("DEBUG - Form initialValues:",f);const p=Ln({initialValues:f,onSubmit:e=>{const t=i.find((t=>t.id===e.categoryId)),n=s.find((t=>t.id===e.accountId)),r={category:t,categoryId:e.categoryId,account:n,accountId:e.accountId,priorityState:e.priorityState};"expense"===e.type?o(u(u({},r),{},{type:"expense",amount:e.usePercentage?Tn(parseFloat(e.percentageAmount)||0,c):parseFloat(e.amount)||0,usePercentage:e.usePercentage,percentageAmount:parseFloat(e.percentageAmount)||0,frequency:e.frequency,dueDate:e.dueDate,isRecurring:e.isRecurring,priority:e.priority})):o(u(u({},r),{},{type:"goal",targetAmount:parseFloat(e.targetAmount)||0,targetDate:e.targetDate,monthlyContribution:parseFloat(e.monthlyContribution)||0,alreadySaved:parseFloat(e.alreadySaved)||0}))},validate:e=>{const t={};return e.name||(t.name="Name is required"),e.categoryId||(t.categoryId="Category is required"),e.accountId||(t.accountId="Account is required"),"expense"===e.type?(e.usePercentage?e.percentageAmount||(t.percentageAmount="Percentage is required"):e.amount||(t.amount="Amount is required"),e.isRecurring&&!e.frequency&&(t.frequency="Frequency is required when expense is recurring")):e.targetAmount||(t.targetAmount="Target amount is required"),t}});(0,a.useEffect)((()=>{if("expense"===p.values.type&&c>0)if(p.values.usePercentage&&p.values.amount&&!p.values.percentageAmount){const e=En(parseFloat(p.values.amount)||0,c);p.setFieldValue("percentageAmount",parseFloat(e.toFixed(1)))}else if(!p.values.usePercentage&&p.values.percentageAmount&&!p.values.amount){const e=Tn(parseFloat(p.values.percentageAmount)||0,c);p.setFieldValue("amount",parseFloat(e.toFixed(2)))}}),[p.values.usePercentage,p.values.amount,p.values.percentageAmount,c,p]);const g=i.map((e=>({value:e.id,label:e.name}))),y=s.map((e=>({value:e.id,label:e.name})));return(0,N.jsxs)(it,{onSubmit:()=>{console.log("DEBUG - Form submit button clicked");const e=i.find((e=>e.id===p.values.categoryId)),t=s.find((e=>e.id===p.values.accountId));if(console.log("DEBUG - selectedCategory:",e),console.log("DEBUG - selectedAccount:",t),console.log("DEBUG - Form values before submit:",p.values),console.log("DEBUG - Form errors:",p.errors),console.log("DEBUG - Form isValid:",p.isValid),!p.isValid)return void console.log("DEBUG - Form validation failed, not submitting");const n={name:p.values.name,category:e,categoryId:p.values.categoryId,account:t,accountId:p.values.accountId,priorityState:p.values.priorityState};let r;r="expense"===p.values.type?u(u({},n),{},{type:"expense",amount:p.values.usePercentage?Tn(p.values.percentageAmount||0,c):p.values.amount||0,usePercentage:p.values.usePercentage,percentageAmount:p.values.percentageAmount||0,frequency:p.values.frequency,dueDate:p.values.dueDate,isRecurring:p.values.isRecurring,priority:p.values.priority}):u(u({},n),{},{type:"goal",targetAmount:p.values.targetAmount||0,targetDate:p.values.targetDate,monthlyContribution:p.values.monthlyContribution||0,alreadySaved:p.values.alreadySaved||0}),console.log("DEBUG - Prepared itemData:",r),o(r,!1)},onSubmitAnother:r?void 0:()=>{const e=i.find((e=>e.id===p.values.categoryId)),t=s.find((e=>e.id===p.values.accountId)),n=p.values.categoryId,a=p.values.accountId,l=p.values.type,d=p.values.priorityState,m=p.values.frequency,h=p.values.priority,f=(p.values.isRecurring,{name:p.values.name,category:e,categoryId:p.values.categoryId,account:t,accountId:p.values.accountId,priorityState:p.values.priorityState});let g;g="expense"===p.values.type?u(u({},f),{},{type:"expense",amount:p.values.usePercentage?Tn(parseFloat(p.values.percentageAmount)||0,c):parseFloat(p.values.amount)||0,usePercentage:p.values.usePercentage,percentageAmount:parseFloat(p.values.percentageAmount)||0,frequency:p.values.frequency,dueDate:p.values.dueDate,isRecurring:p.values.isRecurring,priority:p.values.priority}):u(u({},f),{},{type:"goal",targetAmount:parseFloat(p.values.targetAmount)||0,targetDate:p.values.targetDate,monthlyContribution:parseFloat(p.values.monthlyContribution)||0,alreadySaved:parseFloat(p.values.alreadySaved)||0}),o(g,!0),setTimeout((()=>{const e={type:l,name:"",amount:"",usePercentage:!1,percentageAmount:"",frequency:m,dueDate:(null===r||void 0===r?void 0:r.dueDate)||zn(new Date(Date.now()+2592e6)),categoryId:n,accountId:a,priorityState:d,isRecurring:!1,priority:h,targetAmount:"",targetDate:zn(new Date(Date.now()+31536e6)),monthlyContribution:"",alreadySaved:0};Object.keys(e).forEach((t=>{p.setFieldValue(t,e[t])}));const t=document.querySelector('input[name="name"]');t&&t.focus()}),100)},onCancel:l,submitLabel:r?"Update Item":"Add Item",showSubmitAnother:!r,submitAnotherLabel:"Save & Add Another",isSubmitDisabled:!1,children:[!r&&(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-theme-primary",children:"What are you adding?"}),(0,N.jsxs)("div",{className:"flex space-x-2",children:[(0,N.jsxs)("button",{type:"button",onClick:()=>p.setFieldValue("type","expense"),className:"flex-1 py-2 px-4 rounded flex items-center justify-center space-x-2 transition-colors ".concat("expense"===p.values.type?"btn-primary":"btn-secondary"),children:[(0,N.jsx)("span",{children:"\ud83d\udcb8"}),(0,N.jsx)("span",{children:"Expense"})]}),(0,N.jsxs)("button",{type:"button",onClick:()=>p.setFieldValue("type","goal"),className:"flex-1 py-2 px-4 rounded flex items-center justify-center space-x-2 transition-colors ".concat("goal"===p.values.type?"btn-success":"btn-secondary"),children:[(0,N.jsx)("span",{children:"\ud83c\udfaf"}),(0,N.jsx)("span",{children:"Goal"})]})]})]}),r&&(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-theme-primary",children:"Item Type"}),(0,N.jsx)("div",{className:"py-2 px-4 rounded border border-theme-secondary ".concat("expense"===p.values.type?"bg-theme-secondary text-theme-primary":"bg-theme-tertiary text-theme-primary"),children:(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,N.jsx)("span",{children:"expense"===p.values.type?"\ud83d\udcb8":"\ud83c\udfaf"}),(0,N.jsx)("span",{className:"font-medium",children:"expense"===p.values.type?"Expense":"Savings Goal"})]})})]}),(0,N.jsx)(St,u(u({},p.getFieldProps("name")),{},{label:"Name",placeholder:"expense"===p.values.type?"Expense name (e.g., 'Rent')":"Goal name (e.g., 'New Car')",autoFocus:!0,required:!0,darkMode:m})),(0,N.jsx)(wt,u(u({},p.getFieldProps("categoryId")),{},{label:"Category",options:g,required:!0,darkMode:m})),(0,N.jsx)(wt,u(u({},p.getFieldProps("accountId")),{},{label:"Funding Account",options:y,required:!0,darkMode:m})),(0,N.jsx)(wt,u(u({},p.getFieldProps("priorityState")),{},{label:"Status",options:[{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"}],required:!0,darkMode:m})),"expense"===p.values.type?(0,N.jsxs)(N.Fragment,{children:["expense"===p.values.type&&(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-theme-primary",children:"How do you want to set the amount?"}),(0,N.jsxs)("div",{className:"flex space-x-2",children:[(0,N.jsxs)("button",{type:"button",onClick:()=>{if(p.values.usePercentage&&p.values.percentageAmount&&c>0){const e=Tn(p.values.percentageAmount,c);p.setFieldValue("amount",e)}p.setFieldValue("usePercentage",!1)},className:"flex-1 py-2 px-3 rounded text-sm transition-colors ".concat(p.values.usePercentage?"bg-theme-secondary text-theme-primary hover:bg-theme-hover":"btn-primary"),children:[(0,N.jsx)("span",{className:"mr-1",children:"\ud83d\udcb0"}),"Dollar Amount"]}),(0,N.jsxs)("button",{type:"button",onClick:()=>{if(!p.values.usePercentage&&p.values.amount&&c>0){const e=En(p.values.amount,c);p.setFieldValue("percentageAmount",e)}p.setFieldValue("usePercentage",!0)},className:"flex-1 py-2 px-3 rounded text-sm transition-colors ".concat(p.values.usePercentage?"btn-success":"bg-theme-secondary text-theme-primary hover:bg-theme-hover"),children:[(0,N.jsx)("span",{className:"mr-1",children:"\ud83d\udcca"}),"% of Paycheck"]})]})]}),p.values.usePercentage?(0,N.jsx)(bt,{name:"percentageAmount",label:"Percentage of Income",value:p.values.percentageAmount?p.values.percentageAmount:0,onChange:e=>{const t=parseFloat(e.target.value)||0;console.log("DEBUG - PercentageField onChange - string:",e.target.value,"number:",t),p.setFieldValue("percentageAmount",t)},placeholder:"0.0",required:!0,darkMode:m,error:p.errors.percentageAmount,hint:c>0?"Approx. $".concat(Tn(p.values.percentageAmount||0,c).toFixed(2)):""}):(0,N.jsx)(pt,{name:"amount",label:"Amount",value:p.values.amount?p.values.amount.toString():"",onChange:e=>{const t=parseFloat(e.target.value)||0;console.log("DEBUG - CurrencyField onChange - string:",e.target.value,"number:",t),p.setFieldValue("amount",t)},placeholder:"0.00",required:!0,darkMode:m,error:p.errors.amount,hint:c>0?"Approx. ".concat(En(p.values.amount||0,c).toFixed(1),"% of income"):""}),(0,N.jsx)(yt,u(u({},p.getFieldProps("dueDate")),{},{label:"Due Date",required:!1,darkMode:m,hint:"Optional - leave blank if no specific due date"})),p.values.dueDate&&(0,N.jsx)(ut,u(u({},p.getFieldProps("isRecurring")),{},{label:"This is a recurring expense",darkMode:m})),p.values.dueDate&&p.values.isRecurring&&(0,N.jsx)(wt,u(u({},p.getFieldProps("frequency")),{},{label:"Frequency",options:Hr,required:!0,darkMode:m,hint:"How often does this expense repeat?"}))]}):(0,N.jsxs)(N.Fragment,{children:[console.log("DEBUG - Rendering goal fields with values:",{targetAmount:p.values.targetAmount,targetDate:p.values.targetDate,monthlyContribution:p.values.monthlyContribution}),(0,N.jsx)(Mn,{formValues:p.values,onChange:e=>{console.log("DEBUG - GoalFieldGroup onChange:",e.target.name,e.target.value),p.setFieldValue(e.target.name,e.target.value)},errors:p.errors,darkMode:m,currentPay:c})]}),"goal"===p.values.type&&(0,N.jsx)(pt,u(u({},p.getFieldProps("alreadySaved")),{},{label:"Already Saved",placeholder:"0.00",darkMode:m,hint:p.values.targetAmount?"".concat(((parseFloat(p.values.alreadySaved)||0)/(parseFloat(p.values.targetAmount)||1)*100).toFixed(1),"% funded"):""}))]})},$r=v("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Vr=e=>{let{accounts:t,onAddAccount:n,onEditAccount:r,onDeleteAccount:a}=e;return(0,N.jsxs)("div",{className:"bg-theme-primary rounded-lg p-6 mb-8 shadow-lg",children:[(0,N.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,N.jsxs)("h2",{className:"text-xl font-semibold flex items-center text-theme-primary",children:["\ud83c\udfe6 ",(0,N.jsx)("span",{className:"ml-2",children:"Accounts"})]}),(0,N.jsxs)("button",{onClick:n,className:"btn-theme-primary px-3 py-2 rounded text-sm flex items-center",children:[(0,N.jsx)(Jn,{className:"w-4 h-4 mr-1"}),"Add Account"]})]}),(0,N.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((e=>(0,N.jsx)("div",{className:"p-4 rounded border border-theme-primary bg-theme-secondary",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{className:"flex-1",children:[(0,N.jsx)("div",{className:"font-medium text-theme-primary",children:e.name}),(0,N.jsxs)("div",{className:"text-sm text-theme-tertiary capitalize",children:[e.type," \u2022 ",e.bankName]})]}),(0,N.jsxs)("div",{className:"text-right",children:[(0,N.jsxs)("div",{className:"font-semibold ".concat("credit"===e.type?e.balance<0?"text-red-500":"text-green-500":e.balance>=0?"text-green-500":"text-red-500"),children:["$",Math.abs(e.balance).toFixed(2)]}),(0,N.jsx)("div",{className:"text-xs text-theme-tertiary",children:"credit"===e.type?e.balance<0?"owed":"credit":"balance"})]}),(0,N.jsxs)("div",{className:"flex space-x-1 ml-2",children:[(0,N.jsx)("button",{onClick:()=>r(e),className:"btn-secondary p-1 rounded",title:"Edit account",children:(0,N.jsx)($r,{className:"w-3 h-3"})}),(0,N.jsx)("button",{onClick:()=>a(e),className:"btn-danger p-1 rounded",title:"Delete account",children:(0,N.jsx)(or,{className:"w-3 h-3"})})]})]})},e.id)))})]})},Yr=e=>{let{onSave:t,onCancel:n,darkMode:r,account:a=null}=e;const o=Ln({initialValues:{name:(null===a||void 0===a?void 0:a.name)||"",type:(null===a||void 0===a?void 0:a.type)||"checking",balance:(null===a||void 0===a?void 0:a.balance)||"",bankName:(null===a||void 0===a?void 0:a.bankName)||""},onSubmit:e=>{t(u(u({},e),{},{balance:parseFloat(e.balance)||0}))},validate:e=>{const t={};return e.name||(t.name="Account name is required"),""===e.balance&&(t.balance="Balance is required"),t}});return(0,N.jsxs)(it,{onSubmit:()=>{o.handleSubmit()},onCancel:n,submitLabel:a?"Update Account":"Add Account",isSubmitDisabled:!o.values.name||""===o.values.balance,children:[(0,N.jsx)(St,u(u({},o.getFieldProps("name")),{},{label:"Account Name",placeholder:"Account name (e.g., 'Main Checking')",autoFocus:!0,required:!0,darkMode:r})),(0,N.jsx)(wt,u(u({},o.getFieldProps("type")),{},{label:"Account Type",options:[{value:"checking",label:"Checking"},{value:"savings",label:"Savings"},{value:"credit",label:"Credit Card"},{value:"cash",label:"Cash"},{value:"investment",label:"Investment"},{value:"loan",label:"Loan"}],required:!0,darkMode:r})),(0,N.jsx)(St,u(u({},o.getFieldProps("bankName")),{},{label:"Bank Name",placeholder:"Bank name (optional)",darkMode:r})),(0,N.jsx)(pt,u(u({},o.getFieldProps("balance")),{},{label:"Current Balance",placeholder:"0.00",required:!0,darkMode:r}))]})},Gr=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},Qr=e=>{var t;let{onSave:n,onCancel:r,darkMode:o,transaction:l=null,accounts:i=[],categories:s=[]}=e;const c=Ln({initialValues:{date:(null===l||void 0===l?void 0:l.date)||Gr(),payee:(null===l||void 0===l?void 0:l.payee)||"",amount:null!==l&&void 0!==l&&l.amount?Math.abs(l.amount):0,isIncome:!(null===l||void 0===l||!l.amount)&&l.amount>0,categoryId:(null===l||void 0===l?void 0:l.categoryId)||"",accountId:(null===l||void 0===l?void 0:l.accountId)||(null===(t=i[0])||void 0===t?void 0:t.id)||"",transferAccountId:(null===l||void 0===l?void 0:l.transferAccountId)||"",memo:(null===l||void 0===l?void 0:l.memo)||"",isCleared:(null===l||void 0===l?void 0:l.isCleared)||!1,isTransfer:!(null===l||void 0===l||!l.transferAccountId)},onSubmit:e=>{if(e.isSplit){const t=e.splits||[],r=t.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0),a=e.isIncome?r:-r;n(u(u({},e),{},{amount:a,splits:t.map((t=>({amount:e.isIncome?parseFloat(t.amount):-parseFloat(t.amount),categoryId:parseInt(t.categoryId,10),memo:t.memo||""}))),categoryId:null,transferAccountId:e.isTransfer?e.transferAccountId:null}))}else{const t=e.isIncome?Math.abs(parseFloat(e.amount)||0):-Math.abs(parseFloat(e.amount)||0);n(u(u({},e),{},{amount:t,categoryId:e.isTransfer?null:e.categoryId?parseInt(e.categoryId,10):null,transferAccountId:e.isTransfer&&e.transferAccountId?parseInt(e.transferAccountId,10):null}))}},validate:e=>{const t={};e.date||(t.date="Date is required"),e.payee&&""!==e.payee.trim()||(t.payee="Payee is required");const n="number"===typeof e.amount?e.amount:parseFloat(e.amount);if((isNaN(n)||0===n)&&(t.amount="Amount is required"),e.accountId||(t.accountId="Account is required"),e.isTransfer&&!e.transferAccountId)t.transferAccountId="Transfer account is required";else if(e.isSplit){const n=e.splits||[];if(0===n.length)t.splits="At least one split is required";else{let r=!1;n.forEach(((e,n)=>{e.categoryId||(t["split_".concat(n,"_category")]="Category is required",r=!0),(!e.amount||parseFloat(e.amount)<=0)&&(t["split_".concat(n,"_amount")]="Amount is required",r=!0)}));const a=n.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0);Math.abs(Math.abs(e.amount)-a)>.01&&(t.splits="Split amounts must add up to transaction total")}}else e.isTransfer||e.categoryId||e.isIncome||(t.categoryId="Category is required for expenses");return t}}),d=i.filter((e=>e.id!==c.values.accountId)).map((e=>({value:e.id,label:e.name}))),m=i.map((e=>({value:e.id,label:e.name}))),h=s.map((e=>({value:e.id,label:e.name})));(0,a.useEffect)((()=>{c.values.isTransfer?c.setFieldValue("categoryId",""):c.setFieldValue("transferAccountId","")}),[c.values.isTransfer]),(0,a.useEffect)((()=>{if(c.values.isIncome&&!c.values.categoryId&&!c.values.isTransfer&&!c.values.isSplit){const e=s.find((e=>"income"===e.type||"Income"===e.name));e&&c.setFieldValue("categoryId",e.id)}}),[c.values.isIncome,c.values.isTransfer,c.values.isSplit,s]);const f=()=>{const e={id:Date.now(),amount:0,categoryId:"",memo:""},t=c.values.splits||[];c.setFieldValue("splits",[...t,e])},p=(e,t,n)=>{const r=(c.values.splits||[]).map((r=>r.id===e?u(u({},r),{},{[t]:n}):r));c.setFieldValue("splits",r)},g=(c.values.splits||[]).reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0),y=Math.abs(c.values.amount)-g,v=()=>{c.handleSubmit()},b=()=>{c.handleSubmit()},x=e=>{"Escape"===e.key?r():"Enter"===e.key&&(e.shiftKey?(e.preventDefault(),b()):"TEXTAREA"!==e.target.tagName&&(e.preventDefault(),v()))};return(0,a.useEffect)((()=>(document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)})),[]),(0,N.jsxs)(it,{onSubmit:v,onSubmitAnother:b,onCancel:r,submitLabel:l?"Update Transaction":"Add Transaction",submitAnotherLabel:"Save & Add Another",isSubmitDisabled:!c.isValid,children:[(0,N.jsx)(yt,u(u({},c.getFieldProps("date")),{},{label:"Date",required:!0,darkMode:o})),(0,N.jsx)(St,u(u({},c.getFieldProps("payee")),{},{label:"Payee",placeholder:"Who was this transaction with?",required:!0,autoFocus:!0,darkMode:o})),(0,N.jsx)(pt,{name:"amount",label:"Amount",value:c.values.amount||0,onChange:e=>{c.setFieldValue("amount",e.target.value)},placeholder:"0.00",required:!0,darkMode:o,error:c.errors.amount}),(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("label",{className:"block text-sm font-medium ".concat(o?"text-gray-200":"text-gray-700"),children:"Transaction Type"}),(0,N.jsxs)("div",{className:"flex gap-2",children:[(0,N.jsx)("button",{type:"button",onClick:()=>c.setFieldValue("isIncome",!1),className:"flex-1 px-4 py-2 rounded-lg border transition-colors ".concat(c.values.isIncome?o?"bg-gray-700 text-gray-200 border-gray-600 hover:bg-gray-600":"bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200":"bg-red-500 text-white border-red-500"),children:"\ud83d\udcb8 Expense"}),(0,N.jsx)("button",{type:"button",onClick:()=>c.setFieldValue("isIncome",!0),className:"flex-1 px-4 py-2 rounded-lg border transition-colors ".concat(c.values.isIncome?"bg-green-500 text-white border-green-500":o?"bg-gray-700 text-gray-200 border-gray-600 hover:bg-gray-600":"bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200"),children:"\ud83d\udcb0 Income"})]})]}),(0,N.jsx)(wt,u(u({},c.getFieldProps("accountId")),{},{label:"Account",options:m,required:!0,darkMode:o})),(0,N.jsx)(ut,u(u({},c.getFieldProps("isTransfer")),{},{label:"This is a transfer between accounts",darkMode:o})),(0,N.jsx)(ut,{name:"isSplit",label:"Split this transaction across multiple categories",checked:c.values.isSplit,onChange:e=>{c.setFieldValue("isSplit",e.target.checked),!e.target.checked||c.values.splits&&0!==c.values.splits.length||f()},darkMode:o}),c.values.isTransfer?(0,N.jsx)(wt,u(u({},c.getFieldProps("transferAccountId")),{},{label:"Transfer To",options:d,required:!0,darkMode:o,hint:0===d.length?"No other accounts available":""})):c.values.isSplit?(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("h4",{className:"font-medium ".concat(o?"text-gray-200":"text-gray-700"),children:"Transaction Splits"}),(0,N.jsx)("button",{type:"button",onClick:f,className:"px-3 py-1 text-sm rounded border transition-colors ".concat(o?"bg-gray-700 text-gray-200 border-gray-600 hover:bg-gray-600":"bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200"),children:"+ Add Split"})]}),(c.values.splits||[]).map(((e,t)=>(0,N.jsxs)("div",{className:"p-3 border rounded ".concat(o?"border-gray-600 bg-gray-800":"border-gray-300 bg-gray-50"),children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,N.jsxs)("span",{className:"text-sm font-medium ".concat(o?"text-gray-200":"text-gray-700"),children:["Split ",t+1]}),(c.values.splits||[]).length>1&&(0,N.jsx)("button",{type:"button",onClick:()=>(e=>{const t=(c.values.splits||[]).filter((t=>t.id!==e));c.setFieldValue("splits",t),0===t.length&&c.setFieldValue("isSplit",!1)})(e.id),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,N.jsx)(pt,{name:"split_".concat(e.id,"_amount"),label:"Amount",value:e.amount||0,onChange:t=>p(e.id,"amount",t.target.value),required:!0,darkMode:o,error:c.errors["split_".concat(t,"_amount")],hideLabel:!1}),(0,N.jsx)(wt,{name:"split_".concat(e.id,"_category"),label:"Category",value:e.categoryId,onChange:t=>p(e.id,"categoryId",t.target.value),options:[{value:"",label:"Select category..."},...h],required:!0,darkMode:o,error:c.errors["split_".concat(t,"_category")]})]}),(0,N.jsx)(St,{name:"split_".concat(e.id,"_memo"),label:"Split Memo",value:e.memo||"",onChange:t=>p(e.id,"memo",t.target.value),placeholder:"Optional memo for this split",darkMode:o})]},e.id))),(0,N.jsxs)("div",{className:"text-sm p-2 rounded ".concat(Math.abs(y)<.01?o?"bg-green-900 text-green-200":"bg-green-100 text-green-800":o?"bg-yellow-900 text-yellow-200":"bg-yellow-100 text-yellow-800"),children:["Split Total: $",g.toFixed(2)," | Transaction Total: $",Math.abs(c.values.amount).toFixed(2)," | Difference: $",Math.abs(y).toFixed(2),Math.abs(y)<.01&&" \u2713"]}),c.errors.splits&&(0,N.jsx)("div",{className:"text-red-500 text-sm",children:c.errors.splits})]}):(0,N.jsx)(wt,{name:"categoryId",label:"Category",value:c.values.categoryId,onChange:e=>c.setFieldValue("categoryId",e.target.value),options:[{value:"",label:"Select a category..."},...h],required:!c.values.isIncome,darkMode:o,hint:c.values.isIncome?"Optional for income":"Required for expenses",error:c.errors.categoryId}),(0,N.jsx)(St,u(u({},c.getFieldProps("memo")),{},{label:"Memo",placeholder:"Optional notes about this transaction",darkMode:o})),(0,N.jsx)(ut,u(u({},c.getFieldProps("isCleared")),{},{label:"Cleared (has posted to account)",darkMode:o}))]})},Kr=(e,t,n)=>{const r=[],a=(e=>{const t=[],[n,r,a]=e.startDate.split("-").map(Number),o=new Date(n,r-1,a),l=new Date;l.setHours(0,0,0,0);let i=new Date(o);const s="bi-weekly"===e.frequency?14:30;let c=0;for(;i<l&&c<100;)i.setDate(i.getDate()+s),c++;for(let u=0;u<26;u++)t.push(new Date(i)),i.setDate(i.getDate()+s);return t})(e);return a.forEach(((a,o)=>{const l=e.splitPaycheck?e.primaryAmount:t,i=n.find((t=>t.id===e.primaryAccountId));if(r.push({date:new Date(a),type:"paycheck",subtype:"primary",title:e.splitPaycheck?"".concat((null===i||void 0===i?void 0:i.name)||"Primary Bank"):"Paycheck #".concat(o+1),amount:l,description:"".concat(e.splitPaycheck?"Main deposit":"Bi-weekly income",": $").concat(l.toFixed(2)).concat(i?" \u2192 ".concat(i.name):""),accountId:e.splitPaycheck?e.primaryAccountId:null}),e.splitPaycheck&&e.secondaryAmount>0){const t=new Date(a);t.setDate(a.getDate()-e.secondaryDaysEarly);const o=n.find((t=>t.id===e.secondaryAccountId));r.push({date:t,type:"paycheck",subtype:"secondary",title:"".concat((null===o||void 0===o?void 0:o.name)||"Secondary Bank"),amount:e.secondaryAmount,description:"Early deposit: $".concat(e.secondaryAmount.toFixed(2)," (").concat(e.secondaryDaysEarly," days early) \u2192 ").concat((null===o||void 0===o?void 0:o.name)||"Secondary Bank"),accountId:e.secondaryAccountId})}})),r.sort(((e,t)=>e.date-t.date))},Xr=e=>{let{darkMode:t,currentPay:n,paySchedule:r,savingsGoals:o,expenses:l,categories:i,frequencyOptions:s,accounts:c}=e;const[u,d]=(0,a.useState)("timeline"),[m,h]=(0,a.useState)(new Date),f=e=>e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:e.getFullYear()!==(new Date).getFullYear()?"numeric":void 0}),p=function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e){case"paycheck":return"\ud83d\udcb0";case"goal-deadline":return"\ud83c\udfaf";case"expense-due":return t?"\ud83d\udd04":"\u23f0";case"recurring-transaction":return"\ud83d\udd04";default:return"\ud83d\udcc5"}},g=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return"border-red-400 bg-red-100 dark:bg-red-900/30 text-red-900 dark:text-red-100";if("paycheck"===e)return"secondary"===t?"border-blue-400 bg-blue-100 dark:bg-blue-900/30 text-blue-900 dark:text-blue-100":"border-green-400 bg-green-100 dark:bg-green-900/30 text-green-900 dark:text-green-100";switch(e){case"goal-deadline":return"border-purple-400 bg-purple-400 dark:bg-purple-900/30 text-purple-900 dark:text-purple-100";case"expense-due":return"border-yellow-400 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-900 dark:text-yellow-100";case"recurring-transaction":return"border-cyan-400 bg-cyan-100 dark:bg-cyan-900/30 text-cyan-900 dark:text-cyan-100";default:return"border-gray-400 bg-theme-tertiary dark:bg-theme-tertiary/30"}},y=(e,t)=>t.filter((t=>new Date(t.date).toDateString()===e.toDateString())),v=e=>{const t=(n=m,new Date(n.getFullYear(),n.getMonth()+1,0).getDate());var n;const r=(e=>new Date(e.getFullYear(),e.getMonth(),1).getDay())(m),a=[];for(let o=0;o<r;o++)a.push(null);for(let o=1;o<=t;o++){const t=new Date(m.getFullYear(),m.getMonth(),o),n=y(t,e),r=t.toDateString()===(new Date).toDateString();a.push({date:t,day:o,events:n,isToday:r})}return a},b=()=>{h(new Date(m.getFullYear(),m.getMonth()+1,1))},x=()=>{h(new Date(m.getFullYear(),m.getMonth()-1,1))},w=()=>{h(new Date)},k=((e,t,n,r,a,o,l)=>{const i=[],s=Kr(e,t,l);return i.push(...s),n.forEach((e=>{if(e.targetDate){var t;const[n,r,o]=e.targetDate.split("-").map(Number),l=new Date(n,r-1,o);i.push({date:l,type:"goal-deadline",title:e.name,amount:e.targetAmount,description:"Target: $".concat(e.targetAmount.toLocaleString()),category:null===(t=a.find((t=>t.id===e.categoryId)))||void 0===t?void 0:t.name,isRecurring:!1,occurrenceNumber:1})}})),r.forEach((e=>{if(e.dueDate)try{const[r,l,s]=e.dueDate.split("-").map(Number),c=new Date(r,l-1,s);if(e.isRecurringExpense&&e.frequency&&"per-paycheck"!==e.frequency){const n=o.find((t=>t.value===e.frequency));if(n&&n.weeksPerYear>0){const r=Math.round(365/n.weeksPerYear);let o=new Date(c);const l=new Date(Date.now()+31536e6);let s=1;for(;o<=l&&s<=8;){var t;i.push({date:new Date(o),type:"expense-due",title:e.name,amount:e.amount,description:"$".concat(e.amount," due"),category:null===(t=a.find((t=>t.id===e.categoryId)))||void 0===t?void 0:t.name,isRecurring:!0,occurrenceNumber:s}),o=new Date(o.getTime()+24*r*60*60*1e3),s++}}}else{var n;i.push({date:c,type:"expense-due",title:e.name,amount:e.amount,description:"$".concat(e.amount," due"),category:null===(n=a.find((t=>t.id===e.categoryId)))||void 0===n?void 0:n.name,isRecurring:!1,occurrenceNumber:1})}}catch(r){console.error("Error processing expense date:",e.name,r)}})),i.sort(((e,t)=>e.date-t.date))})(r,n,o,l,i,s,c),S=()=>(0,N.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm border-t border-theme-primary pt-4 mt-4 text-theme-secondary bg-theme-primary",children:[(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)("span",{className:"mr-1",children:"\ud83d\udcb0"}),(0,N.jsx)("span",{children:"Paycheck"})]}),(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)("span",{className:"mr-1",children:"\ud83c\udfaf"}),(0,N.jsx)("span",{children:"Goal Deadline"})]}),(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)("span",{className:"mr-1",children:"\u23f0"}),(0,N.jsx)("span",{children:"Single Expense"})]}),(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)("span",{className:"mr-1",children:"\ud83d\udd04"}),(0,N.jsx)("span",{children:"Recurring Item"})]})]});if("grid"===u){const e=v(k),t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsx)("div",{className:"flex justify-between items-center",children:(0,N.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,N.jsx)("h4",{className:"font-medium text-theme-primary",children:"Calendar View"}),(0,N.jsxs)("div",{className:"flex space-x-2",children:[(0,N.jsx)("button",{onClick:()=>d("grid"),className:"px-3 py-1 rounded text-sm font-medium transition-colors ".concat("grid"===u?"bg-purple-400 text-theme-primary":"bg-theme-secondary text-theme-secondary hover:bg-theme-hover"),children:"Grid"}),(0,N.jsx)("button",{onClick:()=>d("timeline"),className:"px-3 py-1 rounded text-sm font-medium transition-colors ".concat("timeline"===u?"bg-purple-400 text-theme-primary":"bg-theme-secondary text-theme-secondary hover:bg-theme-hover"),children:"Timeline"})]})]})}),(0,N.jsxs)("div",{className:"flex justify-between items-center",children:[(0,N.jsx)("button",{onClick:x,className:"p-2 rounded hover:bg-theme-hover transition-colors text-theme-primary",children:"\u2190"}),(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,N.jsxs)("h3",{className:"text-lg font-semibold text-theme-primary",children:[t[m.getMonth()]," ",m.getFullYear()]}),(0,N.jsx)("button",{onClick:w,className:"text-sm hover:underline text-theme-blue",children:"Today"})]}),(0,N.jsx)("button",{onClick:b,className:"p-2 rounded hover:bg-theme-hover transition-colors text-theme-primary",children:"\u2192"})]}),(0,N.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[n.map((e=>(0,N.jsx)("div",{className:"p-2 text-center font-medium text-sm text-theme-secondary",children:e},e))),e.map(((e,t)=>(0,N.jsx)("div",{className:"min-h-24 p-1 border border-theme-primary ".concat(e?e.isToday?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300":"bg-theme-primary text-theme-primary":"bg-theme-secondary"),children:e&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"text-sm font-medium ".concat(e.isToday?"text-blue-600 dark:text-blue-300":"text-theme-primary"),children:e.day}),(0,N.jsxs)("div",{className:"space-y-1 mt-1",children:[e.events.slice(0,3).map(((e,t)=>(0,N.jsxs)("div",{className:"text-xs p-1 rounded truncate ".concat(g(e.type,e.subtype,e.warning)),children:[(0,N.jsx)("span",{className:"mr-1",children:p(e.type,1===e.occurrenceNumber,e.isRecurring)}),e.title.replace(/ \(#\d+\)/,"")]},t))),e.events.length>3&&(0,N.jsxs)("div",{className:"text-xs text-theme-tertiary",children:["+",e.events.length-3," more"]})]})]})},t)))]}),(0,N.jsx)(S,{})]})}const j=k.reduce(((e,t)=>{const n=t.date.toDateString();return e[n]||(e[n]=[]),e[n].push(t),e}),{}),C=Object.keys(j).sort(((e,t)=>new Date(e)-new Date(t)));return(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"flex justify-between items-center",children:[(0,N.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,N.jsx)("h4",{className:"font-medium text-theme-primary",children:"Timeline View"}),(0,N.jsxs)("div",{className:"flex space-x-2",children:[(0,N.jsx)("button",{onClick:()=>d("grid"),className:"px-3 py-1 rounded text-sm font-medium transition-colors ".concat("grid"===u?"bg-purple-400 text-theme-primary":"bg-theme-secondary text-theme-secondary hover:bg-theme-hover"),children:"Grid"}),(0,N.jsx)("button",{onClick:()=>d("timeline"),className:"px-3 py-1 rounded text-sm font-medium transition-colors ".concat("timeline"===u?"bg-purple-400 text-theme-primary":"bg-theme-secondary text-theme-secondary hover:bg-theme-hover"),children:"Timeline"})]})]}),(0,N.jsx)("div",{className:"text-sm text-theme-secondary",children:"Next few months"})]}),(0,N.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:C.slice(0,20).map((e=>{const t=new Date(e),n=j[e],r=t.toDateString()===(new Date).toDateString();return(0,N.jsxs)("div",{className:"border-l-4 pl-4 ".concat(r?"border-blue-500":"border-theme-primary"),children:[(0,N.jsxs)("div",{className:"font-medium text-sm ".concat(r?"text-blue-600 dark:text-blue-400":"text-theme-primary"),children:[f(t)," ",r&&"(Today)"]}),(0,N.jsx)("div",{className:"space-y-2 mt-2",children:n.map(((e,t)=>(0,N.jsxs)("div",{className:"p-3 rounded border-l-4 ".concat(g(e.type,e.subtype,e.warning)),children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)("span",{className:"mr-2 text-lg",children:p(e.type,1===e.occurrenceNumber,e.isRecurring)}),(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"font-medium",children:e.title.replace(/ \(#\d+\)/,"")}),(0,N.jsx)("div",{className:"text-sm",children:e.description})]}),e.warning&&(0,N.jsx)("span",{className:"ml-2 text-red-500",children:"\u26a0\ufe0f"})]}),(0,N.jsxs)("div",{className:"text-right",children:[(0,N.jsxs)("div",{className:"font-semibold",children:["$",e.amount.toLocaleString()]}),void 0!==e.paychecksLeft&&(0,N.jsxs)("div",{className:"text-xs",children:[e.paychecksLeft," paychecks left"]})]})]}),e.category&&(0,N.jsxs)("div",{className:"text-xs text-theme-tertiary mt-1",children:["Category: ",e.category]})]},t)))})]},e)}))}),(0,N.jsx)(S,{})]})},Jr=v("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);function Zr(e,t){var n;const r=()=>_t(null===t||void 0===t?void 0:t.in,NaN),a=null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2,o=function(e){const t={},n=e.split(ea.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],ea.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ea.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=ea.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let l;if(o.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?a:100*o,restDateString:e.slice((r[1]||r[2]).length)}}(o.date,a);l=function(e,t){if(null===t)return new Date(NaN);const n=e.match(ta);if(!n)return new Date(NaN);const r=!!n[4],a=aa(n[1]),o=aa(n[2])-1,l=aa(n[3]),i=aa(n[4]),s=aa(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,i,s)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,o=7*(t-1)+n+1-a;return r.setUTCDate(r.getUTCDate()+o),r}(t,i,s):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(la[t]||(ia(e)?29:28))}(t,o,l)&&function(e,t){return t>=1&&t<=(ia(e)?366:365)}(t,a)?(e.setUTCFullYear(t,o,Math.max(a,l)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!l||isNaN(+l))return r();const i=+l;let s,c=0;if(o.time&&(c=function(e){const t=e.match(na);if(!t)return NaN;const n=oa(t[1]),r=oa(t[2]),a=oa(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a))return NaN;return n*Lt+r*Ft+1e3*a}(o.time),isNaN(c)))return r();if(!o.timezone){const e=new Date(i+c),n=zt(0,null===t||void 0===t?void 0:t.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return s=function(e){if("Z"===e)return 0;const t=e.match(ra);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return n*(r*Lt+a*Ft)}(o.timezone),isNaN(s)?r():zt(i+c+s,null===t||void 0===t?void 0:t.in)}const ea={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ta=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,na=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ra=/^([+-])(\d{2})(?::?(\d{2}))?$/;function aa(e){return e?parseInt(e):1}function oa(e){return e&&parseFloat(e.replace(",","."))||0}const la=[31,null,31,30,31,30,31,31,30,31,30,31];function ia(e){return e%400===0||e%4===0&&e%100!==0}function sa(e,t,n){const r=zt(e,null===n||void 0===n?void 0:n.in);return isNaN(t)?_t((null===n||void 0===n?void 0:n.in)||e,NaN):t?(r.setDate(r.getDate()+t),r):r}const ca=(e,t)=>{const n=(0,a.useRef)(!1),[r,o]=(0,a.useState)((()=>{try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.error('Error reading localStorage key "'.concat(e,'":'),n),t}})),l=(0,a.useCallback)((t=>{if(!n.current)try{n.current=!0;const a=t instanceof Function?t(r):t,l=JSON.stringify(r),i=JSON.stringify(a);i!==l&&(o(a),window.localStorage.setItem(e,i))}catch(a){console.error('Error setting localStorage key "'.concat(e,'":'),a)}finally{setTimeout((()=>{n.current=!1}),0)}}),[e,r]);return[r,l]},ua=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=e=>"number"!==typeof e||isNaN(e)?0:Math.min(Math.max(e,-1e5),1e5),n=localStorage.getItem("budgetCalc_paySchedule"),r=localStorage.getItem("budgetCalc_currentPay"),o=n?JSON.parse(n):null,l=r?parseFloat(r):null,[i,s]=ca("budgetCalc_paychecks",((t,n)=>{var r;const a={id:1,name:"Main Paycheck",frequency:"biweekly",startDate:(new Date).toISOString().split("T")[0],baseAmount:2e3,variableAmount:!1,accountDistribution:[{accountId:e.length>0?e[0].id:1,amount:2e3,distributionType:"fixed",distributionValue:2e3}],historyEntries:[],isActive:!0};if(!t&&!n)return[a];const o={id:1,name:"Main Paycheck",frequency:(null===t||void 0===t?void 0:t.frequency)||"biweekly",startDate:(null===t||void 0===t||null===(r=t.startDate)||void 0===r?void 0:r.split("T")[0])||(new Date).toISOString().split("T")[0],baseAmount:n||2e3,variableAmount:!1,accountDistribution:[],historyEntries:[],isActive:!0};return null!==t&&void 0!==t&&t.splitPaycheck&&null!==t&&void 0!==t&&t.primaryAccountId&&null!==t&&void 0!==t&&t.secondaryAccountId?o.accountDistribution=[{accountId:t.primaryAccountId,amount:t.primaryAmount||.7*n,distributionType:"fixed",distributionValue:t.primaryAmount||.7*n},{accountId:t.secondaryAccountId,amount:t.secondaryAmount||.3*n,distributionType:"fixed",distributionValue:t.secondaryAmount||.3*n}]:o.accountDistribution=[{accountId:e.length>0?e[0].id:1,amount:n||2e3,distributionType:"fixed",distributionValue:n||2e3}],[o]})(o,l)),c=(0,a.useCallback)((n=>{const r=Math.max(0,...i.map((e=>e.id)))+1,a={id:r,name:n.name||"Paycheck ".concat(r),frequency:n.frequency||"biweekly",startDate:n.startDate||(new Date).toISOString().split("T")[0],baseAmount:t(n.baseAmount||0),variableAmount:n.variableAmount||!1,accountDistribution:n.accountDistribution||[{accountId:e.length>0?e[0].id:1,amount:t(n.baseAmount||0),distributionType:"fixed",distributionValue:t(n.baseAmount||0)}],historyEntries:[],isActive:!0};return s((e=>[...e,a])),a}),[i,s,e]),d=(0,a.useCallback)(((e,t)=>{s((n=>n.map((n=>n.id===e?u(u({},n),t):n))))}),[s]),m=(0,a.useCallback)((e=>i.length<=1?(console.warn("Cannot delete the only paycheck"),!1):(s((t=>t.filter((t=>t.id!==e)))),!0)),[i,s]),h=(0,a.useCallback)((e=>{s((t=>t.map((t=>t.id===e?u(u({},t),{},{isActive:!t.isActive}):t))))}),[s]),f=(0,a.useCallback)((function(e,n,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";s((o=>o.map((o=>{if(o.id===e){const e={date:n,actualAmount:t(r),notes:a};return u(u({},o),{},{historyEntries:[e,...o.historyEntries]})}return o}))))}),[s]),p=(0,a.useCallback)((()=>[{value:"weekly",label:"Weekly",paychecksPerMonth:4.33},{value:"biweekly",label:"Every 2 Weeks",paychecksPerMonth:2.17},{value:"semimonthly",label:"Twice a Month",paychecksPerMonth:2},{value:"monthly",label:"Monthly",paychecksPerMonth:1}]),[]),g=(0,a.useCallback)((e=>{switch(e){case"weekly":return 52;case"biweekly":default:return 26;case"semimonthly":return 24;case"monthly":return 12}}),[]),y=(0,a.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;const n=i.find((t=>t.id===e));if(!n)return[];const r=[];let a;try{a=Zr(n.startDate)}catch(o){a=new Date}for(let l=0;l<t;l++)switch(r.push(new Date(a)),n.frequency){case"weekly":a=sa(a,7);break;case"biweekly":default:a=sa(a,14);break;case"semimonthly":a.getDate()<15?a.setDate(15):(a.setDate(1),a.setMonth(a.getMonth()+1));break;case"monthly":a.setMonth(a.getMonth()+1)}return r}),[i]),v=(0,a.useCallback)((()=>i.filter((e=>e.isActive)).reduce(((e,n)=>{const r=p().find((e=>e.value===n.frequency)),a=r?r.paychecksPerMonth:2.17;return e+t(n.baseAmount)*a}),0)),[i,p]),b=(0,a.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;const t=new Date,n=new Date(t);n.setMonth(t.getMonth()+e);const r=[];return i.filter((e=>e.isActive)).forEach((a=>{y(a.id,g(a.frequency)/4*e).forEach((e=>{e>=t&&e<=n&&r.push({date:e,paycheck:u({},a),formattedDate:jn(e,"yyyy-MM-dd")})}))})),r.sort(((e,t)=>e.date-t.date))}),[i,y,g]);return{paychecks:i,setPaychecks:s,addPaycheck:c,updatePaycheck:d,deletePaycheck:m,togglePaycheckActive:h,recordPaycheckReceived:f,getFrequencyOptions:p,getPaychecksPerYear:g,generatePaycheckDates:y,calculateTotalMonthlyIncome:v,getAllUpcomingPaycheckDates:b}},da=e=>{let{accounts:t=[],onStartPaydayWorkflow:n}=e;const{paychecks:r,addPaycheck:o,updatePaycheck:l,deletePaycheck:i,togglePaycheckActive:s,getFrequencyOptions:c,generatePaycheckDates:d}=ua(t),m=e=>{const t="string"===typeof e?parseFloat(e):e;return"number"!==typeof t||isNaN(t)?0:Math.min(Math.max(t,0),1e5)},[h,f]=(0,a.useState)(null),[p,g]=(0,a.useState)(!1),[y,v]=(0,a.useState)({name:"",frequency:"biweekly",startDate:jn(new Date,"yyyy-MM-dd"),baseAmount:0,variableAmount:!1,accountDistribution:[]}),[b,x]=(0,a.useState)(null),[w,k]=(0,a.useState)(null),[S,j]=(0,a.useState)([]),C=c(),D=(e,t,n)=>{v((r=>{const a=[...r.accountDistribution];if("accountId"===t)a[e]=u(u({},a[e]),{},{accountId:parseInt(n)});else if("amount"===t){const t="string"===typeof n?parseFloat(n)||0:n,r=m(t);a[e]=u(u({},a[e]),{},{amount:r,distributionValue:r})}return u(u({},r),{},{accountDistribution:a})}))},I=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e),A=e=>{const n=t.find((t=>t.id===e));return n?n.name:"Unknown Account"};return(0,N.jsx)("div",{className:"paycheck-manager",children:(0,N.jsxs)("div",{className:"mb-4",children:[(0,N.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"text-lg font-bold mb-2 text-theme-text",children:"Paychecks"}),(0,N.jsx)("p",{className:"text-sm text-theme-secondary",children:"Configure your paychecks to plan your budget. Add multiple paychecks if you have more than one income source."})]}),(0,N.jsx)("button",{onClick:()=>n&&n(),className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center gap-2",children:"\ud83d\udcb0 Start Payday Workflow"})]}),0===r.length?(0,N.jsx)("div",{className:"p-4 bg-theme-secondary bg-opacity-10 rounded text-center",children:"No paychecks configured yet. Add your first paycheck to get started."}):(0,N.jsx)("div",{className:"space-y-4",children:r.map((e=>{var n,r;return(0,N.jsxs)("div",{className:"p-4 border rounded-lg ".concat(e.isActive?"bg-theme-primary bg-opacity-5 border-theme-primary":"bg-gray-100 border-gray-300"),children:[(0,N.jsxs)("div",{className:"flex justify-between items-start",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h4",{className:"font-bold text-theme-text",children:e.name}),(0,N.jsx)("div",{className:"text-sm mt-1",children:(0,N.jsxs)("span",{className:"text-theme-secondary",children:[(null===(n=C.find((t=>t.value===e.frequency)))||void 0===n?void 0:n.label)||"Custom"," \u2022",e.variableAmount?" Variable Amount":" ".concat(I(e.baseAmount))]})}),(0,N.jsx)("div",{className:"mt-2 space-y-1",children:null===(r=e.accountDistribution)||void 0===r?void 0:r.map(((e,t)=>(0,N.jsxs)("div",{className:"text-xs flex justify-between",children:[(0,N.jsx)("span",{className:"text-theme-secondary",children:A(e.accountId)}),(0,N.jsx)("span",{className:"font-medium text-theme-text",children:I(e.amount)})]},t)))}),w===e.id&&(0,N.jsxs)("div",{className:"mt-3 p-2 bg-theme-primary bg-opacity-5 rounded text-xs",children:[(0,N.jsx)("div",{className:"font-medium mb-1 text-theme-text",children:"Next Paycheck Dates:"}),(0,N.jsx)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:S.map(((e,t)=>(0,N.jsx)("div",{className:"text-theme-secondary",children:jn(e,"MMM d, yyyy")},t)))})]})]}),(0,N.jsxs)("div",{className:"flex space-x-2",children:[(0,N.jsx)("button",{onClick:()=>{return t=e.id,void(w===t?(k(null),j([])):(k(t),j(d(t,6))));var t},className:"p-1 text-xs rounded hover:bg-theme-primary hover:bg-opacity-10",title:"Show next paycheck dates",children:"\ud83d\udcc5"}),(0,N.jsx)("button",{onClick:()=>s(e.id),className:"p-1 text-xs rounded hover:bg-theme-primary hover:bg-opacity-10",title:e.isActive?"Disable paycheck":"Enable paycheck",children:e.isActive?"\u2705":"\u274c"}),(0,N.jsx)("button",{onClick:()=>(e=>{f(e.id),g(!1);let n=[...e.accountDistribution||[]];0===n.length&&t.length>0&&(n=[{accountId:t[0].id,amount:e.baseAmount,distributionType:"fixed",distributionValue:e.baseAmount}]),v({name:e.name||"",frequency:e.frequency||"biweekly",startDate:e.startDate||jn(new Date,"yyyy-MM-dd"),baseAmount:e.baseAmount||0,variableAmount:e.variableAmount||!1,accountDistribution:n})})(e),className:"p-1 text-xs rounded hover:bg-theme-primary hover:bg-opacity-10",title:"Edit paycheck",children:"\u270f\ufe0f"}),(0,N.jsx)("button",{onClick:()=>x(e.id),className:"p-1 text-xs rounded hover:bg-red-500 hover:bg-opacity-10",title:"Delete paycheck",children:"\ud83d\uddd1\ufe0f"})]})]}),b===e.id&&(0,N.jsxs)("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded",children:[(0,N.jsx)("p",{className:"text-sm text-red-600 mb-2",children:"Are you sure you want to delete this paycheck? This action cannot be undone."}),(0,N.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,N.jsx)("button",{onClick:()=>x(null),className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),(0,N.jsx)("button",{onClick:()=>{return t=e.id,void(i(t)?x(null):alert("Cannot delete the only paycheck. You must have at least one paycheck configured."));var t},className:"px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600",children:"Delete"})]})]})]},e.id)}))}),(0,N.jsx)("div",{className:"mt-4",children:(0,N.jsx)("button",{onClick:()=>{f(null),g(!0);let e=[];t.length>0&&(e=[{accountId:t[0].id,amount:0,distributionType:"fixed",distributionValue:0}]),v({name:"",frequency:"biweekly",startDate:jn(new Date,"yyyy-MM-dd"),baseAmount:0,variableAmount:!1,accountDistribution:e})},className:"px-4 py-2 bg-theme-primary text-white rounded hover:bg-theme-primary-dark transition-colors",children:"+ Add New Paycheck"})}),(p||h)&&(0,N.jsxs)("div",{className:"mt-6 p-6 bg-theme-secondary bg-opacity-10 rounded-lg border border-theme-border",children:[(0,N.jsx)("h4",{className:"text-lg font-semibold mb-4 text-theme-text",children:h?"Edit Paycheck":"Add New Paycheck"}),(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium mb-1 text-theme-text",children:"Name"}),(0,N.jsx)("input",{type:"text",value:y.name,onChange:e=>v((t=>u(u({},t),{},{name:e.target.value}))),placeholder:"e.g., Main Job, Side Gig",className:"w-full p-2 border border-theme-border rounded bg-theme-primary text-theme-text focus:outline-none focus:ring-2 focus:ring-theme-primary"})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium mb-1 text-theme-text",children:"Frequency"}),(0,N.jsx)("select",{value:y.frequency,onChange:e=>v((t=>u(u({},t),{},{frequency:e.target.value}))),className:"w-full p-2 border border-theme-border rounded bg-theme-primary text-theme-text focus:outline-none focus:ring-2 focus:ring-theme-primary",children:C.map((e=>(0,N.jsx)("option",{value:e.value,children:e.label},e.value)))})]})]}),(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium mb-1 text-theme-text",children:"Start Date"}),(0,N.jsx)("input",{type:"date",value:y.startDate,onChange:e=>v((t=>u(u({},t),{},{startDate:e.target.value}))),className:"w-full p-2 border border-theme-border rounded bg-theme-primary text-theme-text focus:outline-none focus:ring-2 focus:ring-theme-primary"})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium mb-1 text-theme-text",children:"Base Amount"}),(0,N.jsx)(pt,{value:y.baseAmount,onChange:e=>{const t="string"===typeof e?parseFloat(e)||0:e,n=m(t);v((e=>{const t=e.accountDistribution.reduce(((e,t)=>e+(t.amount||0)),0);let r;if(t>0)r=e.accountDistribution.map((e=>{const r=e.amount/t*n;return u(u({},e),{},{amount:r,distributionValue:r})}));else{const t=n/Math.max(1,e.accountDistribution.length);r=e.accountDistribution.map((e=>u(u({},e),{},{amount:t,distributionValue:t})))}return u(u({},e),{},{baseAmount:n,accountDistribution:r})}))},placeholder:"0.00"})]})]}),(0,N.jsxs)("div",{className:"flex items-center gap-3",children:[(0,N.jsx)("input",{type:"checkbox",id:"variableAmount",checked:y.variableAmount,onChange:e=>v((t=>u(u({},t),{},{variableAmount:e.target.checked}))),className:"rounded border-theme-border"}),(0,N.jsx)("label",{htmlFor:"variableAmount",className:"text-sm text-theme-text",children:"This paycheck has a variable amount (will track history for averaging)"})]}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-theme-text",children:"Account Distribution"}),y.accountDistribution.length<t.length&&(0,N.jsx)("button",{onClick:()=>{if(0===t.length)return;const e=y.accountDistribution.map((e=>e.accountId)),n=t.find((t=>!e.includes(t.id)));n&&v((e=>{const t=e.baseAmount/(e.accountDistribution.length+1),r=e.accountDistribution.map((e=>u(u({},e),{},{amount:t,distributionValue:t})));return r.push({accountId:n.id,amount:t,distributionType:"fixed",distributionValue:t}),u(u({},e),{},{accountDistribution:r})}))},className:"text-sm text-theme-primary hover:text-theme-primary-dark",children:"+ Add Account"})]}),(0,N.jsx)("div",{className:"space-y-2",children:y.accountDistribution.map(((e,n)=>(0,N.jsxs)("div",{className:"flex items-center gap-3",children:[(0,N.jsx)("div",{className:"flex-1",children:(0,N.jsx)("select",{value:e.accountId,onChange:e=>D(n,"accountId",e.target.value),className:"w-full p-2 border border-theme-border rounded bg-theme-primary text-theme-text focus:outline-none focus:ring-2 focus:ring-theme-primary",children:t.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))})}),(0,N.jsx)("div",{className:"flex-1",children:(0,N.jsx)(pt,{value:e.amount,onChange:e=>D(n,"amount",e),placeholder:"0.00"})}),y.accountDistribution.length>1&&(0,N.jsx)("button",{onClick:()=>(e=>{v((t=>{if(t.accountDistribution.length<=1)return t;const n=[...t.accountDistribution],r=parseFloat(n[e].amount)||0;n.splice(e,1);const a=r/n.length;return n.forEach((e=>{e.amount=(parseFloat(e.amount)||0)+a,e.distributionValue=e.amount})),u(u({},t),{},{accountDistribution:n})}))})(n),className:"text-red-500 hover:text-red-700 p-1",title:"Remove account",children:"\u2715"})]},n)))})]}),(0,N.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,N.jsx)("button",{onClick:()=>{f(null),g(!1),v({name:"",frequency:"biweekly",startDate:jn(new Date,"yyyy-MM-dd"),baseAmount:0,variableAmount:!1,accountDistribution:[]})},className:"px-4 py-2 border border-theme-border text-theme-text rounded hover:bg-theme-active hover:bg-opacity-50 transition-colors",children:"Cancel"}),(0,N.jsx)("button",{onClick:()=>{const e=m(y.baseAmount);if(!y.name||e<=0)return void alert("Please provide a name and valid amount for the paycheck.");if(y.accountDistribution.some((e=>{const t=m(e.amount);return!e.accountId||t<=0})))return void alert("Please ensure all accounts have valid distribution amounts.");const t=u(u({},y),{},{baseAmount:e,accountDistribution:y.accountDistribution.map((e=>u(u({},e),{},{amount:m(e.amount),distributionValue:m(e.distributionValue||e.amount)})))});h?(l(h,t),f(null)):p&&(o(t),g(!1)),v({name:"",frequency:"biweekly",startDate:jn(new Date,"yyyy-MM-dd"),baseAmount:0,variableAmount:!1,accountDistribution:[]})},className:"px-6 py-2 bg-theme-primary text-white rounded hover:bg-theme-primary-dark transition-colors",children:h?"Update Paycheck":"Add Paycheck"})]})]})]})]})})},ma=e=>{let{showConfig:t,setShowConfig:n,takeHomePay:r,setTakeHomePay:o,whatIfMode:l,whatIfPay:i,setWhatIfPay:s,roundingOption:c,setRoundingOption:u,bufferPercentage:d,setBufferPercentage:m,paySchedule:h,setPaySchedule:f,accounts:p,setShowAddAccount:g,onExport:y,payFrequency:v,setPayFrequency:x,payFrequencyOptions:k,paychecks:S,addPaycheck:j,updatePaycheck:C,deletePaycheck:D,togglePaycheckActive:I,recordPaycheckReceived:A,onStartPaydayWorkflow:P}=e;const[E,T]=(0,a.useState)("paychecks"),M=e=>{T(E===e?null:e)};return(0,N.jsxs)("div",{className:"space-y-6",children:[(0,N.jsxs)("div",{className:"border border-theme-primary rounded-lg overflow-hidden",children:[(0,N.jsxs)("div",{className:"bg-theme-primary bg-opacity-5 p-4 flex justify-between items-center cursor-pointer",onClick:()=>M("paychecks"),children:[(0,N.jsxs)("h3",{className:"text-lg font-semibold text-theme-primary flex items-center",children:[(0,N.jsx)(w,{className:"w-5 h-5 mr-2"}),"Paychecks"]}),"paychecks"===E?(0,N.jsx)(er,{className:"w-5 h-5 text-theme-primary"}):(0,N.jsx)(tr,{className:"w-5 h-5 text-theme-primary"})]}),"paychecks"===E&&(0,N.jsx)("div",{className:"p-4",children:(0,N.jsx)(da,{accounts:p,onStartPaydayWorkflow:P})})]}),(0,N.jsxs)("div",{className:"border border-theme-primary rounded-lg overflow-hidden",children:[(0,N.jsxs)("div",{className:"bg-theme-primary bg-opacity-5 p-4 flex justify-between items-center cursor-pointer",onClick:()=>M("budget"),children:[(0,N.jsxs)("h3",{className:"text-lg font-semibold text-theme-primary flex items-center",children:[(0,N.jsx)(b,{className:"w-5 h-5 mr-2"}),"Budget Settings"]}),"budget"===E?(0,N.jsx)(er,{className:"w-5 h-5 text-theme-primary"}):(0,N.jsx)(tr,{className:"w-5 h-5 text-theme-primary"})]}),"budget"===E&&(0,N.jsxs)("div",{className:"p-4 space-y-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium mb-2 text-theme-text",children:"Rounding Option"}),(0,N.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"w-full p-2 border border-theme-border rounded bg-theme-primary text-theme-text focus:outline-none focus:ring-2 focus:ring-theme-primary",children:[(0,N.jsx)("option",{value:"none",children:"No Rounding"}),(0,N.jsx)("option",{value:"up",children:"Round Up to Nearest Dollar"}),(0,N.jsx)("option",{value:"down",children:"Round Down to Nearest Dollar"}),(0,N.jsx)("option",{value:"nearest",children:"Round to Nearest Dollar"})]})]}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("label",{className:"block text-sm font-medium mb-2 text-theme-text",children:["Buffer Percentage (",d,"%)"]}),(0,N.jsx)("input",{type:"range",min:"0",max:"20",step:"0.5",value:d,onChange:e=>m(parseFloat(e.target.value)),className:"w-full h-2 bg-theme-secondary rounded-lg appearance-none cursor-pointer"}),(0,N.jsxs)("div",{className:"flex justify-between text-xs text-theme-secondary mt-1",children:[(0,N.jsx)("span",{children:"0%"}),(0,N.jsx)("span",{children:"20%"})]})]})]})]}),(0,N.jsxs)("div",{className:"border border-theme-primary rounded-lg overflow-hidden",children:[(0,N.jsxs)("div",{className:"bg-theme-primary bg-opacity-5 p-4 flex justify-between items-center cursor-pointer",onClick:()=>M("export"),children:[(0,N.jsxs)("h3",{className:"text-lg font-semibold text-theme-primary flex items-center",children:[(0,N.jsx)(Jr,{className:"w-5 h-5 mr-2"}),"Export & Import"]}),"export"===E?(0,N.jsx)(er,{className:"w-5 h-5 text-theme-primary"}):(0,N.jsx)(tr,{className:"w-5 h-5 text-theme-primary"})]}),"export"===E&&(0,N.jsxs)("div",{className:"p-4 space-y-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h4",{className:"font-medium text-theme-text mb-2",children:"Export to YNAB"}),(0,N.jsx)("p",{className:"text-sm text-theme-secondary mb-3",children:"Export your budget categories to You Need A Budget (YNAB) format."}),(0,N.jsx)("button",{onClick:y,className:"px-4 py-2 bg-theme-primary text-white rounded hover:bg-theme-primary-dark transition-colors",children:"Export to YNAB"})]}),(0,N.jsxs)("div",{className:"pt-4 border-t border-theme-border",children:[(0,N.jsx)("h4",{className:"font-medium text-theme-text mb-2",children:"Import Data"}),(0,N.jsx)("p",{className:"text-sm text-theme-secondary mb-3",children:"Import budget data from CSV or other formats."}),(0,N.jsx)("button",{disabled:!0,className:"px-4 py-2 bg-gray-300 text-gray-500 rounded cursor-not-allowed",children:"Import Data (Coming Soon)"})]})]})]}),t&&(0,N.jsxs)("div",{className:"hidden",children:[(0,N.jsx)("input",{type:"checkbox",checked:h.splitPaycheck||!1,onChange:()=>{}}),(0,N.jsx)("input",{type:"date",value:h.startDate||"",onChange:()=>{}})]})]})},ha=e=>{let{title:t,message:n,onConfirm:r,onCancel:a}=e;return(0,N.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,N.jsxs)("div",{className:"bg-theme-primary p-6 rounded-lg w-96 border border-theme-primary",children:[(0,N.jsx)("h3",{className:"text-lg font-semibold mb-4 text-theme-primary",children:t}),(0,N.jsx)("p",{className:"mb-6 text-theme-secondary",children:n}),(0,N.jsxs)("div",{className:"flex space-x-2",children:[(0,N.jsx)("button",{onClick:r,className:"flex-1 bg-red-600 text-theme-primary py-2 px-4 rounded hover:bg-red-700 transition-colors",children:"Delete"}),(0,N.jsx)("button",{onClick:a,className:"flex-1 py-2 px-4 rounded border border-theme-primary hover:bg-theme-hover text-theme-primary transition-colors",children:"Cancel"})]})]})})},fa=v("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),pa=e=>{let{currentTheme:t,setCurrentTheme:n}=e;const r=[{id:"light",name:"Light",emoji:"\u2600\ufe0f",category:"Light"},{id:"spring",name:"Spring",emoji:"\ud83c\udf38",category:"Light"},{id:"summer",name:"Summer",emoji:"\ud83c\udf1e",category:"Light"},{id:"autumn",name:"Autumn",emoji:"\ud83c\udf42",category:"Light"},{id:"winter",name:"Winter",emoji:"\u2744\ufe0f",category:"Light"},{id:"dark",name:"Dark",emoji:"\ud83c\udf19",category:"Dark"},{id:"dark-spring",name:"Dark Spring",emoji:"\ud83c\udf3a",category:"Dark"},{id:"dark-summer",name:"Dark Summer",emoji:"\ud83c\udf05",category:"Dark"},{id:"dark-autumn",name:"Dark Autumn",emoji:"\ud83c\udf41",category:"Dark"},{id:"dark-winter",name:"Dark Winter",emoji:"\ud83c\udf28\ufe0f",category:"Dark"}];return(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,N.jsx)(fa,{className:"w-4 h-4 text-theme-secondary"}),(0,N.jsxs)("select",{value:t,onChange:e=>n(e.target.value),className:"p-2 rounded border bg-theme-primary border-theme-primary text-theme-primary text-sm hover:bg-theme-hover transition-colors",title:"Choose theme",children:[(0,N.jsx)("optgroup",{label:"\u2600\ufe0f Light Themes",children:r.filter((e=>"Light"===e.category)).map((e=>(0,N.jsxs)("option",{value:e.id,children:[e.emoji," ",e.name]},e.id)))}),(0,N.jsx)("optgroup",{label:"\ud83c\udf19 Dark Themes",children:r.filter((e=>"Dark"===e.category)).map((e=>(0,N.jsxs)("option",{value:e.id,children:[e.emoji," ",e.name]},e.id)))})]})]})},ga=v("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ya=v("split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]),va=v("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ba=v("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),xa=v("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),wa=e=>{var t,n;let{transaction:r,setTransaction:o,accounts:l,categories:i,onSave:s,onSaveAndAddAnother:c,onCancel:d,isNew:m,addSplit:h,removeSplit:f,updateSplit:p,columnWidths:g,viewAccount:y}=e;const v=(e,t,n)=>{if(console.log("handleSplitUpdate called:",{splitId:e,field:t,value:n}),console.log("Current transaction splits before update:",JSON.stringify(r.splits,null,2)),p)console.log("Using parent updateSplit function"),p(e,t,n);else{console.log("Using fallback updateSplit");const a=(r.splits||[]).map((r=>{if(r.id===e){const a=u(u({},r),{},{[t]:n});return console.log("Updating split ".concat(e,":"),r,"\u2192",a),a}return console.log("Keeping split ".concat(r.id," unchanged:"),r),r}));console.log("Updated splits array:",JSON.stringify(a,null,2)),o((e=>u(u({},e),{},{splits:a})))}},b=(e,t)=>{o((n=>u(u({},n),{},{[e]:t})))},x=()=>{if(r.isTransfer)o((e=>u(u({},e),{},{isTransfer:!1,transferAccountId:"",payee:""})));else{const e=l.find((e=>e.id===parseInt(r.accountId))),t=e?"Transfer from ".concat(e.name):"Transfer";o((e=>u(u({},e),{},{isTransfer:!0,payee:t,categoryId:""})))}},w=()=>{if(r.isSplit)o((e=>u(u({},e),{},{isSplit:!1,splits:[],categoryId:""})));else{const e={id:Date.now(),amount:"",categoryId:"",memo:""};o((t=>u(u({},t),{},{isSplit:!0,isTransfer:!1,transferAccountId:"",categoryId:"",splits:[e]})))}},k=Math.abs(parseFloat(r.outflow)||parseFloat(r.inflow)||0),S=(r.splits||[]).reduce(((e,t)=>{const n=(t.amount,parseFloat(t.amount)||0);return e+Math.abs(n)}),0),j=Math.abs(k-S),C=parseFloat(r.outflow)||0,D=parseFloat(r.inflow)||0;return(0,a.useEffect)((()=>{const e=e=>{console.log("KeyDown event detected:",e.key,"Shift:",e.shiftKey,"Target:",e.target.tagName);("INPUT"===e.target.tagName||"SELECT"===e.target.tagName)&&(console.log("Event is in transaction form field"),"Escape"===e.key?(console.log("Escape pressed, calling onCancel"),e.preventDefault(),e.stopPropagation(),d()):"Enter"===e.key&&(console.log("Enter pressed, shift:",e.shiftKey,"isNew:",m),e.preventDefault(),e.stopPropagation(),e.shiftKey&&m&&c?(console.log("Calling onSaveAndAddAnother"),c()):(console.log("Calling onSave"),s())))};return document.addEventListener("keydown",e,!0),()=>{document.removeEventListener("keydown",e,!0)}}),[s,c,d,m]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("tr",{className:"bg-theme-secondary",children:[(0,N.jsx)("td",{className:"px-1 py-2 text-center",style:{width:g.select}}),(0,N.jsx)("td",{className:"px-2 py-2",style:{width:g.date},children:(0,N.jsx)("input",{type:"date",value:r.date||(()=>{const e=new Date,t=6e4*e.getTimezoneOffset(),n=new Date(e.getTime()-t),r=n.toISOString().split("T")[0];return console.log("TransactionEditRow - getTodaysDate():",{now:e,timezoneOffset:t,localDate:n,result:r,expectedToday:"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))}),r})(),onChange:e=>b("date",e.target.value),className:"w-full px-2 py-1 border rounded bg-theme-primary border-theme-secondary text-theme-primary text-sm"})}),(0,N.jsx)("td",{className:"px-2 py-2",style:{width:g.payee},children:r.isTransfer?(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsx)(Qn,{className:"w-3 h-3 text-theme-secondary"}),(0,N.jsx)("span",{className:"text-sm text-theme-secondary",children:"Transfer"})]}):(0,N.jsx)("input",{type:"text",value:r.payee,onChange:e=>b("payee",e.target.value),placeholder:"Payee",className:"w-full px-2 py-1 border rounded bg-theme-primary border-theme-secondary text-theme-primary text-sm"})}),(0,N.jsx)("td",{className:"px-2 py-2",style:{width:g.category,minWidth:"180px"},children:(0,N.jsx)("div",{className:"w-full h-full relative",children:r.isTransfer?(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsxs)("select",{value:r.transferAccountId,onChange:e=>b("transferAccountId",e.target.value),className:"flex-1 px-2 py-1 border rounded bg-theme-primary border-theme-secondary text-theme-primary text-sm",children:[(0,N.jsx)("option",{value:"",children:"Select account"}),l.filter((e=>e.id!==parseInt(r.accountId))).map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,N.jsxs)("button",{type:"button",onClick:x,className:"flex items-center gap-1 text-xs text-theme-blue hover:text-theme-blue underline whitespace-nowrap",title:"Remove transfer",children:[(0,N.jsx)(ga,{className:"w-3 h-3"}),"Remove"]})]}):r.isSplit?(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsxs)("div",{className:"flex items-center gap-1 text-sm text-theme-secondary",children:[(0,N.jsx)(ya,{className:"w-3 h-3"}),(0,N.jsx)("span",{children:"Split Transaction"})]}),(0,N.jsxs)("button",{type:"button",onClick:w,className:"flex items-center gap-1 text-xs text-theme-red hover:text-theme-red underline whitespace-nowrap",title:"Remove split transaction",children:[(0,N.jsx)(ga,{className:"w-3 h-3"}),"Remove"]})]}):(0,N.jsx)("div",{className:"flex items-center gap-2",children:(0,N.jsxs)("select",{value:r.categoryId,onChange:e=>{const t=e.target.value;"SPLIT_TRANSACTION"===t?w():"TRANSFER"===t?x():b("categoryId",t||"")},className:"flex-1 px-2 py-1 border rounded bg-theme-primary border-theme-secondary text-theme-primary text-sm",children:[(0,N.jsx)("option",{value:"",children:"Select category"}),i.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id))),(0,N.jsx)("option",{value:"",disabled:!0,children:"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"}),(0,N.jsx)("option",{value:"SPLIT_TRANSACTION",children:"\ud83d\udd00 Split Transaction"}),(0,N.jsx)("option",{value:"TRANSFER",children:"\u27a1\ufe0f Transfer"})]})})})}),(0,N.jsx)("td",{className:"px-2 py-2",style:{width:g.memo,minWidth:"150px"},children:(0,N.jsx)("input",{type:"text",value:r.memo,onChange:e=>b("memo",e.target.value),placeholder:"Memo",className:"w-full px-2 py-1 border rounded bg-theme-primary border-theme-secondary text-theme-primary text-sm"})}),(0,N.jsxs)("td",{className:"px-2 py-2",style:{width:g.outflow},children:[(0,N.jsx)(pt,{name:"outflow",value:r.outflow||0,onChange:e=>{const t=e.target.value;b("outflow",t),t>0&&b("inflow",0)},hideLabel:!0,placeholder:"0.00",className:"w-full px-2 py-1 border rounded bg-theme-primary border-theme-secondary text-theme-primary text-sm text-right",darkMode:!1}),r.isTransfer&&C>0&&(0,N.jsxs)("div",{className:"text-xs text-theme-tertiary mt-1",children:["To: ",(null===(t=l.find((e=>e.id===parseInt(r.transferAccountId))))||void 0===t?void 0:t.name)||"Select account"]})]}),(0,N.jsxs)("td",{className:"px-2 py-2",style:{width:g.inflow},children:[(0,N.jsx)(pt,{name:"inflow",value:r.inflow||0,onChange:e=>{const t=e.target.value;b("inflow",t),t>0&&b("outflow",0)},hideLabel:!0,placeholder:"0.00",className:"w-full px-2 py-1 border rounded bg-theme-primary border-theme-secondary text-theme-primary text-sm text-right",darkMode:!1}),r.isTransfer&&D>0&&(0,N.jsxs)("div",{className:"text-xs text-theme-tertiary mt-1",children:["From: ",(null===(n=l.find((e=>e.id===parseInt(r.transferAccountId))))||void 0===n?void 0:n.name)||"Select account"]})]}),(0,N.jsx)("td",{className:"px-1 py-2 text-center",style:{width:g.cleared},children:(0,N.jsx)("input",{type:"checkbox",checked:r.isCleared,onChange:e=>b("isCleared",e.target.checked),className:"rounded border-theme-secondary"})})]}),r.isSplit&&(r.splits||[]).map(((e,t)=>(0,N.jsxs)("tr",{className:"bg-theme-tertiary",children:[(0,N.jsx)("td",{className:"px-1 py-2"}),(0,N.jsx)("td",{className:"px-2 py-2"}),(0,N.jsx)("td",{className:"px-2 py-2",children:(0,N.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,N.jsxs)("span",{className:"text-sm text-theme-secondary",children:["Split ",t+1]}),(r.splits||[]).length>1&&(0,N.jsxs)("button",{type:"button",onClick:()=>f?f(e.id):(e=>{if(f)f(e);else{const t=(r.splits||[]).filter((t=>t.id!==e));o((e=>u(u({},e),{},{splits:t,isSplit:t.length>0})))}})(e.id),className:"flex items-center gap-1 text-xs text-theme-red hover:text-theme-red underline",title:"Remove this split",children:[(0,N.jsx)(ga,{className:"w-3 h-3"}),"Remove"]}),t===(r.splits||[]).length-1&&(0,N.jsxs)("button",{type:"button",onClick:()=>h?h():(()=>{if(h)h();else{const e={id:Date.now(),amount:"",categoryId:"",memo:""},t=r.splits||[];o((n=>u(u({},n),{},{splits:[...t,e],isSplit:!0})))}})(),className:"flex items-center gap-1 text-xs text-theme-blue hover:text-theme-blue underline",title:"Add another split",children:[(0,N.jsx)(Jn,{className:"w-3 h-3"}),"Add Split"]})]})}),(0,N.jsx)("td",{className:"px-2 py-2",children:(0,N.jsxs)("select",{value:e.categoryId||"",onChange:t=>v(e.id,"categoryId",t.target.value),className:"w-full px-2 py-1 border rounded bg-theme-primary border-theme-secondary text-theme-primary text-sm",children:[(0,N.jsx)("option",{value:"",children:"Select category"}),i.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]})}),(0,N.jsx)("td",{className:"px-2 py-2",children:(0,N.jsx)("input",{type:"text",value:e.memo||"",onChange:t=>v(e.id,"memo",t.target.value),placeholder:"Memo",className:"w-full px-2 py-1 border rounded bg-theme-primary border-theme-secondary text-theme-primary text-sm"})}),(0,N.jsx)("td",{className:"px-2 py-2",children:(0,N.jsx)(pt,{name:"split-amount-".concat(e.id),value:"string"===typeof e.amount?parseFloat(e.amount)||0:e.amount||0,onChange:t=>{const n=t.target.value;console.log("Updating split ".concat(e.id," amount to:"),n,"Split object before update:",e),v(e.id,"amount",n)},hideLabel:!0,placeholder:"0.00",className:"w-full px-2 py-1 border rounded bg-theme-primary border-theme-secondary text-theme-primary text-sm text-right",darkMode:!1})}),(0,N.jsx)("td",{className:"px-2 py-2"}),(0,N.jsx)("td",{className:"px-1 py-2"})]},e.id))),"all"===y&&(0,N.jsxs)("tr",{className:"bg-theme-secondary",children:[(0,N.jsx)("td",{className:"px-1 py-2"}),(0,N.jsx)("td",{className:"px-2 py-2"}),(0,N.jsx)("td",{className:"px-2 py-2",children:(0,N.jsx)("div",{className:"flex items-center gap-2 ml-4",children:(0,N.jsx)("span",{className:"text-sm text-theme-secondary",children:"Account:"})})}),(0,N.jsx)("td",{className:"px-2 py-2",colSpan:"2",children:(0,N.jsxs)("select",{value:r.accountId,onChange:e=>b("accountId",e.target.value),className:"w-full px-2 py-1 border rounded bg-theme-primary border-theme-secondary text-theme-primary text-sm",children:[(0,N.jsx)("option",{value:"",children:"Select account"}),l.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]})}),(0,N.jsx)("td",{className:"px-2 py-2"}),(0,N.jsx)("td",{className:"px-2 py-2"}),(0,N.jsx)("td",{className:"px-1 py-2"})]}),r.isSplit&&(r.splits||[]).length>0&&Math.abs(j)>.01&&(0,N.jsxs)("tr",{className:"bg-yellow-50 border border-yellow-200",children:[(0,N.jsx)("td",{className:"px-1 py-2 text-center",children:(0,N.jsx)("div",{className:"text-yellow-600 text-xs",children:"\u26a0\ufe0f"})}),(0,N.jsx)("td",{className:"px-2 py-2"}),(0,N.jsx)("td",{className:"px-2 py-2",children:(0,N.jsx)("div",{className:"flex items-center gap-2 ml-4",children:(0,N.jsxs)("span",{className:"text-sm text-yellow-700 font-medium",children:["Difference: $",j.toFixed(2)]})})}),(0,N.jsx)("td",{className:"px-2 py-2",children:(0,N.jsx)("button",{type:"button",onClick:()=>{const e=r.splits||[],t=e.length,n=j/t;console.log("Distributing $".concat(j.toFixed(2)," evenly across ").concat(t," splits (").concat(n.toFixed(2)," each)"));const a=e.map(((e,t)=>{const r=parseFloat(e.amount)||0,a=r+n;return console.log("Split ".concat(t+1,": $").concat(r.toFixed(2)," + $").concat(n.toFixed(2)," = $").concat(a.toFixed(2))),u(u({},e),{},{amount:a})}));o((e=>u(u({},e),{},{splits:a})))},className:"w-full px-3 py-1 text-sm bg-yellow-100 hover:bg-yellow-200 border border-yellow-300 rounded text-yellow-800 font-medium transition-colors",children:"\ud83d\udcca Distribute Evenly"})}),(0,N.jsx)("td",{className:"px-2 py-2",children:(0,N.jsxs)("div",{className:"text-xs text-yellow-700",children:["+$",(j/(r.splits||[]).length).toFixed(2)," per split"]})}),(0,N.jsx)("td",{className:"px-2 py-2 text-right",children:(0,N.jsxs)("span",{className:"text-sm font-medium text-yellow-700",children:["$",j.toFixed(2)]})}),(0,N.jsx)("td",{className:"px-2 py-2"}),(0,N.jsx)("td",{className:"px-1 py-2"})]}),(0,N.jsxs)("tr",{className:"bg-theme-tertiary",children:[(0,N.jsx)("td",{className:"px-1 py-2 text-center",children:r.isSplit&&(0,N.jsx)("div",{className:"".concat(Math.abs(j)<.01?"text-theme-green":"text-theme-red"," text-xs"),children:Math.abs(j)<.01?"\u2713":"!"})}),(0,N.jsx)("td",{className:"px-2 py-2"}),(0,N.jsx)("td",{className:"px-2 py-2"}),(0,N.jsx)("td",{className:"px-2 py-2"}),(0,N.jsx)("td",{className:"px-2 py-2"}),(0,N.jsx)("td",{className:"px-2 py-2 text-right",children:(0,N.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),d()},className:"px-3 py-1 text-xs btn-secondary rounded transition-colors",children:"Cancel"})}),(0,N.jsx)("td",{className:"px-2 py-2 text-right",children:(0,N.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[r.isSplit?(0,N.jsxs)("div",{className:"".concat(Math.abs(j)<.01?"text-theme-green":"text-theme-red"),children:[(0,N.jsxs)("div",{className:"text-xs font-medium",children:["$",S.toFixed(2)]}),(0,N.jsxs)("div",{className:"text-xs opacity-70",children:["of $",k.toFixed(2)]}),(0,N.jsx)("div",{className:"text-xs",children:Math.abs(j)<.01?"Balanced":"Diff: $".concat(j.toFixed(2))})]}):(0,N.jsxs)("div",{className:"text-xs font-medium text-theme-primary",children:["$",k.toFixed(2)]}),(0,N.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),s()},className:"px-3 py-1 text-xs btn-primary rounded transition-colors",children:m?"Add":"Save"}),m&&c&&(0,N.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),c()},className:"px-2 py-1 text-xs btn-success rounded transition-colors ml-1",title:"Save and add another",children:"+"})]})}),(0,N.jsx)("td",{className:"px-1 py-2"})]})]})},ka=e=>{let{transaction:t,index:n,isSelected:r,onSelect:o,onEdit:l,onDelete:i,getAccountName:s,getCategoryName:c,formatTransferPayee:u,renderClearedStatus:d,expandedTransactions:m,setExpandedTransactions:h,columnWidths:f}=e;const[p,g]=(0,a.useState)(!1),y=t.isSplit&&t.splits&&t.splits.length>0,v=m.has(t.id),b=Math.abs(t.amount||0),x=(t.splits||[]).reduce(((e,t)=>{const n="number"===typeof t.amount?t.amount:parseFloat(t.amount)||0;return e+Math.abs(n)}),0),w=Math.abs(b-x),k=()=>{if(y){const e=new Set(m);v?e.delete(t.id):e.add(t.id),h(e)}};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("tr",{className:"transition-colors hover:table-row-hover ".concat(n%2===0?"table-row-even":"table-row-odd"," ").concat(r?"bg-theme-active":""," ").concat(y?"cursor-pointer":""),onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onClick:y?k:void 0,children:[(0,N.jsx)("td",{className:"px-1 py-2 text-center",onClick:e=>e.stopPropagation(),children:(0,N.jsx)("input",{type:"checkbox",checked:r,onChange:()=>o(t.id),className:"rounded border-theme-secondary"})}),(0,N.jsx)("td",{className:"px-2 py-2 text-theme-primary",children:(0,N.jsxs)("div",{className:"flex items-center",children:[y&&(0,N.jsx)("button",{className:"mr-1 text-theme-secondary hover:text-theme-primary transition-colors",onClick:e=>{e.stopPropagation(),k()},children:v?(0,N.jsx)(er,{className:"w-3 h-3"}):(0,N.jsx)(ba,{className:"w-3 h-3"})}),(0,N.jsx)("span",{className:"text-sm",children:new Date(t.date).toLocaleDateString()})]})}),(0,N.jsx)("td",{className:"px-2 py-2 relative group",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("div",{className:"min-w-0 flex-1",children:(0,N.jsxs)("div",{className:"text-sm font-medium text-theme-primary truncate",children:[t.transferAccountId?u(t):t.payee||"Unknown Payee",y&&(0,N.jsxs)("span",{className:"ml-1 text-xs bg-blue-100 text-blue-700 px-1 py-0.5 rounded",children:["Split (",t.splits.length,")"]})]})}),(0,N.jsxs)("div",{className:"flex items-center gap-1 transition-all duration-200 ml-2 ".concat(p?"opacity-100":"opacity-0"),onClick:e=>e.stopPropagation(),children:[(0,N.jsx)("button",{onClick:()=>l(t),className:"p-1 rounded hover:bg-theme-hover transition-colors text-theme-secondary",title:"Edit transaction",children:(0,N.jsx)($r,{className:"w-3 h-3"})}),(0,N.jsx)("button",{onClick:()=>i({id:t.id,payee:t.payee||"Unnamed Transaction"}),className:"p-1 rounded hover:bg-theme-hover text-theme-red transition-colors",title:"Delete transaction",children:(0,N.jsx)(or,{className:"w-3 h-3"})})]})]})}),(0,N.jsx)("td",{className:"px-2 py-2 text-theme-secondary",children:(0,N.jsx)("span",{className:"text-sm truncate",children:t.transferAccountId?"Transfer":y?(0,N.jsx)("span",{className:"italic text-theme-tertiary",children:"Multiple"}):c(t.categoryId)||"Uncategorized"})}),(0,N.jsx)("td",{className:"px-2 py-2 text-theme-secondary text-xs",children:t.memo&&(0,N.jsx)("div",{className:"truncate",title:t.memo,children:t.memo})}),(0,N.jsx)("td",{className:"px-2 py-2 text-right",children:t.amount<0&&(0,N.jsxs)("span",{className:"font-semibold text-theme-red text-sm",children:["$",Math.abs(t.amount).toFixed(2)]})}),(0,N.jsx)("td",{className:"px-2 py-2 text-right",children:t.amount>0&&(0,N.jsxs)("span",{className:"font-semibold text-theme-green text-sm",children:["$",t.amount.toFixed(2)]})}),(0,N.jsx)("td",{className:"px-1 py-2 text-center",onClick:e=>e.stopPropagation(),children:d(t)})]}),y&&v&&(0,N.jsxs)(N.Fragment,{children:[t.splits.map(((e,t)=>(0,N.jsxs)("tr",{className:"bg-theme-tertiary border-t border-theme-secondary/20",children:[(0,N.jsx)("td",{className:"px-1 py-2 text-center",style:{width:f.select}}),(0,N.jsx)("td",{className:"px-2 py-2",style:{width:f.date},children:(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)("div",{className:"w-6"})," ",(0,N.jsxs)("span",{className:"text-xs text-theme-tertiary",children:["Split ",t+1]})]})}),(0,N.jsx)("td",{className:"px-2 py-2",style:{width:f.payee},children:(0,N.jsx)("div",{className:"text-sm text-theme-primary",children:e.memo||"Split ".concat(t+1)})}),(0,N.jsx)("td",{className:"px-2 py-2",style:{width:f.category},children:(0,N.jsx)("span",{className:"text-sm text-theme-secondary",children:c(e.categoryId)||"Uncategorized"})}),(0,N.jsx)("td",{className:"px-2 py-2",style:{width:f.memo}}),(0,N.jsx)("td",{className:"px-2 py-2 text-right",style:{width:f.outflow},children:e.amount<0&&(0,N.jsxs)("span",{className:"font-medium text-theme-red text-sm",children:["$",Math.abs(e.amount).toFixed(2)]})}),(0,N.jsx)("td",{className:"px-2 py-2 text-right",style:{width:f.inflow},children:e.amount>0&&(0,N.jsxs)("span",{className:"font-medium text-theme-green text-sm",children:["$",e.amount.toFixed(2)]})}),(0,N.jsx)("td",{className:"px-1 py-2",style:{width:f.cleared}})]},e.id))),v&&(0,N.jsxs)("tr",{className:"bg-theme-tertiary border-t border-theme-secondary/20",children:[(0,N.jsx)("td",{className:"px-1 py-2"}),(0,N.jsx)("td",{className:"px-2 py-2"}),(0,N.jsx)("td",{className:"px-2 py-2"}),(0,N.jsx)("td",{className:"px-2 py-2"}),(0,N.jsx)("td",{className:"px-2 py-2"}),(0,N.jsx)("td",{className:"px-2 py-2"}),(0,N.jsx)("td",{className:"px-2 py-2 text-right",children:(0,N.jsxs)("div",{className:"".concat(Math.abs(w)<.01?"text-theme-green":"text-theme-red"),children:[(0,N.jsxs)("div",{className:"text-xs font-medium",children:["$",x.toFixed(2)]}),(0,N.jsxs)("div",{className:"text-xs opacity-70",children:["of $",b.toFixed(2)]}),(0,N.jsx)("div",{className:"text-xs",children:Math.abs(w)<.01?"Balanced":"Diff: ".concat(w.toFixed(2))})]})}),(0,N.jsx)("td",{className:"px-1 py-2"})]})]})]})},Sa=e=>{var t;let{transactions:n=[],accounts:r=[],categories:o=[],onAddTransaction:l,onEditTransaction:i,onDeleteTransaction:s,onReorderTransactions:c}=e;const[d,m]=(0,a.useState)(""),[h,f]=(0,a.useState)("all"),[p,g]=(0,a.useState)("all"),[y,v]=(0,a.useState)("all"),[b,x]=(0,a.useState)("date"),[w,k]=(0,a.useState)("desc"),[S,j]=(0,a.useState)(new Set),[C,D]=(0,a.useState)(!1),[I,A]=(0,a.useState)(null),[P,E]=(0,a.useState)(!1),[T,M]=(0,a.useState)({select:35,date:130,payee:150,category:180,memo:150,outflow:100,inflow:100,cleared:50}),[O,F]=(0,a.useState)(new Set),L=(0,a.useRef)(null),R=(0,a.useRef)(!1),_=(0,a.useRef)(null),z=(0,a.useRef)(0),q=(0,a.useRef)(0),B=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},[U,H]=(0,a.useState)({date:B(),payee:"",categoryId:"",memo:"",outflow:"",inflow:"",isCleared:!1,accountId:(null===(t=r[0])||void 0===t?void 0:t.id)||"",isTransfer:!1,transferAccountId:"",isSplit:!1,splits:[]}),W=e=>{const t=r.find((t=>t.id===e));return t?t.name:"Unknown"},$=e=>{if(!e)return"";const t=o.find((t=>t.id===e));return t?t.name:""},V=(e,t)=>"all"===t?e:e.filter((e=>e.accountId===parseInt(t)||e.transferAccountId===parseInt(t))).map((e=>((e,t)=>{if(!e.transferAccountId||"all"===t)return e;if(e.transferAccountId===parseInt(t)){const n=W(e.accountId);return u(u({},e),{},{amount:-e.amount,payee:"Transfer from ".concat(n),accountId:parseInt(t),transferAccountId:e.accountId,_isTransformed:!0})}return e})(e,t))),Y=e=>{if("all"===y){const t=W(e.accountId),n=W(e.transferAccountId);return"Transfer: ".concat(t," \u2192 ").concat(n)}if(e._isTransformed)return e.payee;const t=W(e.transferAccountId);return"Transfer to ".concat(t)},G=(0,a.useMemo)((()=>V(n,y).filter((e=>{var t,n;const r=(null===(t=e.payee)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(n=e.memo)||void 0===n?void 0:n.toLowerCase().includes(d.toLowerCase())),a="all"===h||"income"===h&&e.amount>0||"expense"===h&&e.amount<0||"transfer"===h&&e.transferAccountId,o="all"===p||e.accountId===parseInt(p);return r&&a&&o})).sort(((e,t)=>{var n,r,a,o;let l,i;switch(b){case"date":l=new Date(e.date),i=new Date(t.date);break;case"payee":l=(null===(n=e.payee)||void 0===n?void 0:n.toLowerCase())||"",i=(null===(r=t.payee)||void 0===r?void 0:r.toLowerCase())||"";break;case"category":l=(null===(a=$(e.categoryId))||void 0===a?void 0:a.toLowerCase())||"",i=(null===(o=$(t.categoryId))||void 0===o?void 0:o.toLowerCase())||"";break;case"amount":l=Math.abs(e.amount),i=Math.abs(t.amount);break;default:return 0}return"desc"===w?l>i?-1:l<i?1:0:l<i?-1:l>i?1:0}))),[n,d,h,p,y,b,w]),Q=e=>{if(b===e){k("asc"===w?"desc":"asc")}else x(e),k("asc")},K=(e,t)=>{e.stopPropagation(),e.preventDefault(),R.current=!0,_.current=t,z.current=e.clientX,q.current=T[t],document.addEventListener("mousemove",X),document.addEventListener("mouseup",J)},X=e=>{if(!R.current||!_.current)return;const t=e.clientX-z.current,n=Math.max(60,q.current+t),r=u(u({},T),{},{[_.current]:n});M(r),localStorage.setItem("transactionTableColumnWidths",JSON.stringify(r))},J=()=>{R.current=!1,_.current=null,document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",J)},Z=()=>{var e;E(!0),H({date:B(),payee:"",categoryId:"",memo:"",outflow:"",inflow:"",isCleared:!1,accountId:"all"!==y?parseInt(y):(null===(e=r[0])||void 0===e?void 0:e.id)||"",isTransfer:!1,transferAccountId:"",isSplit:!1,splits:[]})},ee=e=>{A(e.id),H({date:e.date,payee:e.transferAccountId?Y(e):e.payee,categoryId:e.categoryId||"",memo:e.memo||"",outflow:e.amount<0?Math.abs(e.amount).toString():"",inflow:e.amount>0?e.amount.toString():"",isCleared:e.isCleared||!1,accountId:e.accountId,isTransfer:!!e.transferAccountId,transferAccountId:e.transferAccountId||"",isSplit:!!e.splits&&e.splits.length>0,splits:e.splits?e.splits.map((e=>({id:e.id||Date.now()+Math.random(),amount:e.amount,categoryId:e.categoryId,memo:e.memo}))):[]})},te=()=>{var e;E(!1),A(null),H({date:B(),payee:"",categoryId:"",memo:"",outflow:"",inflow:"",isCleared:!1,accountId:"all"!==y?parseInt(y):(null===(e=r[0])||void 0===e?void 0:e.id)||"",isTransfer:!1,transferAccountId:"",isSplit:!1,splits:[]})},ne=()=>{const e="number"===typeof U.outflow?U.outflow:parseFloat(U.outflow)||0,t="number"===typeof U.inflow?U.inflow:parseFloat(U.inflow)||0;if(!U.isSplit){if(e>0&&t>0)return void alert("Transaction cannot have both inflow and outflow amounts");if(0===e&&0===t)return void alert("Transaction must have either an inflow or outflow amount")}if(U.isSplit){const n=U.splits||[];if(0===n.length)return void alert("Split transactions must have at least one split");for(let e of n){if(!e.categoryId)return void alert("All splits must have a category selected");if(0===("number"===typeof e.amount?e.amount:parseFloat(e.amount)||0))return void alert("All splits must have a non-zero amount")}const r=e||t,a=n.reduce(((e,t)=>{const n="number"===typeof t.amount?t.amount:parseFloat(t.amount)||0;return e+Math.abs(n)}),0);if(Math.abs(r-a)>.01)return void alert("Split amounts ($".concat(a.toFixed(2),") must equal transaction total ($").concat(r.toFixed(2),")"))}const n=t>0?t:-e;let r={date:U.date,payee:U.payee,memo:U.memo,amount:n,accountId:parseInt(U.accountId),isCleared:U.isCleared};r=U.isTransfer?u(u({},r),{},{transferAccountId:parseInt(U.transferAccountId),categoryId:null}):U.isSplit?u(u({},r),{},{categoryId:null,isSplit:!0,splits:U.splits.map((e=>({amount:"number"===typeof e.amount?e.amount:parseFloat(e.amount)||0,categoryId:parseInt(e.categoryId)||null,memo:e.memo||""})))}):u(u({},r),{},{categoryId:U.categoryId?parseInt(U.categoryId):null}),I?i(u(u({},r),{},{id:I})):l(r),te()},re=()=>{ne(),setTimeout((()=>Z()),100)},ae=()=>{const e={id:Date.now(),amount:"",categoryId:"",memo:""},t=U.splits||[];H((n=>u(u({},n),{},{splits:[...t,e],isSplit:!0})))},oe=e=>{const t=(U.splits||[]).filter((t=>t.id!==e));H((e=>u(u({},e),{},{splits:t,isSplit:t.length>0})))},le=(e,t,n)=>{console.log("TransactionsTab updateSplit called:",{splitId:e,field:t,value:n}),console.log("Current newTransaction.splits before update:",JSON.stringify(U.splits,null,2));const r=(U.splits||[]).map((r=>{if(r.id===e){const a=u(u({},r),{},{[t]:n});return console.log("TransactionsTab updating split ".concat(e,":"),r,"\u2192",a),a}return console.log("TransactionsTab keeping split ".concat(r.id," unchanged:"),r),u({},r)}));console.log("TransactionsTab updated splits array:",JSON.stringify(r,null,2)),H((e=>u(u({},e),{},{splits:r})))},ie=e=>{const t=new Set(S);t.has(e)?t.delete(e):t.add(e),j(t),D(t.size===G.length)},se=e=>{const t=e.isCleared?"cleared":"uncleared";return(0,N.jsx)("button",{onClick:()=>(e=>{i(u(u({},e),{},{isCleared:!e.isCleared}))})(e),className:"w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all text-xs ".concat("cleared"===t?"bg-theme-green border-theme-green text-white":"border-theme-tertiary hover:border-theme-secondary"),title:"cleared"===t?"Cleared":"Click to mark as cleared",children:"cleared"===t&&(0,N.jsx)(va,{className:"w-2 h-2"})})},ce=e=>{let{column:t}=e;return b!==t?null:"desc"===w?(0,N.jsx)(er,{className:"w-4 h-4 inline ml-1"}):(0,N.jsx)(ba,{className:"w-4 h-4 inline ml-1"})},ue=e=>{(P||I)&&("Escape"===e.key?(e.preventDefault(),e.stopPropagation(),te()):"Enter"!==e.key||"INPUT"!==e.target.tagName&&"SELECT"!==e.target.tagName||(e.preventDefault(),e.stopPropagation(),e.shiftKey?re():ne()))};return(0,a.useEffect)((()=>{if(P||I)return document.addEventListener("keydown",ue),()=>{document.removeEventListener("keydown",ue)}}),[P,I]),(0,N.jsxs)("div",{className:"space-y-6",children:[(0,N.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h2",{className:"text-2xl font-bold text-theme-primary",children:"Transactions"}),(0,N.jsxs)("p",{className:"text-sm text-theme-secondary",children:[G.length," transaction",1!==G.length?"s":"",S.size>0&&" \u2022 ".concat(S.size," selected"),"all"!==y&&" \u2022 ".concat(W(parseInt(y)))]})]}),(0,N.jsxs)("div",{className:"flex gap-2",children:[S.size>0&&(0,N.jsxs)("button",{onClick:()=>{S.forEach((e=>s({id:e}))),j(new Set),D(!1)},className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center space-x-2 transition-colors",children:[(0,N.jsx)(or,{className:"w-4 h-4"}),(0,N.jsxs)("span",{children:["Delete Selected (",S.size,")"]})]}),(0,N.jsxs)("button",{onClick:Z,className:"btn-success text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2 transition-colors",children:[(0,N.jsx)(Jn,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Add Transaction"})]})]})]}),(0,N.jsx)("div",{className:"p-4 rounded-lg bg-theme-secondary",children:(0,N.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-xs font-medium mb-1 text-theme-text",children:"View Account"}),(0,N.jsxs)("select",{value:y,onChange:e=>v(e.target.value),className:"w-full p-2 rounded border bg-theme-primary border-theme-primary text-theme-primary",children:[(0,N.jsx)("option",{value:"all",children:"All Accounts"}),r.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)("label",{className:"block text-xs font-medium mb-1 text-theme-text",children:"Search"}),(0,N.jsx)(xa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-theme-tertiary mt-2"}),(0,N.jsx)("input",{type:"text",placeholder:"Search transactions...",value:d,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-2 rounded border bg-theme-primary border-theme-primary text-theme-primary placeholder-theme-tertiary"})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-xs font-medium mb-1 text-theme-text",children:"Type"}),(0,N.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"w-full p-2 rounded border bg-theme-primary border-theme-primary text-theme-primary",children:[(0,N.jsx)("option",{value:"all",children:"All Types"}),(0,N.jsx)("option",{value:"income",children:"Income"}),(0,N.jsx)("option",{value:"expense",children:"Expenses"}),(0,N.jsx)("option",{value:"transfer",children:"Transfers"})]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-xs font-medium mb-1 text-theme-text",children:"Filter Account"}),(0,N.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"w-full p-2 rounded border bg-theme-primary border-theme-primary text-theme-primary",children:[(0,N.jsx)("option",{value:"all",children:"All Accounts"}),r.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,N.jsx)("div",{className:"flex items-end",children:(0,N.jsx)("button",{onClick:()=>{m(""),f("all"),g("all")},className:"w-full px-4 py-2 rounded border bg-theme-primary border-theme-primary hover:bg-theme-hover text-theme-primary",children:"Clear Filters"})})]})}),(0,N.jsxs)("div",{className:"bg-theme-primary rounded-lg shadow-sm border border-theme-primary overflow-hidden",children:[(0,N.jsx)("div",{className:"overflow-x-auto",style:{maxWidth:"100%"},children:(0,N.jsxs)("table",{ref:L,className:"w-full table-fixed",style:{minWidth:"900px"},children:[(0,N.jsx)("thead",{className:"table-header border-b border-theme-secondary",children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{className:"px-1 py-2 text-center text-xs font-medium text-theme-secondary uppercase tracking-wider",style:{width:T.select},children:(0,N.jsx)("input",{type:"checkbox",checked:C,onChange:()=>{j(C?new Set:new Set(G.map((e=>e.id)))),D(!C)},className:"rounded border-theme-secondary"})}),(0,N.jsxs)("th",{className:"px-2 py-2 text-left text-xs font-medium text-theme-secondary uppercase tracking-wider cursor-pointer hover:bg-theme-hover relative",style:{width:T.date},onClick:()=>Q("date"),children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("span",{children:"Date"}),(0,N.jsx)(ce,{column:"date"})]}),(0,N.jsx)("div",{className:"absolute right-0 top-0 w-3 h-full cursor-col-resize hover:bg-blue-300 hover:bg-opacity-50",onMouseDown:e=>K(e,"date")})]}),(0,N.jsxs)("th",{className:"px-2 py-2 text-left text-xs font-medium text-theme-secondary uppercase tracking-wider cursor-pointer hover:bg-theme-hover relative",style:{width:T.payee},onClick:()=>Q("payee"),children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("span",{children:"Payee"}),(0,N.jsx)(ce,{column:"payee"})]}),(0,N.jsx)("div",{className:"absolute right-0 top-0 w-3 h-full cursor-col-resize hover:bg-blue-300 hover:bg-opacity-50",onMouseDown:e=>K(e,"payee")})]}),(0,N.jsxs)("th",{className:"px-2 py-2 text-left text-xs font-medium text-theme-secondary uppercase tracking-wider cursor-pointer hover:bg-theme-hover relative",style:{width:T.category},onClick:()=>Q("category"),children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("span",{children:"Category"}),(0,N.jsx)(ce,{column:"category"})]}),(0,N.jsx)("div",{className:"absolute right-0 top-0 w-3 h-full cursor-col-resize hover:bg-blue-300 hover:bg-opacity-50",onMouseDown:e=>K(e,"category")})]}),(0,N.jsxs)("th",{className:"px-2 py-2 text-left text-xs font-medium text-theme-secondary uppercase tracking-wider relative",style:{width:T.memo},children:[(0,N.jsx)("span",{children:"Memo"}),(0,N.jsx)("div",{className:"absolute right-0 top-0 w-3 h-full cursor-col-resize hover:bg-blue-300 hover:bg-opacity-50",onMouseDown:e=>K(e,"memo")})]}),(0,N.jsxs)("th",{className:"px-2 py-2 text-right text-xs font-medium text-theme-secondary uppercase tracking-wider cursor-pointer hover:bg-theme-hover relative",style:{width:T.outflow},onClick:()=>Q("amount"),children:[(0,N.jsxs)("div",{className:"flex items-center justify-end",children:[(0,N.jsx)("span",{children:"Out"}),(0,N.jsx)(ce,{column:"amount"})]}),(0,N.jsx)("div",{className:"absolute right-0 top-0 w-3 h-full cursor-col-resize hover:bg-blue-300 hover:bg-opacity-50",onMouseDown:e=>K(e,"outflow")})]}),(0,N.jsxs)("th",{className:"px-2 py-2 text-right text-xs font-medium text-theme-secondary uppercase tracking-wider relative",style:{width:T.inflow},children:[(0,N.jsx)("span",{children:"In"}),(0,N.jsx)("div",{className:"absolute right-0 top-0 w-3 h-full cursor-col-resize hover:bg-blue-300 hover:bg-opacity-50",onMouseDown:e=>K(e,"inflow")})]}),(0,N.jsxs)("th",{className:"px-1 py-2 text-center text-xs font-medium text-theme-secondary uppercase tracking-wider relative",style:{width:T.cleared},children:[(0,N.jsx)("span",{children:"\u2713"}),(0,N.jsx)("div",{className:"absolute right-0 top-0 w-3 h-full cursor-col-resize hover:bg-blue-300 hover:bg-opacity-50",onMouseDown:e=>K(e,"cleared")})]})]})}),(0,N.jsxs)("tbody",{className:"divide-y divide-theme-secondary",children:[P&&(0,N.jsx)(wa,{transaction:U,setTransaction:H,accounts:r,categories:o,onSave:ne,onSaveAndAddAnother:re,onCancel:te,isNew:!0,addSplit:ae,removeSplit:oe,updateSplit:le,columnWidths:T,viewAccount:y}),G.map(((e,t)=>I===e.id?(0,N.jsx)(wa,{transaction:U,setTransaction:H,accounts:r,categories:o,onSave:ne,onCancel:te,isNew:!1,addSplit:ae,removeSplit:oe,updateSplit:le,columnWidths:T,viewAccount:y},e.id):(0,N.jsx)(ka,{transaction:e,index:t,isSelected:S.has(e.id),onSelect:ie,onEdit:ee,onDelete:s,getAccountName:W,getCategoryName:$,formatTransferPayee:Y,renderClearedStatus:se,expandedTransactions:O,setExpandedTransactions:F,columnWidths:T},e.id))),0===G.length&&!P&&(0,N.jsx)("tr",{children:(0,N.jsxs)("td",{colSpan:"8",className:"text-center py-12 text-theme-secondary",children:["                                        ",0===n.length?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"text-lg font-medium mb-2",children:"No transactions yet"}),(0,N.jsx)("p",{children:"Add your first transaction to get started!"})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"text-lg font-medium mb-2",children:"No transactions match your filters"}),(0,N.jsx)("p",{children:"Try adjusting your search or filter criteria"})]})]})})]})]})}),G.length>0&&(0,N.jsx)("div",{className:"table-header border-t border-theme-secondary p-4",children:(0,N.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 text-sm",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"text-theme-secondary font-medium",children:"Total Income"}),(0,N.jsxs)("p",{className:"text-lg font-semibold text-theme-green",children:["$",G.filter((e=>e.amount>0&&!e.transferAccountId)).reduce(((e,t)=>e+t.amount),0).toFixed(2)]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"text-theme-secondary font-medium",children:"Total Expenses"}),(0,N.jsxs)("p",{className:"text-lg font-semibold text-theme-red",children:["$",G.filter((e=>e.amount<0&&!e.transferAccountId)).reduce(((e,t)=>e+Math.abs(t.amount)),0).toFixed(2)]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"text-theme-secondary font-medium",children:"Transfers"}),(0,N.jsxs)("p",{className:"text-lg font-semibold text-theme-blue",children:[G.filter((e=>e.transferAccountId)).length," transactions"]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"text-theme-secondary font-medium",children:"Net Amount"}),(0,N.jsxs)("p",{className:"text-lg font-semibold ".concat(G.reduce(((e,t)=>e+(t.transferAccountId?0:t.amount)),0)>=0?"text-theme-green":"text-theme-red"),children:["$",G.reduce(((e,t)=>e+(t.transferAccountId?0:t.amount)),0).toFixed(2)]})]})]})})]})]})},Na=e=>({id:e.id,name:e.name,type:"expense",amount:e.amount,frequency:e.frequency,categoryId:e.categoryId,priority:e.priority,alreadySaved:e.alreadySaved||0,dueDate:e.dueDate||"",allocationPaused:e.allocationPaused||!1,isRecurringExpense:e.isRecurringExpense||!1,priorityState:e.priorityState||"active",accountId:e.accountId||1,isActive:!e.allocationPaused&&"paused"!==e.priorityState,collapsed:e.collapsed||!0}),ja=e=>({id:e.id,name:e.name,type:"savings-goal",targetAmount:e.targetAmount,monthlyContribution:e.monthlyContribution,targetDate:e.targetDate||"",categoryId:e.categoryId,alreadySaved:e.alreadySaved||0,allocationPaused:e.allocationPaused||!1,priorityState:e.priorityState||"active",accountId:e.accountId||1,isActive:!e.allocationPaused&&"paused"!==e.priorityState,collapsed:e.collapsed||!0}),Ca=e=>"savings-goal"===e.type?{id:e.id,name:e.name,targetAmount:e.targetAmount,monthlyContribution:e.monthlyContribution,targetDate:e.targetDate,categoryId:e.categoryId,alreadySaved:e.alreadySaved||0,allocationPaused:!e.isActive,collapsed:e.collapsed,priorityState:e.priorityState,accountId:e.accountId}:{id:e.id,name:e.name,amount:e.amount,frequency:e.frequency,categoryId:e.categoryId,priority:e.priority,alreadySaved:e.alreadySaved||0,dueDate:e.dueDate,allocationPaused:!e.isActive,collapsed:e.collapsed,isRecurringExpense:e.isRecurringExpense,priorityState:e.priorityState,accountId:e.accountId},Da=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>"expense"===e.type)).map(Ca)},Ia=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>"savings-goal"===e.type)).map(Ca)},Aa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]).find((e=>e.value===t)),r=(null===n||void 0===n?void 0:n.paychecksPerMonth)||2.17;return e.map((e=>{const t=(e.monthlyAllocation||0)/r;return u(u({},e),{},{perPaycheckAmount:t})}))},Pa=e=>{if(!e.hasDeadline||e.isFullyFunded)return 0;if(!e.isOnTrack)return 100;const t=e.paychecksNeeded/Math.max(e.availablePaychecks,1);return Math.min(100,100*t)},Ea=e=>e>=80?{emoji:"\ud83d\udd34",label:"Critical",color:"text-red-600"}:e>=60?{emoji:"\ud83d\udfe1",label:"High",color:"text-yellow-600"}:e>=30?{emoji:"\ud83d\udfe2",label:"Medium",color:"text-green-600"}:{emoji:"\u26aa",label:"Low",color:"text-theme-secondary"},Ta=(e,t)=>!t||t<=0?0:Math.min(100,e/t*100),Ma=(e,t)=>!(!t||t<=0)&&e>=t,Oa=(e,t)=>Math.max(0,t-e),Fa=e=>{var t;let{amount:n,alreadySaved:r=0,dueDate:a,biweeklyAmount:o=0,relevantPaychecks:l=[],paySchedule:i={}}=e;const s=u({frequency:"bi-weekly",startDate:(new Date).toISOString().split("T")[0],splitPaycheck:!1,primaryAmount:0,secondaryAmount:0,primaryAccountId:1,secondaryAccountId:1,secondaryDaysEarly:0},i);if(!a)return{hasDeadline:!1,message:"No deadline set",status:"ongoing"};const c=n||0,d=Math.max(0,c-r);if(d<=0)return{hasDeadline:!0,isFullyFunded:!0,message:"Fully funded!",status:"complete",overfunded:r-c};const m=o>0?Math.ceil(d/o):0,h=l.length;let f=null,p=r;for(let u=0;u<Math.min(m,h);u++)if(p+=o,p>=c){f=l[u]&&l[u].date?l[u].date:null;break}const g=m<=h,y={hasDeadline:!0,isFullyFunded:!1,totalNeeded:c,alreadySaved:r,remainingNeeded:d,paychecksNeeded:m,availablePaychecks:h,fundingDate:f,lastPaycheckDate:null===(t=l[h-1])||void 0===t?void 0:t.date,isOnTrack:g,requiredAllocation:h>0?d/h:0,currentAllocation:o,status:g?"on-track":"behind"},v=(e=>{let{isOnTrack:t,paychecksNeeded:n,availablePaychecks:r,fundingDate:a,lastPaycheckDate:o,requiredAllocation:l,currentAllocation:i,paySchedule:s={}}=e;const c=(e=>{if(!e)return"paycheck";switch(e){case"weekly":case"bi-weekly":default:return"paycheck";case"semi-monthly":return"pay period";case"monthly":return"payment"}})(u({frequency:"bi-weekly"},s).frequency);if(t&&a)return"Ready in ".concat(n," ").concat(c).concat(1===n?"":"s"," (").concat(a.toLocaleDateString(),")");if(!t&&o){const e=(l||0)-(i||0);return"Behind schedule - need $".concat((l||0).toFixed(2),"/").concat(c.slice(0,-1)," (currently $").concat((i||0).toFixed(2),") - shortfall: $").concat(e.toFixed(2),"/").concat(c.slice(0,-1))}return"Unable to calculate timeline"})(u(u({},y),{},{paySchedule:s}));return u(u({},y),{},{message:v})},La=e=>{let{planningItems:t=[],activeBudgetAllocations:n=[],expenses:r=[],currentPay:o=0,roundingOption:l=0,frequencyOptions:i=[]}=e;return(0,a.useMemo)((()=>{const e=t.length>0,a=e?Da(t):r;if(!Array.isArray(a)||!Array.isArray(i))return console.warn("Invalid input arrays to useExpenseAllocations"),{expenseAllocations:[],totalExpenseAllocation:0};if(o<=0)return console.warn("Invalid currentPay:",o),{expenseAllocations:[],totalExpenseAllocation:0};const s=a.map((r=>{try{const a=parseFloat(r.amount)||0,s=parseFloat(r.alreadySaved)||0,c=Oa(a,s),d=Ta(a,s),m=Ma(d);if(e&&n.length>0){const e=t.find((e=>"expense"===e.type&&e.id===r.id)),l=e&&e.isActive?n.find((e=>e.planningItemId===r.id)):null;if(l){let e=l.perPaycheckAmount||0;if(m)e=0;else if(c<a){e*=c/a}return u(u({},r),{},{biweeklyAmount:e,percentage:Pn(e,o),remainingNeeded:c,fundingProgress:d,isFullyFunded:m})}}let h=0;if(c>0&&!m){h=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!e||e<=0)return 0;if("per-paycheck"===t)return 0===r?e:An(e,r);const a=n.find((e=>e&&e.value===t));if(!a||!a.weeksPerYear||a.weeksPerYear<=0)return console.warn("Invalid frequency data for ".concat(t,":"),a),0;const o=e*a.weeksPerYear/26;return 0===r?o:An(o,r)}(u(u({},r),{},{amount:c}),i,l)}return u(u({},r),{},{biweeklyAmount:h,percentage:Pn(h,o),remainingNeeded:c,fundingProgress:d,isFullyFunded:m})}catch(a){return console.error("Error processing expense ".concat(null===r||void 0===r?void 0:r.name,":"),a),u(u({},r),{},{biweeklyAmount:0,percentage:0,remainingNeeded:0,fundingProgress:0,isFullyFunded:!1})}})),c=s.reduce(((e,t)=>e+(t.biweeklyAmount||0)),0);return{expenseAllocations:s,totalExpenseAllocation:c}}),[t,n,r,o,l,i])},Ra=e=>{let{planningItems:t=[],activeBudgetAllocations:n=[],savingsGoals:r=[],currentPay:o=0,roundingOption:l=0}=e;return(0,a.useMemo)((()=>{const e=t.length>0,a=e?Ia(t):r;if(!Array.isArray(a))return console.warn("Invalid input array to useGoalAllocations"),{goalAllocations:[],totalGoalAllocation:0};if(o<=0)return console.warn("Invalid currentPay:",o),{goalAllocations:[],totalGoalAllocation:0};const i=a.map((r=>{try{const a=parseFloat(r.targetAmount)||0,i=parseFloat(r.alreadySaved)||0,s=Oa(a,i),c=Ta(a,i),d=Ma(c);if(e&&n.length>0){const e=t.find((e=>"savings-goal"===e.type&&e.id===r.id)),l=e&&e.isActive?n.find((e=>e.planningItemId===r.id)):null;if(l){let e=l.perPaycheckAmount||0;if(d)e=0;else if(s<a){e*=s/a}return u(u({},r),{},{biweeklyAmount:e,percentage:Pn(e,o),remainingNeeded:s,fundingProgress:c,isFullyFunded:d})}}let m=0;if(s>0&&!d){m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return 0;if("paused"===e.priorityState||"complete"===e.priorityState||e.allocationPaused)return 0;const n=parseFloat(e.monthlyContribution)||0;if(n<=0)return 0;const r=12*n/26;return 0===t?r:An(r,t)}(u(u({},r),{},{targetAmount:s,monthlyContribution:r.monthlyContribution}),l)}return u(u({},r),{},{biweeklyAmount:m,percentage:Pn(m,o),remainingNeeded:s,fundingProgress:c,isFullyFunded:d})}catch(a){return console.error("Error processing goal ".concat(null===r||void 0===r?void 0:r.name,":"),a),u(u({},r),{},{biweeklyAmount:0,percentage:0,remainingNeeded:0,fundingProgress:0,isFullyFunded:!1})}})),s=i.reduce(((e,t)=>e+(t.biweeklyAmount||0)),0);return{goalAllocations:i,totalGoalAllocation:s}}),[t,n,r,o,l])},_a=e=>{const{expenseAllocations:t,totalExpenseAllocation:n}=La(e),{goalAllocations:r,totalGoalAllocation:o}=Ra(e),l=(e=>{let{totalExpenseAllocation:t=0,totalGoalAllocation:n=0,currentPay:r=0,bufferPercentage:o=0}=e;return(0,a.useMemo)((()=>{if(r<=0)return console.warn("Invalid currentPay:",r),{totalBiweeklyAllocation:0,bufferAmount:0,totalWithBuffer:0,remainingIncome:0,allocationPercentage:0};const e=t+n,a=((e,t)=>e&&t?e*(t/100):0)(e,o),l=e+a;return{totalBiweeklyAllocation:e,bufferAmount:a,totalWithBuffer:l,remainingIncome:r-l,allocationPercentage:Pn(l,r)}}),[t,n,r,o])})({totalExpenseAllocation:n,totalGoalAllocation:o,currentPay:e.currentPay,bufferPercentage:e.bufferPercentage}),i=(e=>{let{expenseAllocations:t=[],goalAllocations:n=[],currentPay:r=0}=e;return(0,a.useMemo)((()=>{if(!Array.isArray(t)||!Array.isArray(n))return console.warn("Invalid input arrays to useCategorizedItems"),{};const e={};return t.forEach((t=>{const n=t.categoryId;n&&(e[n]||(e[n]={expenses:[],goals:[],total:0,percentage:0}),e[n].expenses.push(t),e[n].total+=t.biweeklyAmount||0)})),n.forEach((t=>{const n=t.categoryId;n&&(e[n]||(e[n]={expenses:[],goals:[],total:0,percentage:0}),e[n].goals.push(t),e[n].total+=t.biweeklyAmount||0)})),r>0&&Object.keys(e).forEach((t=>{const n=e[t];n.percentage=Pn(n.total,r)})),e}),[t,n,r])})({expenseAllocations:t,goalAllocations:r,currentPay:e.currentPay});return u(u({expenseAllocations:t,goalAllocations:r,totalExpenseAllocation:n,totalGoalAllocation:o},l),{},{categorizedExpenses:i})};const za=()=>{const[e,t]=ca("budgetCalc_currentPay",2e3),[n,r]=ca("budgetCalc_payFrequency","biweekly"),[o,l]=ca("budgetCalc_paySchedule",{frequency:"biweekly",startDate:(new Date).toISOString(),dayOfWeek:5,dayOfMonth:1,excludeWeekends:!0}),[i,s]=ca("budgetCalc_roundingOption","round"),[c,d]=ca("budgetCalc_bufferPercentage",10),[m,h]=ca("budgetCalc_theme","light"),f=(0,a.useCallback)((e=>{void 0!==e.currentPay&&t(e.currentPay),void 0!==e.payFrequency&&r(e.payFrequency),void 0!==e.paySchedule&&l((t=>u(u({},t),e.paySchedule)))}),[t,r,l]),p=(0,a.useCallback)((e=>{void 0!==e.roundingOption&&s(e.roundingOption),void 0!==e.bufferPercentage&&d(e.bufferPercentage)}),[s,d]),g=(0,a.useCallback)((e=>{h(e),document.documentElement.setAttribute("data-theme",e);const t=document.querySelector('meta[name="theme-color"]');t&&t.setAttribute("content",e.includes("dark")?"#1f2937":"#ffffff")}),[h]),y=(0,a.useCallback)((()=>{switch(n){case"weekly":return 7;case"biweekly":default:return 14;case"semimonthly":return 15;case"monthly":return 30}}),[n]),v=(0,a.useCallback)((()=>{switch(n){case"weekly":return 52;case"biweekly":default:return 26;case"semimonthly":return 24;case"monthly":return 12}}),[n]),b=(0,a.useCallback)((()=>{switch(n){case"weekly":return 4.33*e;case"biweekly":default:return 2.17*e;case"semimonthly":return 2*e;case"monthly":return e}}),[e,n]);return{currentPay:e,setCurrentPay:t,payFrequency:n,setPayFrequency:r,paySchedule:o,setPaySchedule:l,roundingOption:i,setRoundingOption:s,bufferPercentage:c,setBufferPercentage:d,theme:m,setTheme:h,payFrequencyOptions:[{value:"weekly",label:"Weekly"},{value:"biweekly",label:"Biweekly"},{value:"monthly",label:"Monthly"},{value:"semimonthly",label:"Twice a Month"}],frequencyOptions:Rn,categoryColors:["bg-gradient-to-r from-purple-500 to-pink-500","bg-gradient-to-r from-green-500 to-blue-500","bg-gradient-to-r from-yellow-500 to-red-500","bg-gradient-to-r from-blue-500 to-indigo-500","bg-gradient-to-r from-red-500 to-yellow-500","bg-gradient-to-r from-indigo-500 to-purple-500","bg-gradient-to-r from-pink-500 to-red-500","bg-gradient-to-r from-blue-500 to-green-500","bg-gradient-to-r from-purple-600 to-indigo-600","bg-gradient-to-r from-green-600 to-teal-600"],updatePaySettings:f,updateBudgetSettings:p,updateTheme:g,getPaycheckFrequencyDays:y,getPaychecksPerYear:v,calculateMonthlyIncome:b}},qa=function(){let{initialExpenses:e=[],initialSavingsGoals:t=[],initialCategories:n=[],initialAccounts:r=[],payFrequency:o="bi-weekly",payFrequencyOptions:l=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[i,s]=ca("budgetCalc_expenses",e),[c,d]=ca("budgetCalc_savingsGoals",t),[m,h]=ca("budgetCalc_planningItems",[]),[f,p]=ca("budgetCalc_activeBudgetAllocations",[]),[g,y]=ca("budgetCalc_categories",n),[v,b]=ca("budgetCalc_accounts",r),x=(0,a.useRef)(!1),w=(0,a.useRef)(!1);(0,a.useEffect)((()=>{if(0===m.length&&(i.length>0||c.length>0)){const e=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[...(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(Na),...e.map(ja)]}(i,c);h(e);const t=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>e.isActive&&!e.needsAllocation&&e.allocated>0)).map(((e,t)=>{const n="savings-goal"===e.type?e.monthlyContribution:e.amount;return{id:t+1,planningItemId:e.id,categoryId:e.categoryId,monthlyAllocation:e.allocated||n,perPaycheckAmount:0,sourceAccountId:e.accountId||1,isPaused:!1,createdAt:(new Date).toISOString()}}))}(e),n=Aa(t,o,l);p(n)}}),[i,c,m.length,h,p,o,l]),(0,a.useEffect)((()=>{if(m.length>0&&!x.current){x.current=!0;try{const e=Da(m),t=Ia(m),n=(e,t)=>e.length===t.length&&e.every(((e,n)=>{const r=t[n];if(!r)return!1;return["id","name","amount","targetAmount","frequency","categoryId","priorityState","alreadySaved"].every((t=>e[t]===r[t]))}));n(e,i)||(console.log("Syncing expenses from planning items"),s(e)),n(t,c)||(console.log("Syncing savings goals from planning items"),d(t))}catch(e){console.error("Error syncing legacy state:",e)}finally{setTimeout((()=>{x.current=!1}),0)}}}),[m]),(0,a.useEffect)((()=>{if(f.length>0){const e=Aa(f,o,l);p(e)}}),[o,l,p]);const k=(0,a.useCallback)((e=>{console.log("Adding new item:",e);const t=parseInt(e.categoryId,10);if(isNaN(t)||!g.some((e=>parseInt(e.id,10)===t)))return void console.error("Invalid category ID for new item:",e);e=u(u({},e),{},{categoryId:t});const n=Math.max(...m.map((e=>parseInt(e.id||0,10))),0)+1,r=u(u({},e),{},{id:n,isActive:e.isActive||!e.allocationPaused&&"active"===e.priorityState});console.log("Generated ID for new item:",n),h((e=>{const t=[...e,r];return console.log("Last added item:",r),console.log("Updated planning items:",t),t})),r.isActive&&(r.needsAllocation=!0)}),[h,p,v,o,l,g,m]),S=(0,a.useCallback)(((e,t)=>{if(console.log("Updating item:",e,t),t.categoryId){const e=parseInt(t.categoryId,10);if(isNaN(e)||!g.some((t=>t.id===e)))return void console.error("Invalid category ID for updated item:",t);t=u(u({},t),{},{categoryId:e})}h((n=>{const r=n.map((n=>n.id===e?u(u({},n),t):n));return t.isActive||!t.allocationPaused&&"active"===t.priorityState?p((n=>{if(n.find((t=>t.planningItemId===e))){const r=n.map((n=>{var r;return n.planningItemId===e?u(u({},n),{},{categoryId:t.categoryId,monthlyAllocation:"savings-goal"===t.type?t.monthlyContribution:t.amount,sourceAccountId:t.accountId||(null===(r=v[0])||void 0===r?void 0:r.id)||1,isPaused:!1}):n}));return Aa(r,o,l)}{var r;const a={id:Math.max(...n.map((e=>e.id)),0)+1,planningItemId:e,categoryId:t.categoryId,monthlyAllocation:"savings-goal"===t.type?t.monthlyContribution:t.amount,perPaycheckAmount:0,sourceAccountId:t.accountId||(null===(r=v[0])||void 0===r?void 0:r.id)||1,isPaused:!1,createdAt:(new Date).toISOString()},i=[...n,a];return Aa(i,o,l)}})):p((t=>t.filter((t=>t.planningItemId!==e)))),r}))}),[h,p,v,o,l]),N=(0,a.useCallback)((e=>{console.log("Removing item:",e);const t=f.find((t=>t.planningItemId===parseInt(e,10)));h((n=>{const r=function(){let e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((t=>t.id!==e))}(n,parseInt(e,10));if(t){const e=g.find((e=>e.id===parseInt(t.categoryId,10)));e&&(e.available=(e.available||0)+(t.monthlyAllocation||0))}if(p((t=>t.filter((t=>t.planningItemId!==parseInt(e,10))))),!x.current){x.current=!0;try{const e=Da(r),t=Ia(r);s(e),d(t)}finally{setTimeout((()=>{x.current=!1}),0)}}return r}))}),[h,p,f,g,s,d]),j=(0,a.useCallback)(((e,t)=>{h((n=>n.map((n=>n.id===e?u(u({},n),{},{isActive:t,allocationPaused:!t}):n)))),p((n=>{if(t){if(!n.find((t=>t.planningItemId===e))){const t=m.find((t=>t.id===e));if(t){var r;const a={id:Math.max(...n.map((e=>e.id)),0)+1,planningItemId:e,categoryId:t.categoryId,monthlyAllocation:"savings-goal"===t.type?t.monthlyContribution:t.amount,perPaycheckAmount:0,sourceAccountId:t.accountId||(null===(r=v[0])||void 0===r?void 0:r.id)||1,isPaused:!1,createdAt:(new Date).toISOString()};return Aa([...n,a],o,l)}}return n}return n.filter((t=>t.planningItemId!==e))}))}),[h,p,m,v,o,l]),C=(0,a.useCallback)(((e,t)=>{const n=parseInt(t,10);!isNaN(n)&&g.some((e=>e.id===n))?h((t=>{const r=t.find((t=>t.id===e));if(!r)return t;const a=function(){let e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((t=>t.id===e.id?u(u({},t),e):t))}(t,u(u({},r),{},{categoryId:n}));return r.isActive&&p((t=>t.map((t=>t.planningItemId===e?u(u({},t),{},{categoryId:n}):t)))),a})):console.error("Invalid target category ID for move:",t)}),[h,p]);return(0,a.useEffect)((()=>{if(w.current)return;(()=>{w.current=!0;try{const e=m.filter((e=>{const t=e.categoryId&&g.some((t=>t.id===parseInt(e.categoryId,10)));if(!t){const t=f.find((t=>t.planningItemId===e.id));if(t){const e=g.find((e=>e.id===parseInt(t.categoryId,10)));e&&(e.available=(e.available||0)+(t.monthlyAllocation||0))}}return t}));if(e.length!==m.length&&(console.log("Cleaning up ".concat(m.length-e.length," invalid items")),h(e),p((t=>t.filter((t=>e.some((e=>e.id===t.planningItemId)))))),!x.current)){const t=Da(e),n=Ia(e);s(t),d(n)}}finally{w.current=!1}})()}),[g]),{planningItems:m,setPlanningItems:h,activeBudgetAllocations:f,setActiveBudgetAllocations:p,expenses:i,setExpenses:s,savingsGoals:c,setSavingsGoals:d,categories:g,setCategories:y,accounts:v,setAccounts:b,addItem:k,updateItem:S,removeItem:N,toggleItemActive:j,moveItem:C}},Ba=e=>{let{paySchedule:t={}}=e;const n=(0,a.useMemo)((()=>_n(t)),[t]);return{paycheckDates:n,getRelevantPaychecksForItem:(e,t)=>e&&t?((e,t,n)=>{if(!e)return[];if(!n)return[];const r=_n(n),a=new Date(e);return r.filter((e=>(t===n.secondaryAccountId&&e.secondaryDate?e.secondaryDate:e.primaryDate)<=a)).map((e=>({date:t===n.secondaryAccountId&&e.secondaryDate?e.secondaryDate:e.primaryDate,amount:t===n.secondaryAccountId&&e.secondaryDate?e.secondaryAmount:e.primaryAmount,type:t===n.secondaryAccountId&&e.secondaryDate?"secondary":"primary",index:e.index})))})(n,e,t):[]}},Ua=e=>{const t=u({planningItems:[],activeBudgetAllocations:[],expenses:[],savingsGoals:[],accounts:[],expenseAllocations:[],goalAllocations:[],paySchedule:{frequency:"bi-weekly",startDate:(new Date).toISOString().split("T")[0],splitPaycheck:!1,primaryAmount:0,secondaryAmount:0,primaryAccountId:1,secondaryAccountId:1,secondaryDaysEarly:0}},e),{paycheckDates:n,getRelevantPaychecksForItem:r}=Ba({paySchedule:t.paySchedule}),o=(e=>{let{planningItems:t=[],activeBudgetAllocations:n=[],expenses:r=[],savingsGoals:o=[],accounts:l=[],paycheckDates:i=[],getRelevantPaychecksForItem:s,expenseAllocations:c=[],goalAllocations:d=[],paySchedule:m={}}=e;return(0,a.useMemo)((()=>{const e=s||(()=>[]),a=u({frequency:"bi-weekly",startDate:(new Date).toISOString().split("T")[0],splitPaycheck:!1,primaryAmount:0,secondaryAmount:0,primaryAccountId:1,secondaryAccountId:1,secondaryDaysEarly:0},m),i=t.length>0,h=i?Da(t):r,f=i?Ia(t):o,p=[];return h.forEach((t=>{try{if("paused"===t.priorityState||"complete"===t.priorityState)return;const r=i&&n.length>0?n.find((e=>e.planningItemId===t.id)):c.find((e=>e.id===t.id));if(!r)return void p.push(u(u({},t),{},{type:"expense",timeline:null,urgencyScore:0,urgencyIndicator:{emoji:"\u26aa",label:"None",color:"text-theme-secondary"},message:"No allocation found"}));if(!t.dueDate)return void p.push(u(u({},t),{},{type:"expense",timeline:null,urgencyScore:0,urgencyIndicator:{emoji:"\u26aa",label:"None",color:"text-theme-secondary"},message:"No due date set"}));const o=l.find((e=>e.id===t.accountId));if(!o)return void p.push(u(u({},t),{},{type:"expense",timeline:null,urgencyScore:0,urgencyIndicator:{emoji:"\u26aa",label:"None",color:"text-theme-secondary"},message:"No account found"}));const s=e(o.id,t.dueDate),d=Fa({amount:t.amount,alreadySaved:t.alreadySaved||0,dueDate:t.dueDate,biweeklyAmount:r.biweeklyAmount||r.perPaycheckAmount||0,relevantPaychecks:s,paySchedule:a}),m=Pa(d),h=Ea(m),f=d&&d.message?d.message:"Unable to calculate timeline";p.push(u(u({},t),{},{type:"expense",timeline:d,urgencyScore:m,urgencyIndicator:h,message:f}))}catch(r){console.error("Error processing expense timeline for ".concat(null===t||void 0===t?void 0:t.name,":"),r),p.push(u(u({},t),{},{type:"expense",timeline:null,urgencyScore:0,urgencyIndicator:{emoji:"\u26aa",label:"Error",color:"text-red-600"},message:"Error calculating timeline"}))}})),f.forEach((t=>{try{if("paused"===t.priorityState||"complete"===t.priorityState)return;const r=i&&n.length>0?n.find((e=>e.planningItemId===t.id)):d.find((e=>e.id===t.id));if(!r)return void p.push(u(u({},t),{},{type:"savings-goal",timeline:null,urgencyScore:0,urgencyIndicator:{emoji:"\u26aa",label:"None",color:"text-theme-secondary"},message:"No allocation found"}));if(!t.targetDate)return void p.push(u(u({},t),{},{type:"savings-goal",timeline:null,urgencyScore:0,urgencyIndicator:{emoji:"\u26aa",label:"None",color:"text-theme-secondary"},message:"No target date set"}));const o=l.find((e=>e.id===t.accountId));if(!o)return void p.push(u(u({},t),{},{type:"savings-goal",timeline:null,urgencyScore:0,urgencyIndicator:{emoji:"\u26aa",label:"None",color:"text-theme-secondary"},message:"No account found"}));const s=e(o.id,t.targetDate),c=Fa({amount:t.targetAmount,alreadySaved:t.alreadySaved||0,dueDate:t.targetDate,biweeklyAmount:r.biweeklyAmount||r.perPaycheckAmount||0,relevantPaychecks:s,paySchedule:a}),m=Pa(c),h=Ea(m),f=c&&c.message?c.message:"Unable to calculate timeline";p.push(u(u({},t),{},{type:"savings-goal",timeline:c,urgencyScore:m,urgencyIndicator:h,message:f}))}catch(r){console.error("Error processing goal timeline for ".concat(null===t||void 0===t?void 0:t.name,":"),r),p.push(u(u({},t),{},{type:"savings-goal",timeline:null,urgencyScore:0,urgencyIndicator:{emoji:"\u26aa",label:"Error",color:"text-red-600"},message:"Error calculating timeline"}))}})),p}),[t,n,r,o,l,i,s,c,d,m])})(u(u({},t),{},{paycheckDates:n,getRelevantPaychecksForItem:r})),{categorizedItems:l,getTimelineForItem:i,getNextCriticalDeadline:s,getAllocationSuggestions:c,getCategoryUrgency:d}=(e=>{let{timelineItems:t=[]}=e;const n=(0,a.useMemo)((()=>{const e={critical:[],upcoming:[],onTrack:[],noDeadline:[]};return t.forEach((t=>{t.timeline?t.urgencyScore>=80?e.critical.push(t):t.urgencyScore>=50?e.upcoming.push(t):e.onTrack.push(t):e.noDeadline.push(t)})),Object.keys(e).forEach((t=>{e[t].sort(((e,t)=>t.urgencyScore-e.urgencyScore))})),e}),[t]);return{categorizedItems:n,getTimelineForItem:(e,t)=>{for(const r of Object.values(n)){const n=r.find((n=>n.id===e&&n.type===t));if(n)return n}return null},getNextCriticalDeadline:()=>0===n.critical.length?null:n.critical.reduce(((e,t)=>{const n="expense"===t.type?t.dueDate:t.targetDate;return!e||new Date(n)<new Date(e)?n:e}),null),getAllocationSuggestions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[...n.critical,...n.upcoming];return t.sort(((e,t)=>t.urgencyScore-e.urgencyScore)),t.slice(0,e)},getCategoryUrgency:e=>{const t=[];if(Object.values(n).forEach((n=>{n.forEach((n=>{n.categoryId===e&&t.push(n)}))})),0===t.length)return{score:0,indicator:"none"};const r=t.reduce(((e,t)=>e+t.urgencyScore),0)/t.length;return{score:r,indicator:Ea(r)}}}})({timelineItems:o});return{timelines:l,getTimelineForItem:i,getNextCriticalDeadline:s,getAllocationSuggestions:c,getCategoryUrgency:d}},Ha=()=>{const{planningItems:e,setPlanningItems:t,activeBudgetAllocations:n,expenses:r,savingsGoals:o,setExpenses:l,setSavingsGoals:i,addItem:s,updateItem:c,removeItem:d,toggleItemActive:m,moveItem:h,cleanupInvalidItems:f}=qa(),{categories:p,setCategories:g,generateNextCategoryId:y,addCategory:v,updateCategory:j,deleteCategory:C,fundCategory:D,toggleCategoryCollapse:I,calculateToBeAllocated:A,calculateCorrectCategoryAllocations:P}=(()=>{const[e,t]=ca("budgetCalc_categories",[{id:1,name:"Personal Care",type:"multiple",color:"bg-gradient-to-r from-purple-500 to-pink-500",collapsed:!1,allocated:0,spent:0,lastFunded:null,targetBalance:0,autoFunding:{enabled:!1,maxAmount:500,priority:"medium"}},{id:2,name:"Pet Care",type:"multiple",color:"bg-gradient-to-r from-green-500 to-blue-500",collapsed:!1,allocated:0,spent:0,lastFunded:null,targetBalance:0,autoFunding:{enabled:!1,maxAmount:500,priority:"medium"}},{id:3,name:"Savings Goals",type:"multiple",color:"bg-gradient-to-r from-purple-600 to-indigo-600",collapsed:!1,allocated:0,spent:0,lastFunded:null,targetBalance:0,autoFunding:{enabled:!1,maxAmount:500,priority:"medium"}}]),n=(0,a.useCallback)((()=>0===e.length?1:Math.max(...e.map((e=>e.id)))+1),[e]),r=(0,a.useCallback)((e=>{var r,a,o,l;if(null===(r=e.name)||void 0===r||!r.trim())throw new Error("Category name is required");if(!e.type||!["single","multiple"].includes(e.type))throw new Error('Category type must be either "single" or "multiple"');const i={name:e.name.trim(),type:e.type,color:e.color||"bg-gradient-to-r from-blue-500 to-purple-500",collapsed:!1,allocated:0,spent:0,available:0,lastFunded:null,targetBalance:e.targetBalance||0,autoFunding:{enabled:(null===(a=e.autoFunding)||void 0===a?void 0:a.enabled)||!1,maxAmount:(null===(o=e.autoFunding)||void 0===o?void 0:o.maxAmount)||500,priority:(null===(l=e.autoFunding)||void 0===l?void 0:l.priority)||"medium"},settings:u(u({},"single"===e.type&&{amount:e.amount||0,frequency:e.frequency||"monthly",dueDate:e.dueDate||null}),"multiple"===e.type&&{allowInactiveItems:!0,autoDistribution:!1}),id:n()};return t((e=>[...e,i])),i}),[n,t]),o=(0,a.useCallback)(((e,n)=>{t((t=>t.map((t=>t.id===e?n.type&&n.type!==t.type?u(u(u({},t),n),{},{settings:u(u({},"single"===n.type&&{amount:n.amount||0,frequency:n.frequency||"monthly",dueDate:n.dueDate||null}),"multiple"===n.type&&{allowInactiveItems:!0,autoDistribution:!1})}):u(u({},t),n):t))))}),[t]),l=(0,a.useCallback)((function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a=e.find((e=>e.id===n));if(!a)return{success:!1,error:"Category not found"};const o=r.filter((e=>e.categoryId===n));return o.length>0?{success:!1,error:'Cannot delete category "'.concat(a.name,'" because it has ').concat(o.length," item(s). Please move or delete the items first."),itemCount:o.length}:(t((e=>e.filter((e=>e.id!==n)))),{success:!0})}),[t,e]),i=(0,a.useCallback)((function(t,n){var r,a,l;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const s=e.find((e=>e.id===t));if(!s)return{success:!1,error:"Category not found"};if(s.type===n)return{success:!0};const c=i.filter((e=>e.categoryId===t));return"single"===n&&c.length>1?{success:!1,error:"Cannot convert to single expense because this category has ".concat(c.length," items. Single categories can only have one item.")}:(o(t,{type:n,settings:"single"===n?{amount:(null===(r=c[0])||void 0===r?void 0:r.amount)||0,frequency:(null===(a=c[0])||void 0===a?void 0:a.frequency)||"monthly",dueDate:(null===(l=c[0])||void 0===l?void 0:l.dueDate)||null}:{allowInactiveItems:!0,autoDistribution:!1}}),{success:!0})}),[e,o]),s=(0,a.useCallback)((function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=e.find((e=>e.id===t));if(!r)return null;const a=n.filter((e=>e.categoryId===t)),o=a.filter((e=>e.isActive));return{type:r.type,totalItems:a.length,activeItems:o.length,canConvertToSingle:a.length<=1,canConvertToMultiple:!0,settings:r.settings||{}}}),[e]),c=(0,a.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{const n=e.filter((e=>e.categoryId===t));return 0===n.length||1===n.length?"single":"multiple"}}),[]),d=(0,a.useCallback)((function(n,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const o=e.find((e=>e.id===n));if(!o)return{success:!1,error:"Category not found"};if(t((e=>e.map((e=>e.id===n?u(u({},e),{},{allocated:(e.allocated||0)+r,available:(e.available||0)+r,lastFunded:(new Date).toISOString()}):e)))),"single"===o.type){const e=a.find((e=>e.categoryId===n));if(e)return{success:!0,type:"single",fundedItem:e.id}}return{success:!0,type:"multiple",categoryId:n}}),[t,e]),m=(0,a.useCallback)((e=>{t((t=>t.map((t=>t.id===e?u(u({},t),{},{collapsed:!t.collapsed}):t))))}),[t]),h=(0,a.useCallback)((t=>{const n=t.reduce(((e,t)=>e+(t.balance||0)),0),r=e.reduce(((e,t)=>e+(t.allocated||0)),0);return{totalAccountBalance:n,totalAllocated:r,toBeAllocated:n-r}}),[e]),f=(0,a.useCallback)((function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.some((e=>!e.type)))return{migrated:0};let r=0;return t((e=>e.map((e=>{if(!e.type){var t,a,o;const l=n.filter((t=>t.categoryId===e.id)),i=l.length<=1?"single":"multiple";return r++,u(u({},e),{},{type:i,available:e.allocated||0,settings:"single"===i?{amount:(null===(t=l[0])||void 0===t?void 0:t.amount)||0,frequency:(null===(a=l[0])||void 0===a?void 0:a.frequency)||"monthly",dueDate:(null===(o=l[0])||void 0===o?void 0:o.dueDate)||null}:{allowInactiveItems:!0,autoDistribution:!1}})}return e})))),{migrated:r}}),[e,t]);return{categories:e,setCategories:t,generateNextCategoryId:n,addCategory:r,updateCategory:o,deleteCategory:l,fundCategory:d,toggleCategoryCollapse:m,calculateToBeAllocated:h,convertCategoryType:i,getCategoryTypeInfo:s,suggestCategoryType:c,migrateCategoriesWithTypes:f}})(),{accounts:E,setAccounts:T,addAccount:M,updateAccount:O,deleteAccount:F,transferBetweenAccounts:L,getDefaultAccount:R,getTotalBalance:_}=(()=>{const[e,t]=ca("budgetCalc_accounts",[{id:1,name:"Checking",balance:1e3,type:"checking",color:"bg-blue-500",isDefault:!0},{id:2,name:"Savings",balance:5e3,type:"savings",color:"bg-green-500",isDefault:!1}]),n=(0,a.useCallback)((n=>{const r=u(u({},n),{},{id:Math.max(...e.map((e=>e.id)),0)+1});return 0===e.length&&(r.isDefault=!0),t((e=>[...e,r])),r}),[e,t]),r=(0,a.useCallback)(((n,r)=>{if(r.isDefault)t((e=>e.map((e=>u(u({},e),{},{isDefault:e.id===n})))));else{const a=e.find((e=>e.isDefault));if(a&&a.id===n)return void t((e=>e.map((e=>e.id===n?u(u(u({},e),r),{},{isDefault:!0}):e))));t((e=>e.map((e=>e.id===n?u(u({},e),r):e))))}}),[e,t]),o=(0,a.useCallback)((n=>{const r=e.find((e=>e.id===n));if(r)if(e.length<=1)console.error("Cannot delete the only account");else if(r.isDefault){const r=e.filter((e=>e.id!==n));r[0].isDefault=!0,t(r)}else t((e=>e.filter((e=>e.id!==n))))}),[e,t]),l=(0,a.useCallback)(((n,r,a)=>{if(n===r)return void console.error("Cannot transfer to the same account");if(a<=0)return void console.error("Transfer amount must be positive");const o=e.find((e=>e.id===n));if(!o)return void console.error("From account not found");if(o.balance<a)return void console.error("Insufficient funds for transfer");const l=e.find((e=>e.id===r));if(l)return t((e=>e.map((e=>e.id===n?u(u({},e),{},{balance:e.balance-a}):e.id===r?u(u({},e),{},{balance:e.balance+a}):e)))),{fromAccount:o.name,toAccount:l.name,amount:a,date:(new Date).toISOString()};console.error("To account not found")}),[e,t]),i=(0,a.useCallback)((()=>e.find((e=>e.isDefault))||e[0]),[e]),s=(0,a.useCallback)((()=>e.reduce(((e,t)=>e+(t.balance||0)),0)),[e]);return{accounts:e,setAccounts:t,addAccount:n,updateAccount:r,deleteAccount:o,transferBetweenAccounts:l,getDefaultAccount:i,getTotalBalance:s}})(),{transactions:z,setTransactions:q,addTransaction:B,updateTransaction:U,deleteTransaction:H,filterTransactions:W}=((e,t,n,r)=>{const[o,l]=ca("budgetCalc_transactions",[]),i=(0,a.useCallback)((e=>{const n=u(u({},e),{},{id:Math.max(...o.map((e=>e.id)),0)+1,createdAt:(new Date).toISOString()});return l((e=>[...e,n])),t((e=>e.map((e=>e.id===n.accountId?u(u({},e),{},{balance:(e.balance||0)+n.amount}):n.transferAccountId&&e.id===n.transferAccountId?u(u({},e),{},{balance:(e.balance||0)-n.amount}):e)))),n.isSplit&&n.splits?(console.log("Processing split transaction category updates:",n.splits),n.splits.forEach((e=>{e.categoryId&&e.amount<0&&(r((t=>t.map((t=>t.id===e.categoryId?u(u({},t),{},{spent:(t.spent||0)+Math.abs(e.amount)}):t)))),console.log("Updated category ".concat(e.categoryId," spending by $").concat(Math.abs(e.amount))))}))):n.categoryId&&n.amount<0&&!n.transferAccountId&&(r((e=>e.map((e=>e.id===n.categoryId?u(u({},e),{},{spent:(e.spent||0)+Math.abs(n.amount)}):e)))),console.log("Updated category ".concat(n.categoryId," spending by $").concat(Math.abs(n.amount)))),n}),[o,l,t,r]),s=(0,a.useCallback)(((e,n)=>{const a=o.find((t=>t.id===e));if(!a)return;console.log("Updating transaction:",e,"old:",a,"new:",n),t((e=>e.map((e=>e.id===a.accountId?u(u({},e),{},{balance:(e.balance||0)-a.amount}):a.transferAccountId&&e.id===a.transferAccountId?u(u({},e),{},{balance:(e.balance||0)+a.amount}):e)))),a.isSplit&&a.splits?a.splits.forEach((e=>{e.categoryId&&e.amount<0&&(r((t=>t.map((t=>t.id===e.categoryId?u(u({},t),{},{spent:Math.max(0,(t.spent||0)-Math.abs(e.amount))}):t)))),console.log("Reversed category ".concat(e.categoryId," spending by $").concat(Math.abs(e.amount))))})):a.categoryId&&a.amount<0&&(r((e=>e.map((e=>e.id===a.categoryId?u(u({},e),{},{spent:Math.max(0,(e.spent||0)-Math.abs(a.amount))}):e)))),console.log("Reversed category ".concat(a.categoryId," spending by $").concat(Math.abs(a.amount))));const i=u(u(u({},a),n),{},{lastModified:(new Date).toISOString()});return l((t=>t.map((t=>t.id===e?i:t)))),t((e=>e.map((e=>e.id===i.accountId?u(u({},e),{},{balance:(e.balance||0)+i.amount}):i.transferAccountId&&e.id===i.transferAccountId?u(u({},e),{},{balance:(e.balance||0)-i.amount}):e)))),i.isSplit&&i.splits?i.splits.forEach((e=>{e.categoryId&&e.amount<0&&(r((t=>t.map((t=>t.id===e.categoryId?u(u({},t),{},{spent:(t.spent||0)+Math.abs(e.amount)}):t)))),console.log("Applied category ".concat(e.categoryId," spending by $").concat(Math.abs(e.amount))))})):i.categoryId&&i.amount<0&&!i.transferAccountId&&(r((e=>e.map((e=>e.id===i.categoryId?u(u({},e),{},{spent:(e.spent||0)+Math.abs(i.amount)}):e)))),console.log("Applied category ".concat(i.categoryId," spending by $").concat(Math.abs(i.amount)))),i}),[o,l,t,r]),c=(0,a.useCallback)((e=>{const n=o.find((t=>t.id===e));n&&(console.log("Deleting transaction:",n),t((e=>e.map((e=>e.id===n.accountId?u(u({},e),{},{balance:(e.balance||0)-n.amount}):n.transferAccountId&&e.id===n.transferAccountId?u(u({},e),{},{balance:(e.balance||0)+n.amount}):e)))),n.isSplit&&n.splits?n.splits.forEach((e=>{e.categoryId&&e.amount<0&&(r((t=>t.map((t=>t.id===e.categoryId?u(u({},t),{},{spent:Math.max(0,(t.spent||0)-Math.abs(e.amount))}):t)))),console.log("Deleted - reversed category ".concat(e.categoryId," spending by $").concat(Math.abs(e.amount))))})):n.categoryId&&n.amount<0&&(r((e=>e.map((e=>e.id===n.categoryId?u(u({},e),{},{spent:Math.max(0,(e.spent||0)-Math.abs(n.amount))}):e)))),console.log("Deleted - reversed category ".concat(n.categoryId," spending by $").concat(Math.abs(n.amount)))),l((t=>t.filter((t=>t.id!==e)))))}),[o,l,t,r]),d=(0,a.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{accountId:t,categoryId:n,startDate:r,endDate:a,minAmount:l,maxAmount:i,searchTerm:s}=e;return o.filter((e=>{if(t&&e.accountId!==t)return!1;if(n){var o;const t=e.categoryId===n,r=e.isSplit&&(null===(o=e.splits)||void 0===o?void 0:o.some((e=>e.categoryId===n)));if(!t&&!r)return!1}if(r&&new Date(e.date)<new Date(r))return!1;if(a&&new Date(e.date)>new Date(a))return!1;if(void 0!==l&&e.amount<l)return!1;if(void 0!==i&&e.amount>i)return!1;if(s){var c,u,d;const t=s.toLowerCase(),n=(null===(c=e.payee)||void 0===c?void 0:c.toLowerCase().includes(t))||(null===(u=e.memo)||void 0===u?void 0:u.toLowerCase().includes(t)),r=e.isSplit&&(null===(d=e.splits)||void 0===d?void 0:d.some((e=>{var n;return null===(n=e.memo)||void 0===n?void 0:n.toLowerCase().includes(t)})));if(!n&&!r)return!1}return!0}))}),[o]);return{transactions:o,setTransactions:l,addTransaction:i,updateTransaction:s,deleteTransaction:c,filterTransactions:d}})(0,T,0,g),{activeTab:$,setActiveTab:V,viewMode:Y,setViewMode:G,switchToTab:Q,toggleViewMode:K,showAddItem:X,setShowAddItem:J,showAddCategory:Z,setShowAddCategory:ee,showAddAccount:te,setShowAddAccount:ne,showAddTransaction:re,setShowAddTransaction:ae,editingItem:oe,setEditingItem:le,editingCategory:ie,setEditingCategory:se,editingAccount:ce,setEditingAccount:ue,editingTransaction:de,setEditingTransaction:me,preselectedCategory:he,setPreselectedCategory:fe,confirmDelete:pe,setConfirmDelete:ge,openAddItemModal:ye,openEditItemModal:ve,openAddCategoryModal:be,openEditCategoryModal:xe,openAddAccountModal:we,openEditAccountModal:ke,openAddTransactionModal:Se,openEditTransactionModal:Ne,openConfirmDeleteDialog:je,closeAllModals:Ce,collapsedCategories:De,toggleCategoryCollapse:Ie,isCategoryCollapsed:Ae}=(function(){let{categories:e=[],setCategories:t,planningItems:n=[],transactions:r=[],accounts:o=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[l,i]=ca("budgetCalc_categoryFundingHistory",[]),[s,c]=ca("budgetCalc_categoryTransfers",[]),[d,m]=ca("budgetCalc_monthlyBudget",{}),h=(0,a.useCallback)((()=>{const t=g(o.reduce(((e,t)=>e+g(t.balance||0)),0)),n=g(e.reduce(((e,t)=>e+g(t.available||0)),0));return g(t-n)}),[o,e]),f=(0,a.useCallback)((()=>{const e={};return n.filter((e=>e.isActive||!e.allocationPaused&&"active"===e.priorityState)).forEach((t=>{if(!t.categoryId)return;e[t.categoryId]||(e[t.categoryId]=0);const n="savings-goal"===t.type?t.monthlyContribution||0:t.amount||0;e[t.categoryId]+=n})),e}),[n]),p=(0,a.useCallback)((()=>{const e={};r.forEach((t=>{if(t.categoryId&&t.amount<0){e[t.categoryId]||(e[t.categoryId]=0);const n=g(Math.abs(t.amount));n>0&&(e[t.categoryId]=g(e[t.categoryId]+n))}})),t((t=>t.map((t=>{const n=g(e[t.id]||0),r=g(t.allocated||0),a=g(r-n);return u(u({},t),{},{spent:n,available:a})}))))}),[r,t]),g=e=>"number"!==typeof e||isNaN(e)?0:Math.min(Math.max(e,-1e5),1e5),y=(0,a.useCallback)((function(r,a){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;if(!r||0===a)return!1;const s=g(a);if(0===s)return!1;if(s<0){const t=e.find((e=>e.id===r));if(!t||Math.abs(s)>g(t.available||0))return!1}const c=n.filter((e=>e.categoryId===r&&(e.isActive||!e.allocationPaused&&"active"===e.priorityState)));if(t((e=>e.map((e=>{if(e.id===r){const t=g(e.allocated||0),n=g(e.available||0);return u(u({},e),{},{allocated:g(t+s),available:g(n+s),lastFunded:l.toISOString()})}return e})))),i((e=>[...e,{id:Math.max(0,...e.map((e=>e.id)))+1,categoryId:r,amount:s,paycheckId:o,date:l.toISOString(),note:o?"Funded from paycheck":"Manual funding"}])),s>0){const e=o?n.filter((e=>e.categoryId===r&&e.needsAllocation)):c.filter((e=>!e.isFullyFunded&&e.amount>(e.allocated||0)));if(e.length>0){const t=s/e.length;e.forEach((e=>{e.needsAllocation=!1;const n=e.allocated||0,r="savings-goal"===e.type?e.targetAmount:e.amount,a=Math.max(0,r-n),o=Math.min(t,a);e.allocated=n+o,e.alreadySaved=e.allocated}))}}return!0}),[t,i,n]),v=(0,a.useCallback)((function(n,r,a){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!n||!r)return!1;const l=g(a);if(l<=0)return!1;if(n===r)return!1;const i=e.find((e=>e.id===n)),s=e.find((e=>e.id===r));return!(!i||!s)&&(!(g(i.available||0)<l)&&(t((e=>e.map((e=>{if(e.id===n){const t=g(e.available||0);return u(u({},e),{},{available:g(t-l)})}if(e.id===r){const t=g(e.allocated||0),n=g(e.available||0);return u(u({},e),{},{allocated:g(t+l),available:g(n+l)})}return e})))),c((e=>[...e,{id:Math.max(0,...e.map((e=>e.id)))+1,fromCategoryId:n,toCategoryId:r,amount:a,date:(new Date).toISOString(),note:o}])),!0))}),[e,t,c]),b=(0,a.useCallback)(((e,t)=>{m((n=>u(u({},n),{},{[e]:t})))}),[m]),x=(0,a.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=g(e);if(r<=0)return{totalFunded:0,fundingResults:[],remainingToAllocate:0};const a=n.filter((e=>e.isActive&&e.needsAllocation&&e.categoryId)),o={};a.forEach((e=>{const t=parseInt(e.categoryId,10);o[t]||(o[t]=0);const n="savings-goal"===e.type?e.monthlyContribution||0:e.amount||0;o[t]+=g(n)}));const l=Object.entries(o).map((e=>{let[t,n]=e;return{categoryId:parseInt(t,10),amount:g(n),items:a.filter((e=>e.categoryId===parseInt(t,10)))}})).filter((e=>{let{amount:t}=e;return t>0})),i=g(l.reduce(((e,t)=>e+t.amount),0)),s=r<i?r/i:1;let c=0;const u=[];return l.forEach((e=>{let{categoryId:n,amount:r,items:a}=e;const o=g(Math.min(r*s,r));if(o>0){const e=y(n,o,t);e&&(c=g(c+o),u.push({categoryId:n,amount:o,success:e}),a.forEach((e=>{e.needsAllocation=!1,e.allocated=(e.allocated||0)+("savings-goal"===e.type?e.monthlyContribution:e.amount)})))}})),{totalFunded:c,fundingResults:u,remainingToAllocate:g(r-c)}}),[d,y,n]),w=(0,a.useCallback)((()=>{const t=f(),n=[];return e.forEach((e=>{const r=t[e.id]||0,a=e.available||0;r>0&&n.push({categoryId:e.id,categoryName:e.name,currentAvailable:a,neededAmount:r,suggestedFunding:Math.max(0,r-a)})})),n.sort(((e,t)=>t.suggestedFunding-e.suggestedFunding))}),[e,f]),k=(0,a.useCallback)((function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e.categoryId)return;const r=g(e.amount);if(0!==r){if(n&&n.categoryId){const e=g(n.amount);e<0&&t((t=>t.map((t=>{if(t.id===n.categoryId){const n=g(t.available||0);return u(u({},t),{},{available:g(n+Math.abs(e))})}return t}))))}r<0?t((t=>t.map((t=>{if(t.id===e.categoryId){const e=g(t.available||0),n=g(e-Math.abs(r));return u(u({},t),{},{available:n,overspent:n<0})}return t})))):r>0&&e.isInflow&&t((t=>t.map((t=>{if(t.id===e.categoryId){const e=g(t.allocated||0),n=g(t.available||0);return u(u({},t),{},{allocated:g(e+r),available:g(n+r)})}return t}))))}}),[t]),S=(0,a.useCallback)(((e,t,n)=>{const a=r.filter((r=>r.categoryId===e&&new Date(r.date)>=new Date(t)&&new Date(r.date)<=new Date(n))),o=l.filter((r=>r.categoryId===e&&new Date(r.date)>=new Date(t)&&new Date(r.date)<=new Date(n))),i=g(a.reduce(((e,t)=>t.amount<0?g(e+Math.abs(g(t.amount))):e),0)),s=g(o.reduce(((e,t)=>g(e+g(t.amount))),0));return{categoryId:e,startDate:t,endDate:n,transactions:a,funding:o,totalSpent:i,totalFunded:s,netChange:g(s-i)}}),[r,l]);(0,a.useEffect)((()=>{p()}),[r,p]);const N=(0,a.useCallback)((function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!e||!t||n<=0)return!1;if(e===t)return!1;const o=new Date;return"toBeAllocated"===e&&"number"===typeof t?y(t,n,a,o):"number"===typeof e&&"toBeAllocated"===t?y(e,-n,a,o):"number"===typeof e&&"number"===typeof t&&v(e,t,n,r)}),[y,v])}({categories:p,setCategories:g,planningItems:e,transactions:z,accounts:E}),(()=>{const[e,t]=ca("budgetCalc_activeTab","budget"),[n,r]=ca("budgetCalc_viewMode","planning"),[o,l]=(0,a.useState)(!1),[i,s]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),[f,p]=(0,a.useState)(null),[g,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(null),[x,w]=(0,a.useState)(null),[k,S]=(0,a.useState)(null),[N,j]=(0,a.useState)(null),[C,D]=ca("budgetCalc_collapsedCategories",{}),I=(0,a.useCallback)((e=>{t(e)}),[t]),A=(0,a.useCallback)((()=>{r((e=>"planning"===e?"funding":"planning"))}),[r]),P=(0,a.useCallback)((function(){S(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),p(null),l(!0)}),[]),E=(0,a.useCallback)((e=>{p(e),l(!0)}),[]),T=(0,a.useCallback)((()=>{y(null),s(!0)}),[]),M=(0,a.useCallback)((e=>{y(e),s(!0)}),[]),O=(0,a.useCallback)((()=>{b(null),d(!0)}),[]),F=(0,a.useCallback)((e=>{b(e),d(!0)}),[]),L=(0,a.useCallback)((()=>{w(null),h(!0)}),[]),R=(0,a.useCallback)((e=>{w(e),h(!0)}),[]),_=(0,a.useCallback)(((e,t,n,r)=>{j({type:e,id:t,name:n,message:r})}),[]),z=(0,a.useCallback)((()=>{l(!1),s(!1),d(!1),h(!1),p(null),y(null),b(null),w(null),S(null),j(null)}),[]),q=(0,a.useCallback)((e=>{D((t=>u(u({},t),{},{[e]:!t[e]})))}),[D]),B=(0,a.useCallback)((e=>!!C[e]),[C]);return{activeTab:e,setActiveTab:t,viewMode:n,setViewMode:r,switchToTab:I,toggleViewMode:A,showAddItem:o,setShowAddItem:l,showAddCategory:i,setShowAddCategory:s,showAddAccount:c,setShowAddAccount:d,showAddTransaction:m,setShowAddTransaction:h,editingItem:f,setEditingItem:p,editingCategory:g,setEditingCategory:y,editingAccount:v,setEditingAccount:b,editingTransaction:x,setEditingTransaction:w,preselectedCategory:k,setPreselectedCategory:S,confirmDelete:N,setConfirmDelete:j,openAddItemModal:P,openEditItemModal:E,openAddCategoryModal:T,openEditCategoryModal:M,openAddAccountModal:O,openEditAccountModal:F,openAddTransactionModal:L,openEditTransactionModal:R,openConfirmDeleteDialog:_,closeAllModals:z,collapsedCategories:C,toggleCategoryCollapse:q,isCategoryCollapsed:B}})()),{currentPay:Pe,setCurrentPay:Ee,payFrequency:Te,setPayFrequency:Me,paySchedule:Oe,setPaySchedule:Fe,roundingOption:Le,setRoundingOption:_e,bufferPercentage:ze,setBufferPercentage:qe,theme:Be,setTheme:Ue,payFrequencyOptions:He,frequencyOptions:We,categoryColors:$e,updatePaySettings:Ve,updateBudgetSettings:Ye,updateTheme:Ge,getPaycheckFrequencyDays:Qe,getPaychecksPerYear:Ke,calculateMonthlyIncome:Xe}=za(),{paychecks:Je,addPaycheck:Ze,updatePaycheck:et,deletePaycheck:tt,togglePaycheckActive:nt,recordPaycheckReceived:rt,paycheckHistory:at,getAllUpcomingPaycheckDates:it,getTotalMonthlyIncome:st}=ua(E),ct=function(){let{categories:e=[],setCategories:t,planningItems:n=[],transactions:r=[],accounts:o=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[l,i]=ca("budgetCalc_currentBudgetMonth",function(){const e=new Date;return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"))}()),[s,c]=ca("budgetCalc_monthlyBudgets",{}),[d,m]=ca("budgetCalc_monthlyBalances",{}),[h,f]=ca("budgetCalc_monthSettings",{autoCarryover:!0,warnOnOverspend:!0,showFutureMonths:3}),p=(0,a.useCallback)((e=>{const[t,n]=e.split("-");return new Date(parseInt(t),parseInt(n)-1,1).toLocaleDateString("en-US",{month:"long",year:"numeric"})}),[]),g=((0,a.useCallback)((e=>{i(e)}),[i]),(0,a.useCallback)((()=>{const[e,t]=l.split("-").map(Number),n=12===t?1:t+1,r="".concat(12===t?e+1:e,"-").concat(String(n).padStart(2,"0"));i(r)}),[l,i])),y=(0,a.useCallback)((()=>{const[e,t]=l.split("-").map(Number),n=1===t?12:t-1,r="".concat(1===t?e-1:e,"-").concat(String(n).padStart(2,"0"));i(r)}),[l,i]),v=(0,a.useCallback)((()=>{const e=[],t=new Date;for(let n=11;n>=0;n--){const r=new Date(t.getFullYear(),t.getMonth()-n,1),a="".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0"));e.push({key:a,display:p(a),isPast:n>0,isCurrent:0===n})}for(let n=1;n<=h.showFutureMonths;n++){const r=new Date(t.getFullYear(),t.getMonth()+n,1),a="".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0"));e.push({key:a,display:p(a),isFuture:!0})}return e}),[h.showFutureMonths,p]),b=(0,a.useCallback)((()=>{const e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r="".concat(t,"-").concat(String(n).padStart(2,"0"));return l>r}),[l]),x=(0,a.useCallback)((()=>{const e=new Date,t=e.getFullYear(),n=e.getMonth()+1,a="".concat(t,"-").concat(String(n).padStart(2,"0"));let o=0;return Object.keys(s).forEach((e=>{if(e>=a)return;const t=s[e]||{},n=d[e]||{};Object.keys(t).forEach((a=>{var l,i;const s=(null===(l=t[a])||void 0===l?void 0:l.allocated)||0,c=(null===(i=n[a])||void 0===i?void 0:i.available)||s,[u,d]=e.split("-").map(Number),m=r.filter((e=>{const t=new Date(e.date);return e.categoryId===parseInt(a)&&t.getFullYear()===u&&t.getMonth()+1===d&&e.amount<0})).reduce(((e,t)=>e+Math.abs(t.amount)),0),h=Math.max(0,m-c);h>0&&(o+=h)}))})),o}),[s,d,r]),w=(0,a.useCallback)((()=>s[l]||{}),[s,l]),k=(0,a.useCallback)((()=>d[l]||{}),[d,l]),S=(0,a.useCallback)((function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a=parseFloat(n)||0;c((t=>{var n,o,i,s;return u(u({},t),{},{[l]:u(u({},t[l]),{},{[e]:{allocated:((null===(n=t[l])||void 0===n||null===(o=n[e])||void 0===o?void 0:o.allocated)||0)+a,notes:r||(null===(i=t[l])||void 0===i||null===(s=i[e])||void 0===s?void 0:s.notes)||""}})})})),m((t=>{var n,r,o;return u(u({},t),{},{[l]:u(u({},t[l]),{},{[e]:u(u({},null===(n=t[l])||void 0===n?void 0:n[e]),{},{available:((null===(r=t[l])||void 0===r||null===(o=r[e])||void 0===o?void 0:o.available)||0)+a})})})})),t((t=>t.map((t=>t.id===e?u(u({},t),{},{allocated:(t.allocated||0)+a,available:(t.available||0)+a}):t))))}),[l,c,m,t]),N=(0,a.useCallback)(((e,n,r)=>{var a;const o=parseFloat(r)||0,i=(null===(a=k()[e])||void 0===a?void 0:a.available)||0;if(i<o)throw new Error("Insufficient funds in source category. Available: $".concat(i.toFixed(2)));m((t=>{var r,a,s,c;return u(u({},t),{},{[l]:u(u({},t[l]),{},{[e]:u(u({},null===(r=t[l])||void 0===r?void 0:r[e]),{},{available:i-o}),[n]:u(u({},null===(a=t[l])||void 0===a?void 0:a[n]),{},{available:((null===(s=t[l])||void 0===s||null===(c=s[n])||void 0===c?void 0:c.available)||0)+o})})})})),t((t=>t.map((t=>t.id===e?u(u({},t),{},{available:(t.available||0)-o}):t.id===n?u(u({},t),{},{available:(t.available||0)+o}):t))))}),[l,k,m,t]),j=(0,a.useCallback)((()=>{const e=o.reduce(((e,t)=>e+(t.balance||0)),0),t=w();return e-Object.values(t).reduce(((e,t)=>e+(t.allocated||0)),0)}),[o,w]),C=(0,a.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;const[t,n]=e.split("-").map(Number),a=1===n?12:n-1,o="".concat(1===n?t-1:t,"-").concat(String(a).padStart(2,"0")),i=d[o]||{},c=s[o]||{};if(0===Object.keys(i).length&&0===Object.keys(c).length)return;const h={};return new Set([...Object.keys(i),...Object.keys(c)]).forEach((e=>{var t,n;const a=(null===(t=c[e])||void 0===t?void 0:t.allocated)||0,l=(null===(n=i[e])||void 0===n?void 0:n.available)||a,[s,u]=o.split("-").map(Number),d=l-r.filter((t=>{const n=new Date(t.date);return t.categoryId===parseInt(e)&&n.getFullYear()===s&&n.getMonth()+1===u&&t.amount<0})).reduce(((e,t)=>e+Math.abs(t.amount)),0);d>0&&(h[e]=d)})),m((t=>u(u({},t),{},{[e]:u(u({},t[e]),Object.entries(h).reduce(((n,r)=>{var a,o,l;let[i,s]=r;return n[i]=u(u({},null===(a=t[e])||void 0===a?void 0:a[i]),{},{available:((null===(o=t[e])||void 0===o||null===(l=o[i])||void 0===l?void 0:l.available)||0)+s,carryover:s}),n}),{}))}))),h}),[d,s,r]),D=(0,a.useCallback)((e=>{i(e);const t=d[e]||{};Object.keys(t).length>0||setTimeout((()=>{C(e)}),100)}),[i,d,C]),I=(0,a.useCallback)((e=>{const t=w()[e]||{allocated:0,notes:""},n=k()[e]||{available:0,carryover:0};if(b())return{allocated:t.allocated,available:t.allocated,spent:0,remaining:t.allocated,carryover:0,notes:t.notes,isOverspent:!1};const a=r.filter((t=>{const n=new Date(t.date),[r,a]=l.split("-").map(Number);return t.categoryId===e&&n.getFullYear()===r&&n.getMonth()+1===a&&t.amount<0})).reduce(((e,t)=>e+Math.abs(t.amount)),0);return{allocated:t.allocated,available:n.available,carryover:n.carryover||0,spent:a,remaining:n.available-a,notes:t.notes,isOverspent:n.available-a<0}}),[w,k,r,l,b]),A=(0,a.useMemo)((()=>{const e=w(),t=k(),n=Object.values(e).reduce(((e,t)=>e+(t.allocated||0)),0);if(b())return{allocated:n,available:n,carryover:0,spent:0,remaining:n,toBeAllocated:j()};const a=Object.values(t).reduce(((e,t)=>e+(t.available||0)),0),o=Object.values(t).reduce(((e,t)=>e+(t.carryover||0)),0),[i,s]=l.split("-").map(Number),c=r.filter((e=>{const t=new Date(e.date);return t.getFullYear()===i&&t.getMonth()+1===s&&e.amount<0})).reduce(((e,t)=>e+Math.abs(t.amount)),0);return{allocated:n,available:a,carryover:o,spent:c,remaining:a-c,toBeAllocated:j()}}),[w,k,r,l,j,b]);return{currentBudgetMonth:l,setCurrentBudgetMonth:i,getMonthDisplayName:p,navigateToMonth:D,navigateToNextMonth:g,navigateToPrevMonth:y,getAvailableMonths:v,allocateToCategory:S,moveMoney:N,calculateMonthlyToBeAllocated:j,carryForwardBalances:C,getCurrentMonthBudget:w,getCurrentMonthBalances:k,getCategoryMonthData:I,getMonthSummary:A,calculateUncoveredOverspending:x,budgetMonthSettings:h,setBudgetMonthSettings:f,monthlyBudgets:s,monthlyBalances:d}}({categories:p,setCategories:g,planningItems:e,transactions:z,accounts:E}),[ut,dt]=(0,a.useState)({needed:!1,completed:!1,report:null}),[mt,ht]=(0,a.useState)(!1),[ft,pt]=(0,a.useState)(null),[gt,yt]=(0,a.useState)(!1),[vt,bt]=(0,a.useState)(Pe),xt=gt?vt:Pe,wt=_a({planningItems:e,activeBudgetAllocations:n,expenses:r,savingsGoals:o,currentPay:xt,roundingOption:Le,bufferPercentage:ze,frequencyOptions:We}),kt=Ua({planningItems:e,activeBudgetAllocations:n,expenses:r,savingsGoals:o,paySchedule:Oe,accounts:E,expenseAllocations:wt.expenseAllocations,goalAllocations:wt.goalAllocations}),St=u(u({},wt),{},{timeline:kt});(0,a.useEffect)((()=>{console.log("Migration check would happen here when enhanced categories are implemented")}),[p.length,e.length]),(0,a.useEffect)((()=>{document.documentElement.setAttribute("data-theme",Be);const e=document.querySelector('meta[name="theme-color"]');e&&e.setAttribute("content",Be.includes("dark")?"#1f2937":"#ffffff")}),[Be]),(0,a.useEffect)((()=>{console.log("Syncing category allocations with active items..."),setTimeout((()=>Ct(e,n)),1e3)}),[]);const Nt=(e,t)=>{try{"object"===typeof e?se(e):(j(e,t),console.log("\u2705 Category updated:",e),Ce())}catch(n){console.error("\u274c Error updating category:",n),alert("Error updating category: ".concat(n.message))}},jt=e=>{try{return C(e),console.log("\u2705 Category ".concat(e," deleted")),Ce(),{success:!0}}catch(t){return console.error("\u274c Category deletion failed:",t),alert("Error deleting category: ".concat(t.message)),{success:!1,error:t.message}}},Ct=(e,t)=>{try{return"function"===typeof P?P(e,t):(console.warn("calculateCorrectCategoryAllocations is not available"),0)}catch(n){return console.error("Error in safeCalculateCorrectCategoryAllocations:",n),0}},Dt=t=>{console.log("Removing item with manual sync:",t),d(t),setTimeout((()=>{Ct(e,n),console.log("Category allocations synced after item removal")}),200)},It=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("Opening payday workflow...");const t=e||it(1)[0]||{id:"current-paycheck",amount:Pe,date:(new Date).toISOString(),description:"Current Paycheck",fullyAllocated:!1};console.log("Payday workflow paycheck:",t),pt(t),ht(!0)},At=[{id:"budget",label:"Budget",icon:b},{id:"transactions",label:"Transactions",icon:x},{id:"calendar",label:"Calendar",icon:w},{id:"config",label:"Config",icon:k}],Pt=A(E);return(0,N.jsx)(Re,{backend:ot,children:(0,N.jsx)("div",{className:"min-h-screen transition-colors duration-200 bg-page text-page",children:(0,N.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(()=>{var e;return ut.completed&&null!==(e=ut.report)&&void 0!==e&&e.migrated?(0,N.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsx)("span",{className:"text-green-600",children:"\u2705"}),(0,N.jsx)("h3",{className:"font-medium text-green-800",children:"Enhanced Categories Activated!"})]}),(0,N.jsxs)("p",{className:"text-sm text-green-700 mt-1",children:[ut.report.migrated,' categories upgraded to support single and multiple expense types. Try the new "Unified" budget mode to see the enhanced interface!']})]}):null})(),(0,N.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h1",{className:"text-3xl font-bold mb-2 text-theme-primary",children:"Budgie \ud83e\udd9c"}),(0,N.jsx)("p",{className:"text-theme-secondary",children:"Cheap, cheap!"})]}),(0,N.jsxs)("div",{className:"flex space-x-2",children:[(0,N.jsx)(pa,{currentTheme:Be,setCurrentTheme:Ge}),(0,N.jsxs)("div",{className:"bg-theme-secondary px-4 py-2 rounded-lg",children:[(0,N.jsx)("div",{className:"text-xs text-theme-tertiary",children:"To Be Allocated"}),(0,N.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[Pt.toBeAllocated<0&&(0,N.jsx)(S,{className:"w-4 h-4 text-red-600"}),(0,N.jsxs)("div",{className:"font-bold ".concat(Pt.toBeAllocated>=0?"text-green-600":"text-red-600"),children:[Pt.toBeAllocated>=0?"$":"-$",Math.abs(Pt.toBeAllocated).toFixed(2)]})]})]})]})]}),(0,N.jsx)(Yn,{calculations:St,accounts:E,categories:p,currentPay:Pt.toBeAllocated,expenses:r,savingsGoals:o,timeline:kt,planningItems:e,activeBudgetAllocations:n}),mt&&(0,N.jsx)(lt,{isOpen:mt,title:"Record Paycheck & Allocate Funds",onClose:()=>ht(!1),size:"lg",children:(0,N.jsx)(Un,{paycheck:ft,accounts:E,categories:p,planningItems:e,addTransaction:B,fundCategory:D,frequencyOptions:We,darkMode:"dark"===Be,onComplete:e=>{console.log("Payday workflow completed:",e),e.completed&&e.paycheck&&rt(e.paycheck.id,u(u({},e.paycheck),{},{fullyAllocated:!0,dateAllocated:(new Date).toISOString(),allocations:e.allocations})),ht(!1),pt(null)}})}),(0,N.jsx)(Vr,{accounts:E,onAddAccount:we,onEditAccount:ke,onDeleteAccount:e=>je("account",e.id,e.name,'Delete "'.concat(e.name,'"? All associated transactions will also be deleted.'))}),(0,N.jsx)("div",{className:"border-b border-theme-secondary mb-8",children:(0,N.jsx)("nav",{className:"flex space-x-8",children:At.map((e=>{const t=e.icon;return(0,N.jsxs)("button",{onClick:()=>Q(e.id),className:"flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat($===e.id?"border-blue-500 text-blue-600":"border-transparent text-theme-tertiary hover:text-theme-secondary"),children:[(0,N.jsx)(t,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:e.label})]},e.id)}))})}),"budget"===$&&(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"flex justify-between items-center mb-3"}),(0,N.jsx)(Ur,{categories:p,planningItems:e,toBeAllocated:Pt.toBeAllocated,monthlyBudgeting:ct,fundCategory:D,transferFunds:(e,t,n)=>{console.log("handleTransferFunds called:",{fromCategoryId:e,toCategoryId:t,amount:n});try{if("toBeAllocated"===t){return D(e,-n)?(console.log("Successfully moved $".concat(n," from category ").concat(e," to Ready to Assign")),!0):(console.error("Failed to move money to Ready to Assign"),!1)}if("toBeAllocated"===e){return D(t,n)?(console.log("Successfully moved $".concat(n," from Ready to Assign to category ").concat(t)),!0):(console.error("Failed to move money from Ready to Assign"),!1)}if(D(e,-n)){return D(t,n)?(console.log("Successfully moved $".concat(n," from category ").concat(e," to category ").concat(t)),!0):(D(e,n),console.error("Failed to add money to destination category, reverted transaction"),!1)}return console.error("Failed to remove money from source category"),!1}catch(r){return console.error("Error in handleTransferFunds:",r),!1}},moveMoney:()=>{},onAddCategory:be,onEditCategory:Nt,onDeleteCategory:jt,onAddItem:ye,onEditItem:ve,onDeleteItem:e=>je("savings-goal"===e.type?"goal":"expense",e.id,e.name,'Delete "'.concat(e.name,'"?')),onToggleItemActive:(t,r)=>{((t,r)=>{console.log("Toggling item active with manual sync:",t,r),m(t,r);const a=e.map((e=>e.id===t?u(u({},e),{},{isActive:r,needsAllocation:r}):e)),o=Da(a),s=Ia(a);l(o),i(s),setTimeout((()=>{Ct(e,n),console.log("Category allocations synced after toggle active")}),200)})(t,r)},onToggleCategoryActive:(t,r)=>{((t,r)=>{console.log("Toggling category active with manual sync:",t,r);try{const a=p.find((e=>e.id===t));if(!a)throw new Error("Category with id ".concat(t," not found"));j(t,u(u({},a),{},{isActive:r})),console.log("\u2705 Category ".concat(t," active status set to: ").concat(r)),setTimeout((()=>{Ct(e,n),console.log("Category allocations synced after category toggle active")}),200)}catch(a){console.error("\u274c Error toggling category active status:",a),alert("Error toggling category: ".concat(a.message))}})(t,r)},onMoveItem:(t,r)=>{h(t,r),setTimeout((()=>{Ct(e,n),console.log("Category allocations synced after item move")}),200)},onReorderCategories:(e,t)=>{console.log("=== CATEGORY REORDER DEBUG ==="),console.log("From index:",e),console.log("To index:",t),console.log("Current categories:",p.map(((e,t)=>"".concat(t,": ").concat(e.name)))),e!==t?g((n=>{console.log("Previous categories:",n.map(((e,t)=>"".concat(t,": ").concat(e.name))));const r=[...n],[a]=r.splice(e,1);return console.log("Moved category:",a.name),r.splice(t,0,a),console.log("New categories order:",r.map(((e,t)=>"".concat(t,": ").concat(e.name)))),r})):console.log("Same index, no reorder needed")},onReorderItems:(n,r,a)=>{console.log("App: Reordering items in category ".concat(n,": ").concat(r," -> ").concat(a));const o=e.filter((e=>e.categoryId===n)),l=e.filter((e=>e.categoryId!==n));console.log("Category items before reorder:",o.map((e=>e.name)));const i=[...o],[s]=i.splice(r,1);i.splice(a,0,s),console.log("Category items after reorder:",i.map((e=>e.name)));const c=[...l,...i];t(c),console.log("Successfully reordered items!")},payFrequency:Te,payFrequencyOptions:He,getAllUpcomingPaycheckDates:it,recentPaycheck:it(1)[0]||null,onShowPaydayWorkflow:It})]}),"transactions"===$&&(0,N.jsx)(Sa,{transactions:z,accounts:E,categories:p,onAddTransaction:B,onEditTransaction:U,onDeleteTransaction:e=>je("transaction",e.id,e.payee||"Unnamed Transaction","Delete this transaction?")}),"calendar"===$&&(0,N.jsx)("div",{className:"min-h-[70vh] h-full bg-theme-primary p-4 rounded-lg",children:(0,N.jsx)(Xr,{currentPay:xt,paySchedule:Oe,savingsGoals:o,expenses:r,categories:p,frequencyOptions:We,accounts:E})}),"config"===$&&(0,N.jsxs)("div",{className:"max-w-4xl",children:[(0,N.jsx)("h2",{className:"text-2xl font-bold mb-6 text-theme-primary",children:"Configuration"}),(0,N.jsx)(ma,{showConfig:!0,setShowConfig:()=>{},takeHomePay:Pe,setTakeHomePay:Ee,whatIfMode:gt,whatIfPay:vt,setWhatIfPay:bt,roundingOption:Le,setRoundingOption:_e,bufferPercentage:ze,setBufferPercentage:qe,paySchedule:Oe,setPaySchedule:Fe,accounts:E,setShowAddAccount:we,onExport:()=>{(e=>{let t,{calculations:n,categorizedExpenses:r,planningItems:a=[],currentPay:o,bufferPercentage:l,viewMode:i,frequencyOptions:s}=e;if(a.length>0&&!r){const e=Da(a),r=Ia(a),l={};e.forEach((e=>{var t,r,a,o,i,s;l[e.categoryId]||(l[e.categoryId]={name:"Category ".concat(e.categoryId),total:0,percentage:0,expenses:[],goals:[]});const c=u(u({},e),{},{biweeklyAmount:(null===n||void 0===n||null===(t=n.expenseAllocations)||void 0===t||null===(r=t.find((t=>t.id===e.id)))||void 0===r?void 0:r.biweeklyAmount)||0,percentage:(null===n||void 0===n||null===(a=n.expenseAllocations)||void 0===a||null===(o=a.find((t=>t.id===e.id)))||void 0===o?void 0:o.percentage)||0,isFullyFunded:(null===n||void 0===n||null===(i=n.expenseAllocations)||void 0===i||null===(s=i.find((t=>t.id===e.id)))||void 0===s?void 0:s.isFullyFunded)||!1});l[e.categoryId].expenses.push(c),l[e.categoryId].total+=c.biweeklyAmount||0})),r.forEach((e=>{var t,r,a,o,i,s;l[e.categoryId]||(l[e.categoryId]={name:"Category ".concat(e.categoryId),total:0,percentage:0,expenses:[],goals:[]});const c=u(u({},e),{},{biweeklyAmount:(null===n||void 0===n||null===(t=n.goalAllocations)||void 0===t||null===(r=t.find((t=>t.id===e.id)))||void 0===r?void 0:r.biweeklyAmount)||0,percentage:(null===n||void 0===n||null===(a=n.goalAllocations)||void 0===a||null===(o=a.find((t=>t.id===e.id)))||void 0===o?void 0:o.percentage)||0,isFullyFunded:(null===n||void 0===n||null===(i=n.goalAllocations)||void 0===i||null===(s=i.find((t=>t.id===e.id)))||void 0===s?void 0:s.isFullyFunded)||!1});l[e.categoryId].goals.push(c),l[e.categoryId].total+=c.biweeklyAmount||0})),Object.values(l).forEach((e=>{e.percentage=o>0?e.total/o*100:0})),t=Object.values(l)}else t=Object.values(r).map((e=>({category:e.name,biweeklyTotal:e.total,percentage:e.percentage,items:[...e.expenses.map((e=>"".concat(e.name,": ").concat("amount"===i?Hn(e.biweeklyAmount):Wn(e.percentage),"/paycheck (").concat(e.amount," ").concat((e=>{switch(e){case"weekly":case"bi-weekly":case"per-paycheck":default:return"paycheck";case"semi-monthly":return"pay period";case"monthly":case"every-3-weeks":case"every-6-weeks":case"every-7-weeks":case"every-8-weeks":case"quarterly":case"annually":return"payment";case"once":return"one-time payment"}})(e.frequency).toLowerCase(),")").concat("paused"===e.priorityState?" [PAUSED]":"").concat(e.isFullyFunded?" [FUNDED]":""))),...e.goals.map((e=>"".concat(e.name," (Goal): ").concat("amount"===i?Hn(e.biweeklyAmount):Wn(e.percentage),"/paycheck").concat("paused"===e.priorityState?" [PAUSED]":"").concat(e.isFullyFunded?" [COMPLETE]":"")))]})));const c="BI-WEEKLY BUDGET BREAKDOWN\n"+"Take-home pay: ".concat(Hn(o),"\n")+"Total allocations: ".concat(Hn(n.totalBiweeklyAllocation)," (").concat(Wn(n.totalBiweeklyAllocation/o*100),")\n")+"Buffer (".concat(l,"%): ").concat(Hn(n.bufferAmount),"\n")+"Total with buffer: ".concat(Hn(n.totalWithBuffer)," (").concat(Wn(n.allocationPercentage),")\n")+"Remaining: ".concat(Hn(n.remainingIncome)," (").concat(Wn(n.remainingIncome/o*100),")\n\n")+t.map((e=>"".concat(e.category.toUpperCase()," - ").concat(Hn(e.biweeklyTotal),"/paycheck (").concat(Wn(e.percentage),")\n").concat(e.items.map((e=>"\u2022 ".concat(e))).join("\n")))).join("\n\n"),d=document.querySelector("[data-export-button]");if(d){const e=d.innerHTML;d.innerHTML='<svg class="w-4 h-4 mr-2 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>Copying...',setTimeout((()=>{navigator.clipboard?navigator.clipboard.writeText(c).then((()=>{d.innerHTML="\u2705 Copied to Clipboard!",setTimeout((()=>d.innerHTML=e),2e3)})).catch((()=>{d.innerHTML="\ud83d\udccb Click to Copy Again",setTimeout((()=>d.innerHTML=e),2e3),prompt("Copy this text for YNAB:",c)})):(d.innerHTML="\ud83d\udccb Manual Copy Required",setTimeout((()=>d.innerHTML=e),2e3),prompt("Copy this text for YNAB:",c))}),500)}else navigator.clipboard?navigator.clipboard.writeText(c).then((()=>{alert("Budget data copied to clipboard!")})).catch((()=>{prompt("Copy this text for YNAB:",c)})):prompt("Copy this text for YNAB:",c)})({calculations:St,categorizedExpenses:St.categorizedExpenses,currentPay:xt,bufferPercentage:ze,viewMode:"amount",frequencyOptions:We,planningItems:e})},payFrequency:Te,setPayFrequency:Me,payFrequencyOptions:He,paychecks:Je,addPaycheck:Ze,updatePaycheck:et,deletePaycheck:tt,togglePaycheckActive:nt,recordPaycheckReceived:rt,onStartPaydayWorkflow:It})]}),(0,N.jsx)(lt,{isOpen:X||null!==oe,title:oe?"Edit Budget Item":"Add Budget Item",onClose:()=>{J(!1),le(null),fe(null)},size:"md",children:(0,N.jsx)(Wr,{item:oe,onSave:function(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("DEBUG - App.js handleSaveItem called with data:",t),console.log("DEBUG - editingItem:",oe),console.log("DEBUG - addAnother:",r);try{oe?(console.log("DEBUG - Updating existing item with ID:",oe.id),((t,r)=>{console.log("Updating item with manual sync:",t,r),c(t,r),setTimeout((()=>{Ct(e,n),console.log("Category allocations synced after item update")}),200)})(oe.id,t),le(null)):(console.log("DEBUG - Adding new item"),(t=>{console.log("Adding item with manual sync:",t),s(t),setTimeout((()=>{Ct(e,n),console.log("Category allocations synced after item add")}),200)})(t),console.log("DEBUG - After addItem call"),r||(J(!1),fe(null))),console.log("DEBUG - handleSaveItem completed successfully")}catch(a){console.error("DEBUG - Error in handleSaveItem:",a)}},onCancel:()=>{J(!1),le(null),fe(null)},categories:p,accounts:E,currentPay:xt,preselectedCategory:he})}),(0,N.jsx)(lt,{isOpen:Z||null!==ie,title:ie?"Edit Category":"Add New Category",onClose:()=>{ee(!1),se(null)},size:"md",children:(0,N.jsx)(Bn,{category:ie,onSave:e=>{ie?Nt(ie.id,e):(e=>{try{const t=v(e);return console.log("\u2705 Category created:",t),Ce(),t}catch(t){console.error("\u274c Error creating category:",t),alert("Error creating category: ".concat(t.message))}})(e),ee(!1),se(null)},onCancel:()=>{ee(!1),se(null)},darkMode:Be.includes("dark"),accounts:E,currentPay:Pe,payFrequency:Te})}),(0,N.jsx)(lt,{isOpen:te||null!==ce,title:ce?"Edit Account":"Add New Account",onClose:()=>{ne(!1),ue(null)},size:"md",children:(0,N.jsx)(Yr,{account:ce,onSave:e=>{ce?(O(ce.id,e),ue(null),ne(!1)):(M(e),ne(!1))},onCancel:()=>{ne(!1),ue(null)}})}),(0,N.jsx)(lt,{isOpen:re||null!==de,title:de?"Edit Transaction":"Add New Transaction",onClose:()=>{ae(!1),me(null)},size:"md",children:(0,N.jsx)(Qr,{transaction:de,onSave:e=>{de?(U(de.id,e),me(null)):(B(e),ae(!1))},onCancel:()=>{ae(!1),me(null)},accounts:E,categories:p})}),pe&&(0,N.jsx)(ha,{title:"Confirm Delete",message:pe.message,onConfirm:()=>{switch(pe.type){case"expense":r=pe.id,Dt(r),ge(null);break;case"goal":n=pe.id,Dt(n),ge(null);break;case"category":jt(pe.id);break;case"account":t=pe.id,F(t),q(z.filter((e=>e.accountId!==t&&e.transferAccountId!==t))),ge(null);break;case"transaction":e=pe.id,H(e),ge(null)}var e,t,n,r},onCancel:()=>ge(null)})]})})})};o.createRoot(document.getElementById("root")).render((0,N.jsx)(a.StrictMode,{children:(0,N.jsx)(Ha,{})}))})();
//# sourceMappingURL=main.a16dec26.js.map